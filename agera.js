var Dt=Object.defineProperty,Nt=Object.defineProperties;var jt=Object.getOwnPropertyDescriptors;var he=Object.getOwnPropertySymbols;var It=Object.prototype.hasOwnProperty,qt=Object.prototype.propertyIsEnumerable;var ge=(P,M,L)=>M in P?Dt(P,M,{enumerable:!0,configurable:!0,writable:!0,value:L}):P[M]=L,h=(P,M)=>{for(var L in M||(M={}))It.call(M,L)&&ge(P,L,M[L]);if(he)for(var L of he(M))qt.call(M,L)&&ge(P,L,M[L]);return P},S=(P,M)=>Nt(P,jt(M));(function(){"use strict";var ue,le,fe,me;async function P(t){return new Promise((e,r)=>{$.ajax({url:t.url,type:t.method,data:t.body,dataType:"jsonp",success:n=>{e(n)},error:(n,o,s)=>{r(s instanceof Error?s:new Error(s))}})})}function M(t){const e=new FormData(t),r={};return Array.from(t.elements).forEach(n=>{var a,c;if(!(n instanceof HTMLInputElement||n instanceof HTMLSelectElement||n instanceof HTMLTextAreaElement)||!n.name)return;const o=n.name,s=(a=e.get(o))!=null?a:"",i=n.getAttribute("data-json-group");i&&(((c=r[i])!=null?c:r[i]={})[o]=s)}),Object.entries(r).map(([n,o])=>({[n]:o}))}function L(t,e){const r=t["data.name_id"];t&&r&&(e==null||e.push(["name_id",r.toString()]))}function pe(t){var r,n,o;if(((o=(n=(r=document.querySelector("[data-follow-redirect]"))==null?void 0:r.getAttribute("data-follow-redirect"))==null?void 0:n.toLowerCase())==null?void 0:o.trim())==="true")try{const s=t["data.redirect_url"];s&&typeof s=="string"&&(window.location.href=new URL(s).href)}catch(s){console.error("Invalid redirect URL:",s)}}const we=()=>{var t;try{return typeof window!="undefined"&&((t=window.agera)==null?void 0:t.dev)===!0}catch(e){return!1}},k=(t,e,r,n,...o)=>{(we()||r)&&t(`[${e}]`,n,...o)},q={log:(t,...e)=>{k(console.log,"LOG",!1,t,...e)},info:(t,...e)=>{k(console.info,"INFO",!1,t,...e)},warn:(t,...e)=>{k(console.warn,"WARN",!1,t,...e)},error:(t,...e)=>{k(console.error,"ERROR",!1,t,...e)},always:{log:(t,...e)=>{k(console.log,"LOG",!0,t,...e)},info:(t,...e)=>{k(console.info,"INFO",!0,t,...e)},warn:(t,...e)=>{k(console.warn,"WARN",!0,t,...e)},error:(t,...e)=>{k(console.error,"ERROR",!0,t,...e)}}};async function be(t){try{const e=t.agera_polling_url;if(!e)return;await J(e,t,750,Date.now(),3*60*1e3)}catch(e){console.error("error polling",e);return}}async function J(t,e,r=750,n=Date.now(),o=3*60*1e3){var l;const s=e.agera_success_url,i=e.agera_error_url,a=e.agera_cancel_url,c=e.agera_polling_responses;try{const f=await fetch(t,{});if(!f.ok){u(i);return}let m;if((l=f.headers.get("content-type"))!=null&&l.includes("application/json")?m=await f.json():m=await f.text(),D(c==null?void 0:c.failed,m)){u(i);return}else if(D(c==null?void 0:c.canceled,m)){u(a);return}else if(D(c==null?void 0:c.success,m)){u(s);return}else{if(Date.now()-n>o){q.log("Polling exceeded maximum time limit of 3 minutes"),u(i);return}setTimeout(async()=>{await J(t,e,r,n,o)},r)}}catch(f){u(i),console.warn("Polling network/fetch error:",f)}function u(f){q.log("Poller redirecting to:",f),window.location.href=new URL(f).href}}function D(t,e){return t==null?e===t:e==null||typeof t!=typeof e?!1:Array.isArray(t)?Array.isArray(e)?t.length===0?!0:t.length===1?e.every(r=>D(t[0],r)):e.length<t.length?!1:t.every((r,n)=>D(r,e[n])):!1:typeof t=="object"?Object.entries(t).every(([r,n])=>r in e&&D(n,e[r])):t===""?typeof e==typeof t:t===e}function ye(t){var u,l,f,m;const e=(u=window.agera)==null?void 0:u.onCrmResponse,r=e==null?void 0:e.onData,n=e==null?void 0:e.settings,o=(n==null?void 0:n.fieldPath)||"data.name_id",s=(f=(l=window.agera)==null?void 0:l.dev)!=null?f:!1,i=(m=n==null?void 0:n.debug)!=null?m:s,a=(g,...y)=>{var b;(i||(b=window.agera)!=null&&b.dev)&&console.log(`[agera] ${g}`,...y)};if(a(`Handling CRM Response. Path: "${o}"`,t?"":"(No CRM data provided)"),typeof r!="function"){a("Warning: window.agera.onCrmResponse.onData callback not found.");return}if(!t){try{r(void 0,void 0)}catch(g){a("Error in onData (no crmData):",g)}return}let c;try{c=o.split(".").reduce((g,y)=>g&&typeof g=="object"&&y in g?g[y]:void 0,t),a(c!==void 0?"Value extracted:":"Value not found.",c!==void 0?c:"")}catch(g){a("Error extracting value:",g),c=void 0}try{r(c,t)}catch(g){a("Error in onData callback:",g)}}const N=(t,{parentKey:e=""}={})=>{const r={};return Object.keys(t).forEach(n=>{const o=t[n],s=e?`${e}.${n}`:n;typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(r,N(o,{parentKey:s})):r[s]=o}),r};function ve(){const t=localStorage.getItem("crm_data");return t?JSON.parse(t):(localStorage.removeItem("crm_data"),{})}function Se(t){const e=N(ve());Object.keys(e).length!==0&&L(e,t)}async function Q(t){ye(t);const e=N(t);await be(t),Ae(e),pe(e)}function Ae(t){var n,o,s;const e=((s=(o=(n=document.querySelector("[data-follow-redirect]"))==null?void 0:n.getAttribute("data-follow-redirect"))==null?void 0:o.toLowerCase())==null?void 0:s.trim())!=="false",r=t.agera_polling_url;if(!(!e||r))try{const i=t.agera_redirect_url;i&&typeof i=="string"&&(q.log("Got redirect url, redirecting to:",i),window.location.href=new URL(i).href)}catch(i){console.error("Invalid redirect URL:",i)}}function Me(t,e){switch(t.tagName.toLowerCase()){case"input":case"textarea":case"select":t.value=e;break;case"a":t.href=e;break;case"img":t.src=e;break;case"video":case"audio":case"iframe":case"source":t.src=e;break;case"meta":t.content=e;break;default:t.textContent=e}}function Ee(){const t=localStorage.getItem("crm_data");if(!t)return;const e=N(JSON.parse(t));document.querySelectorAll("[data-insert-crm-response]").forEach(r=>{const n=r.getAttribute("data-insert-crm-response"),o=n?e[n]:void 0;o!==void 0&&Me(r,String(o))})}function Ce(t){return typeof t=="object"&&t.hasOwnProperty("count")&&typeof t.count=="number"&&t.hasOwnProperty("name")&&typeof t.name=="string"}const E={apiUrl:(le=(ue=document.querySelector("[api-url]"))==null?void 0:ue.getAttribute("api-url"))!=null?le:atob("aHR0cHM6Ly91dGlscy1hcGkudmVyY2VsLmFwcC9hcGkv"),counterPath:"counter/",jsDelivrUrl:"https://data.jsdelivr.com/v1/packages/gh/ageraplattformen/agera.js/resolved?specifier=latest",wfSiteId:(me=(fe=document.querySelector("html"))==null?void 0:fe.dataset.wfSite)!=null?me:"0000",postalCodeUrl:atob("aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2FnZXJhcGxhdHRmb3JtZW4vanMtbW9kdWxlc0BtYWluL3ppcC8=")},O={method:"POST",headers:{"Content-Type":"application/json"},critical:!0,waitForResponse:!0};function Le(t){var i,a,c,u,l;const e=new FormData(t),r=[],n=[],o={};for(const[f,m]of e.entries())f.startsWith("tags")?r.push(m):f.startsWith("language")?n.push(m):["given-name","family-name","email","tel","postal-code","street-address","address-level2","country"].includes(f)||(o[f]=m);const s=t.getAttribute("action")||t.getAttribute("data-crm-endpoint")||"";return S(h({},O),{url:s!=null?s:"",body:JSON.stringify({person:{given_name:e.get("given-name"),family_name:e.get("family-name"),email_addresses:[{address:e.get("email"),status:"subscribed"}],phone_numbers:[{number:(i=e.get("tel"))!=null?i:"",status:"subscribed"}],postal_addresses:[{postal_code:(a=e.get("postal-code"))!=null?a:"",address_lines:(c=e.get("street-address"))!=null?c:"",region:(u=e.get("adress-level2"))!=null?u:"",country:(l=e.get("country"))!=null?l:""}]},add_tags:[...r],"action_network:referrer_data":{source:C.source?C.source.toString():"",website:window.location.hostname+window.location.pathname},languages_spoken:[...n],custom_fields:o})})}function K(t,e=!1,r,n){const o=new FormData(t),s="data-action-id",i=t.getAttribute(s)||"No ActionID Provided",a=atob("aHR0cHM6Ly9hY3QuZGp1cmVuc3JhdHQuc2UvcmVmb3JtLXNvY2lldHkvYXBpLw==");if(e){const u=JSON.parse(n||"{}"),l=!!(r&&r["data-recruit-me"]==="true");return S(h({},O),{url:a+"update",body:JSON.stringify({partId:u.partId||"",recruitMe:l,signature:{actionId:r&&r[s]||"No ActionID Provided",source:x||"reform-campaign"}})})}const c=!!o.get("updates");return S(h({},O),{url:a+"register",body:JSON.stringify({person:{first:o.get("given-name")||"",last:o.get("family-name")||"",email:o.get("email")||"",mobile:o.get("tel")||""},acquisition:{actionId:i.toString(),source:x||"",marketingPermission:c}})})}async function Fe(t,e,r){async function n(o){try{const s=await fetch(o.url,{method:o.method,headers:o.headers,body:o.body,keepalive:!0});if(!s.ok)throw new Error(`Request failed with status ${s.status}`);await s.json()}catch(s){throw s}}await n(K(t,!0,e,r))}function Re(t){var s;const r=qe(t,{"given-name":"FNAME","family-name":"LNAME",email:"EMAIL",tel:"PHONE","street-adress":"ADDRESS","postal-code":"POSTALCODE","adress-level2":"REGION",country:"COUNTRY"}),n=(t==null?void 0:t.getAttribute("data-mailchimp-tags"))||"";n!==""&&r.append("tags",n);const o=new URLSearchParams;for(const[i,a]of r.entries())(typeof a=="string"||typeof a=="number")&&o.append(i,a.toString());return o.append("UTM",x),S(h({},O),{url:((s=t.getAttribute("action"))==null?void 0:s.replace("post?","post-json?"))+"&c=?",headers:{"Content-Type":"application/x-www-form-urlencoded"},dataType:"jsonp",body:o.toString()})}function Pe(t){var o,s,i;const e=new URL((s=(o=document.querySelector("html"))==null?void 0:o.dataset.wfSite)!=null?s:"0000","https://webflow.com/api/v1/form/"),r=new FormData(t);r.append("UTM",x);const n=new URLSearchParams({name:(i=t==null?void 0:t.getAttribute("name"))!=null?i:"form",source:window.location.href});for(const a of r.entries()){const c=`fields[${a[0]}]`;n.append(c,a[1])}return S(h({},O),{url:e.href,headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n.toString()})}function Oe(t){return S(h({},O),{url:t.getAttribute("action")||"",body:JSON.stringify({[t.getAttribute("name")||"form"]:Object.fromEntries(new FormData(t)),source:window.location.href,time:new Date().toISOString(),UTM:x})})}function ke(t){return S(h({},O),{url:"",critical:!1,dummy:!0})}const Z={actionnetwork:Le,djurensratt:K,mailchimp:Re,webflow:Pe,zapier:Oe,none:ke},Be={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},X={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},w={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},A={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},B={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class d{static getFirstMatch(e,r){const n=r.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,r){const n=r.match(e);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(e,r,n){if(e.test(r))return n}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,r,n=!1){const o=d.getVersionPrecision(e),s=d.getVersionPrecision(r);let i=Math.max(o,s),a=0;const c=d.map([e,r],u=>{const l=i-d.getVersionPrecision(u),f=u+new Array(l+1).join(".0");return d.map(f.split("."),m=>new Array(20-m.length).join("0")+m).reverse()});for(n&&(a=i-Math.min(o,s)),i-=1;i>=a;){if(c[0][i]>c[1][i])return 1;if(c[0][i]===c[1][i]){if(i===a)return 0;i-=1}else if(c[0][i]<c[1][i])return-1}}static map(e,r){const n=[];let o;if(Array.prototype.map)return Array.prototype.map.call(e,r);for(o=0;o<e.length;o+=1)n.push(r(e[o]));return n}static find(e,r){let n,o;if(Array.prototype.find)return Array.prototype.find.call(e,r);for(n=0,o=e.length;n<o;n+=1){const s=e[n];if(r(s,n))return s}}static assign(e,...r){const n=e;let o,s;if(Object.assign)return Object.assign(e,...r);for(o=0,s=r.length;o<s;o+=1){const i=r[o];typeof i=="object"&&i!==null&&Object.keys(i).forEach(c=>{n[c]=i[c]})}return e}static getBrowserAlias(e){return Be[e]}static getBrowserTypeByAlias(e){return X[e]||""}}const p=/version\/(\d+(\.?_?\d+)+)/i,_e=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},r=d.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||d.getFirstMatch(p,t);return r&&(e.version=r),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},r=d.getFirstMatch(p,t)||d.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},r=d.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||d.getFirstMatch(p,t);return r&&(e.version=r),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},r=d.getFirstMatch(p,t)||d.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},r=d.getFirstMatch(p,t)||d.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},r=d.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||d.getFirstMatch(p,t);return r&&(e.version=r),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},r=d.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||d.getFirstMatch(p,t);return r&&(e.version=r),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},r=d.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||d.getFirstMatch(p,t);return r&&(e.version=r),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},r=d.getFirstMatch(p,t)||d.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},r=d.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||d.getFirstMatch(p,t);return r&&(e.version=r),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},r=d.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||d.getFirstMatch(p,t);return r&&(e.version=r),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},r=d.getFirstMatch(p,t)||d.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},r=d.getFirstMatch(p,t)||d.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},r=d.getFirstMatch(p,t)||d.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},r=d.getFirstMatch(p,t)||d.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},r=d.getFirstMatch(p,t)||d.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},r=d.getFirstMatch(p,t)||d.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},r=d.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||d.getFirstMatch(p,t);return r&&(e.version=r),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=d.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||d.getFirstMatch(p,t);return r&&(e.version=r),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},r=d.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},r=d.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},r=d.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},r=d.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},r=d.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},r=d.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(e.version=r),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},r=d.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},r=d.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},r=d.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},r=d.getFirstMatch(p,t)||d.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},r=d.getFirstMatch(p,t)||d.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},r=d.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},r=d.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||d.getFirstMatch(p,t);return r&&(e.version=r),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},r=d.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||d.getFirstMatch(p,t);return r&&(e.version=r),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},r=d.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},r=d.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},r=d.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},r=d.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||d.getFirstMatch(p,t);return r&&(e.version=r),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},r=d.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},r=d.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e={name:"Android Browser"},r=d.getFirstMatch(p,t);return r&&(e.version=r),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},r=d.getFirstMatch(p,t);return r&&(e.version=r),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},r=d.getFirstMatch(p,t);return r&&(e.version=r),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,o=t.search("\\(")!==-1?r:e;return{name:d.getFirstMatch(o,t),version:d.getSecondMatch(o,t)}}}],xe=[{test:[/Roku\/DVP/],describe(t){const e=d.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:A.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=d.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:A.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=d.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=d.getWindowsVersionName(e);return{name:A.Windows,version:e,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:A.iOS},r=d.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(e.version=r),e}},{test:[/macintosh/i],describe(t){const e=d.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=d.getMacOSVersionName(e),n={name:A.MacOS,version:e};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=d.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:A.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e=d.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=d.getAndroidVersionName(e),n={name:A.Android,version:e};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=d.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:A.WebOS};return e&&e.length&&(r.version=e),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=d.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||d.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||d.getFirstMatch(/\bbb(\d+)/i,t);return{name:A.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=d.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:A.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=d.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:A.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:A.Linux}}},{test:[/CrOS/],describe(){return{name:A.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=d.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:A.PlayStation4,version:e}}}],Ue=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=d.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:w.mobile,vendor:"Huawei"};return e&&(r.model=e),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:w.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:w.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:w.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:w.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:w.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:w.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return e&&!r},describe(t){const e=d.getFirstMatch(/(ipod|iphone)/i,t);return{type:w.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:w.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:w.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:w.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:w.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:w.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:w.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:w.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:w.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:w.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:w.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:w.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:w.tv}}}],Te=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:B.Blink};const r=d.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:B.EdgeHTML,version:r}}},{test:[/trident/i],describe(t){const e={name:B.Trident},r=d.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:B.Presto},r=d.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=t.test(/gecko/i),r=t.test(/like gecko/i);return e&&!r},describe(t){const e={name:B.Gecko},r=d.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:B.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:B.WebKit},r=d.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}}];class Y{constructor(e,r=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=d.find(_e,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=d.find(xe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:r}=this.getOS();return e?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:r}=this.getPlatform();return e?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const e=d.find(Ue,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=d.find(Te,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return d.assign({},this.parsedResult)}satisfies(e){const r={};let n=0;const o={};let s=0;if(Object.keys(e).forEach(a=>{const c=e[a];typeof c=="string"?(o[a]=c,s+=1):typeof c=="object"&&(r[a]=c,n+=1)}),n>0){const a=Object.keys(r),c=d.find(a,l=>this.isOS(l));if(c){const l=this.satisfies(r[c]);if(l!==void 0)return l}const u=d.find(a,l=>this.isPlatform(l));if(u){const l=this.satisfies(r[u]);if(l!==void 0)return l}}if(s>0){const a=Object.keys(o),c=d.find(a,u=>this.isBrowser(u,!0));if(c!==void 0)return this.compareVersion(o[c])}}isBrowser(e,r=!1){const n=this.getBrowserName().toLowerCase();let o=e.toLowerCase();const s=d.getBrowserTypeByAlias(o);return r&&s&&(o=s.toLowerCase()),o===n}compareVersion(e){let r=[0],n=e,o=!1;const s=this.getBrowserVersion();if(typeof s=="string")return e[0]===">"||e[0]==="<"?(n=e.substr(1),e[1]==="="?(o=!0,n=e.substr(2)):r=[],e[0]===">"?r.push(1):r.push(-1)):e[0]==="="?n=e.substr(1):e[0]==="~"&&(o=!0,n=e.substr(1)),r.indexOf(d.compareVersions(s,n,o))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,r=!1){return this.isBrowser(e,r)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class De{static getParser(e,r=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new Y(e,r)}static parse(e){return new Y(e).getResult()}static get BROWSER_MAP(){return X}static get ENGINE_MAP(){return B}static get OS_MAP(){return A}static get PLATFORMS_MAP(){return w}}function ee(){const t=De.parse(window.navigator.userAgent),e=t.platform.type==="mobile",r=window.innerWidth<=767,n="ontouchstart"in window||navigator.maxTouchPoints>0,o=window.innerHeight>window.innerWidth,s=/iPhone|Android.*Mobile|Mobile.*Firefox|samsung|pixel/i.test(navigator.userAgent);return e||r&&n&&o&&s?"mobile":t.platform.type||"desktop"}function Ne(){const t=ee(),e=new Set(["mobile","desktop","tablet","tv","!mobile","!desktop","!tablet","!tv"]);document.querySelectorAll("[data-remove-on-device]").forEach(r=>{var s;const n=(s=r.dataset.removeOnDevice)==null?void 0:s.toLowerCase().trim();if(!n||!e.has(n)){n&&console.warn(`Invalid rule "${n}" for data-remove-on-device on element:`,r);return}(n.startsWith("!")?t!==n.substring(1):t===n)&&r.remove()})}async function te(t,e){var s;const r={method:t.method,headers:h(h({},t.headers),t.url.includes(E.apiUrl)&&{"x-source":window.location.href,"x-device-type":ee()}),body:t.body},n=((s=e==null?void 0:e.waitForResponse)==null?void 0:s.toLowerCase())!=="false",o=Number(e==null?void 0:e.waitForResponseDelay)||100;try{if(t.dataType==="jsonp")return await P(t);if(!n)return"keepalive"in new Request("")?(console.warn("not waiting for response, using keepalive..."),fetch(t.url,S(h({},r),{keepalive:!0}))):(console.warn("Using sendBeacon..."),navigator.sendBeacon(t.url,r.body)),new Promise(c=>setTimeout(c,o));const i=await fetch(t.url,r);if(!i.ok)throw new Error(`Error fetching ${t.url}: ${i.statusText}`);const a=i.headers.get("Content-Type");return a!=null&&a.includes("application/json")?await i.json():await i.text()}catch(i){throw new Error(`Error fetching ${t.url}: ${String(i)}`)}}async function je(t,e,r,n,o,s,i){const a=new URL("fcrm/",E.apiUrl).toString();let c;(r==null?void 0:r.waitForResponse)!==void 0?c=r.waitForResponse:(i==null?void 0:i.waitForResponse)!==void 0?c=i.waitForResponse:c="false",i=S(h({},i),{waitForResponse:c});const u=r["data-crm-endpoint"]||r["data-profundo-url"],l={method:s.toUpperCase(),headers:{"Content-Type":"application/json"},url:a,body:JSON.stringify(h(S(h(S(h(h({crm:t},e?{client:e}:{}),u?{crm_endpoint:u}:{}),{attributes:r,response:JSON.parse(o),body:n?h({},Object.fromEntries(n)):{}}),_.size>0?{query_params:h({},Object.fromEntries(_))}:{}),{source:window.location.href}),j?h({},j):{}))};return te(l,i)}function Ie(){const t=localStorage.getItem("crm_data")||"{}",e=[...document.querySelectorAll("[data-crm-patch]"),...document.querySelectorAll("[data-profundo-client]")];if(e.length===0)return;async function r(n){var f,m,g,y,b,v,F,T;(f=window.agera)!=null&&f.dev&&console.log("Handling PATCH event");const o=n.currentTarget,s=(m=o.getAttribute("data-crm-patch"))!=null?m:o.getAttribute("data-profundo-client")?"profundo":"",i=(y=(g=o.getAttribute("data-client"))!=null?g:o.getAttribute("data-profundo-client"))!=null?y:"";let a=(b=o.getAttribute("data-crm-patch-method"))!=null?b:"POST";s==="unhcrse"&&(a="PATCH");const c={};[...o.attributes].forEach(R=>{R.name.startsWith("data-")&&(c[R.name]=R.value)});const u=(F=(v=document.querySelector("[data-load-petition]"))!=null?v:o.closest("form"))!=null?F:null,l=u?new FormData(u):new FormData;if(!Z.hasOwnProperty(s)){(T=window.agera)!=null&&T.dev&&console.log("Patching FCRM");const R=await je(s,i,c,l,t,a,u==null?void 0:u.dataset);R&&(localStorage.setItem("crm_data",JSON.stringify(R)),Q(R));return}s==="djurensratt"&&u&&await Fe(u,c,t)}e.forEach(n=>{n.addEventListener("click",o=>{try{r(o).then(()=>{}).catch(s=>{console.error("Error handling patch:",s)})}catch(s){console.error("Error handling patch:",s)}}),n.style.cursor="pointer"})}function qe(t,e){const r=new FormData;for(const[n,o]of new FormData(t))e.hasOwnProperty(n)?r.append(e[n],o):r.append(n,o);return r}const _=new URLSearchParams(window.location.search);function Ve(){function t(r){var o;const n=[..._.keys()].find(s=>s.toLowerCase().includes(r));return n&&(o=_.get(n))!=null?o:""}return{source:t("source").toLowerCase(),campaign:t("campaign").toLowerCase(),medium:t("medium").toLowerCase(),content:t("content").toLowerCase(),term:t("term").toLowerCase(),wec:t("wec").toLowerCase()}}const C=Ve(),x=Array.from(_,([t,e])=>`${t.toLowerCase()}: ${e.toLowerCase()}`).join(", "),j={utms:h(h(h(h(h(h({},C.campaign?{utm_campaign:C.campaign}:{}),C.source?{utm_source:C.source}:{}),C.medium?{utm_medium:C.medium}:{}),C.content?{utm_content:C.content}:{}),C.term?{utm_term:C.term}:{}),C.wec?{utm_wec:C.wec}:{})};function re(t){var o,s;const e=new FormData(t),r={};if(t){Array.from(t.attributes).forEach(a=>{a.name.startsWith("data-")&&(r[a.name]=a.value)}),r["data-site-id"]=r["data-site-id"]||E.wfSiteId;const i=M(t);i&&e.append("json-groups",JSON.stringify(i))}return S(h({},O),{url:new URL("fcrm/",E.apiUrl).toString(),body:JSON.stringify(h(S(h(h(S(h(h({crm:(o=t==null?void 0:t.dataset.crm)!=null?o:""},t!=null&&t.dataset.client?{client:t.dataset.client}:{}),t!=null&&t.dataset.crmEndpoint||t!=null&&t.action&&!t.action.includes(window.location.host)?{crm_endpoint:(s=t==null?void 0:t.dataset.crmEndpoint)!=null?s:t==null?void 0:t.action}:{}),{body:h({},Object.fromEntries(e))}),j?h({},j):{}),_.size>0?{query_params:h({},Object.fromEntries(_))}:{}),{source:window.location.href}),r?{attributes:h({},r)}:{}))})}async function $e(t,e,r){try{const n=await Promise.allSettled(t.map(s=>s.dummy?Promise.resolve({success:!0}):te(s,e.dataset)));n.some((s,i)=>s.status==="rejected"&&t[i].critical)?V(!1,!1,e,r):(await He(n),V(!0,!0,e,r))}catch(n){console.error("Error in Promise.allSettled:",n),V(!1,!1,e,r)}}async function He(t){const e=[];if(t.forEach((r,n)=>{if(r.status==="fulfilled"&&r.value!==null){const o=r.value;if(typeof r.value=="object"&&!Ce(o)){const s=r.value;e.push(s)}else typeof r.value=="string"&&e.push({[n.toString()]:r.value})}}),e.length>0){const r={};e.forEach(n=>{Object.assign(r,n)}),localStorage.setItem("crm_data",JSON.stringify(r)),await Q(r)}}function V(t,e,r,n){var a,c,u,l;const o=(a=r.parentNode)==null?void 0:a.querySelector(".w-form-done"),s=(c=r.parentNode)==null?void 0:c.querySelector(".w-form-fail"),i=((l=(u=r.dataset)==null?void 0:u.showSuccess)==null?void 0:l.toLowerCase())!=="false";t?(i&&(o==null||o.style.setProperty("display","block"),r.style.display="none"),e&&We(r,n)):(o==null||o.style.setProperty("display","none"),s==null||s.style.setProperty("display","block"),n.submitButton&&(n.submitButton.value=n.submitText))}function We(t,e){var n;const r=(n=t.getAttribute("redirect"))!=null?n:null;if(r)if(e.addUtm){const o=new URL(r,e.thisUrl),s=new URLSearchParams(window.location.search);o.searchParams.forEach((a,c)=>{s.has(c)||s.set(c,a)});const i=o.origin+o.pathname+(s.toString()?`?${s.toString()}`:"");window.location.href=i}else window.location.href=r;else e.submitButton&&(e.submitButton.value=e.submitButton.dataset.successText||e.submitText),console.warn("No redirect defined")}function ze(t){const e=/^data-counter(\d+)?-update$/;return Array.from(t.attributes).filter(n=>e.test(n.name)).map(n=>{const o=/\d+/.exec(n.name),s=o?o[0]:null,i=n.value,a=`data-counter${s||""}-add-amount`,c=t.querySelector(`[${a}]`),u=c?Number(c.value||c.getAttribute(a)):null;return Ge(i,t,u)})}function Ge(t,e,r){const n=new FormData(e);return S(h({},O),{critical:!1,url:new URL(E.counterPath+t,E.apiUrl).toString(),body:JSON.stringify(h({form:"default",site_id:E.wfSiteId,last_person:n.get("given-name")||"",form_url:window.location.href},r?{add_amount:r}:{}))})}function Je(t){var n,o,s;const e={thisUrl:new URL(window.location.href),addUtm:(n=t.dataset.redirectUtm)!=null?n:!0,submitButton:t.querySelector('input[type="submit"]'),submitText:(s=(o=t.querySelector('input[type="submit"]'))==null?void 0:o.value)!=null?s:""};async function r(i){var l,f,m,g;i.preventDefault(),i.stopPropagation(),e.submitButton&&(e.submitButton.value=(l=e.submitButton.dataset.wait)!=null?l:e.submitButton.value);const a=[],c=(m=(f=t.dataset.crm)==null?void 0:f.toLowerCase())!=null?m:"webflow",u=(g=Z[c])!=null?g:re;a.push(u(t)),u!==re&&a.push(...ze(t)),a.length&&await $e(a,t,e)}t.addEventListener("submit",i=>{i.preventDefault(),r(i).catch(a=>console.error(a))})}function Qe(){document.querySelectorAll("[data-crm]").forEach(e=>{Je(e)})}function Ke(){console.warn("[agera]: Older browser. Disabling form submission, Agera.js disabled."),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("form").forEach(t=>{t.querySelectorAll('input[type="submit"], button[type="submit"], button:not([type])').forEach(r=>{r instanceof HTMLElement&&(setTimeout(()=>{r.disabled=!0,r.setAttribute("disabled","disabled")},300),r.insertAdjacentHTML("beforebegin",'<div style="color:red;font-weight:bold;margin:10px 0">This browser is not supported. Please use a modern browser.</div>'))})})})}class Ze{constructor(){this.cache=new Map,this.pendingRequests=new Map}async getCounter(e){if(this.cache.has(e))return this.cache.get(e);if(this.pendingRequests.has(e))return this.pendingRequests.get(e);const r=this.fetchCounter(e);this.pendingRequests.set(e,r);try{const n=await r;return this.cache.set(e,n),n}finally{this.pendingRequests.delete(e)}}async fetchCounter(e){const r=new URL(E.counterPath+e,E.apiUrl);try{const n=await fetch(r,{headers:{"x-source":window.location.href}});if(!n.ok)throw new Error(`HTTP ${n.status}`);return await n.json()}catch(n){return console.error("Error fetching counter:",n),{count:0,name:e,last_person:{names:[]}}}}}const Xe=new Ze;async function Ye(){try{const t=await fetch(E.jsDelivrUrl);if(!t.ok)return"latest";const e=await t.json();return e!=null&&e.version?`v${e.version}`:"latest"}catch(t){return console.error(t),"latest"}}function et(){function t(a,c){return a>=c?100:Math.round(a/c*100)}function e(a){const c={350:50,500:100,2e3:250,5e3:500,2e4:2500,5e4:5e3,1e5:1e4,2e5:25e3,5e5:5e4,1e6:1e5},u=25e4,f=Object.keys(c).map(Number).find(g=>g>=a),m=f?c[f]:u;return Math.ceil(a*1.05/m)*m}function r(a,c){return a*1.05<c.target?c.target:e(a)}function n(a,c,u){a.style.width=t(c,u)+"%"}function o(a,c,u){try{const l=new Intl.NumberFormat(u.locale,u.notation).format(c);a.textContent=l}catch(l){u.notation.useGrouping=!1,u.notation.notation="standard";const f=new Intl.NumberFormat(void 0,u.notation).format(c);a.textContent=f}}function s(a,c,u){c<=u.removeBelow&&(a.style.display="none"),c>=u.hideBelow&&(a.style.opacity="1")}async function i(a){var b;const c=a.dataset.counterName||"default",u={target:parseInt(a.dataset.counterTarget||"0",10),hideBelow:parseInt(a.dataset.counterHideBelow||"0"),removeBelow:parseInt(a.dataset.counterRemoveBelow||"0"),autoTarget:!!a.dataset.counterAutoTarget||!0,locale:a.dataset.counterLocale||document.documentElement.lang||"undefined",notation:{notation:((b=a.dataset.counterNotation)==null?void 0:b.toLowerCase())||"standard",useGrouping:!0}};async function l(v){var F,T;try{if(v.toLowerCase()==="default")return 125;const R=await Xe.getCounter(v);return window.agera=(F=window.agera)!=null?F:{},window.agera.counterValues=(T=window.agera.counterValues)!=null?T:{},window.agera.counterValues[v]=R.count,R.count}catch(R){return console.error(`Error getting counter value for ${v}:`,R),0}}const f=await l(c);if(a.classList.contains("counter-current-value"))o(a,f,u),s(a,f,u);else{const v=a.querySelectorAll(".counter-current-value");for(const F of v)o(F,f,u),s(F,f,u)}const m=r(f,u),g=a.querySelectorAll(".counter-target-value");for(const v of g)o(v,m,u),s(v,f,u);const y=a.querySelectorAll(".counterbar-limiter");for(const v of y)n(v,f,m);s(a,f,u)}return{processCounterElement:i}}function tt(){const t=".counter-target-value, .counter-current-value, .counter_container { opacity: 0; transition: opacity 0.7s; }",e=document.createElement("style");e.textContent=t,document.head.appendChild(e)}async function rt(){const t=document.querySelectorAll("[data-counter-name]"),e=et();for(const r of t)await e.processCounterElement(r)}function H(t){var r;return JSON.parse((r=localStorage.getItem(t))!=null?r:"{}")}function nt(){const t="data-clear-localstorage",e=document.querySelector(`[${t}]`);if(!e)return;const r=e.getAttribute(t),n=e.matches("a, button"),o=()=>{(r==null?void 0:r.toLowerCase())==="true"||(r==null?void 0:r.toLowerCase())==="all"?(console.log("Clearing all local storage"),localStorage.clear()):r&&(console.log("Clearing local storage key:",r),localStorage.removeItem(r))};n?e.addEventListener("click",s=>{s.preventDefault(),o(),document.querySelectorAll("form").forEach(i=>{i.reset(),i.querySelectorAll("input").forEach(a=>{a.value="",a.type==="hidden"&&a.remove()})}),window.location.reload()}):o()}function ot(){e();function e(){try{const i=localStorage.getItem("forwardedform");if(!i)return;const a=JSON.parse(i);if(!a._timestamp)return;const c=parseInt(a._timestamp,10),u=Date.now(),l=1*60*60*1e3;u-c>l&&localStorage.removeItem("forwardedform")}catch(i){console.error("Error cleaning up expired form data:",i)}}function r(i){const a=H("forwardedform");Se(Object.entries(a));function c(f){const m=Array.from(new URLSearchParams(window.location.search),([g,y])=>`${g}: ${y}`).join(", ");return f.utm=m,f}const u=c(a);function l(f){Object.entries(f).forEach(([m,g])=>{if(g){if(m==="_timestamp")return;const y=document.createTextNode(g).textContent,b=`<input type="hidden" id="${m}" name="${m}" value="${y}">`;i.insertAdjacentHTML("afterbegin",b)}})}l(u)}function n(i){const a=new URLSearchParams(window.location.search),c=Array.from(a,([f,m])=>`${f}: ${m}`),u=i.getAttribute("redirect");if(u){const f=u+(u!=null&&u.includes("?")?"&":"?")+a.toString();i.setAttribute("redirect",f),i.setAttribute("data-redirect",f)}window.addEventListener("beforeunload",()=>{l(i)});function l(f){if(f instanceof HTMLFormElement){const m=new FormData(f),g=c.join(", ");m.set("utm",g),m.set("_timestamp",Date.now().toString()),localStorage.setItem("forwardedform",JSON.stringify(Object.fromEntries(m)))}}}const o=document.querySelectorAll("[data-crm]");o.length>0&&o.forEach(function(i){n(i)});const s=document.querySelectorAll('[data-load-petition="true"]');s.length>0&&s.forEach(function(i){r(i)})}function st(){var e;const t=document.querySelector("form[data-auto-submit]");if(t&&((e=t.getAttribute("data-auto-submit"))==null?void 0:e.toLowerCase())==="true"){if(!t.checkValidity()){console.warn("Form validation failed.");return}const r=new Event("submit",{bubbles:!0,cancelable:!0});t.dispatchEvent(r)}}function it(){document.querySelectorAll("[data-copy]").forEach(e=>{e.addEventListener("mouseover",function(){e.style.cursor="pointer"}),e.addEventListener("click",async function(){let r="";const n=e.getAttribute("data-copy");if((n==null?void 0:n.toLowerCase())==="url")r=window.location.href;else if((n==null?void 0:n.toLowerCase())==="prev-url")r=document.referrer||"";else{const o=document.getElementById(n);o!=null&&o.textContent?r=o.textContent:r=n||""}try{await navigator.clipboard.writeText(r),console.log("Copied to clipboard:",r.toString())}catch(o){console.error("Failed to copy: ",o)}})})}async function at(){const t=document.querySelectorAll("[data-js-version]");if(t.length<1)return;const e=document.querySelector('script[src$="agera.js"]');let r="";if(e){const{src:n}=e,o=/@([^/]+)/.exec(n);if(o){const[,s]=o;r=s,r.toLowerCase().includes("latest")&&(r=await Ye())}}r!==""&&t.forEach(n=>{n.innerText=r})}function ct(){document.querySelectorAll("[data-hide-if-data], [data-show-if-data]").forEach(t=>{var i,a;const e=(i=t.getAttribute("data-hide-if-data"))!=null?i:t.getAttribute("data-show-if-data");if(!e)return;const r=!!t.getAttribute("data-hide-if-data"),n=e&&(a=new URLSearchParams(window.location.search).get(e))!=null?a:"",o=e&&H("forwardedform")[e]||"",s=!!(n||o);t.style.display=r===s?"none":"",t.style.display=="none"&&t.getAttribute("name")&&t.setAttribute("name",t.getAttribute("name")+"-hidden"),r&&t.tagName==="INPUT"&&t.required&&(t.required=!1)})}function ne(t,e){try{const r=new URL(t,document.baseURI),n=new URL(r.toString()),o=n.searchParams;return e.forEach((s,i)=>{o.has(i)||o.set(i,s)}),n.toString()}catch(r){return console.error("Error updating URL with UTM params:",r),t}}function dt(){const t=new URLSearchParams(window.location.search);document.querySelectorAll("[data-redirect]").forEach(r=>{const n=r.getAttribute("data-redirect");if(n){const o=ne(n,t);r.setAttribute("data-redirect",o)}})}function ut(){const t=document.querySelectorAll("a[href]"),e=new URLSearchParams(window.location.search);t.forEach(r=>{if(!r.href.includes("#"))try{const n=ne(r.href,e);r.href=n}catch(n){console.warn("Invalid URL",r.href)}})}function lt(){const t=document.querySelectorAll("[data-insert-localstorage]");let e={};try{const r=localStorage.getItem("forwardedform");if(r){const n=JSON.parse(r);n&&typeof n=="object"&&(e=n)}}catch(r){console.error("Error parsing localStorage data:",r);return}Object.keys(e).length!==0&&t.forEach(r=>{const n=r.getAttribute("data-insert-localstorage");if(n&&n in e){const o=e[n];o!=null&&(r instanceof HTMLInputElement||r instanceof HTMLSelectElement||r instanceof HTMLTextAreaElement?r.value=o.toString():r.textContent=o.toString())}})}const oe="data-insert-name";function ft(t,e){let r="";const n=["first_name","first-name","firstname","fn","first","fname","f-name","n","given_name","given-name","givenname","gn","g-n","given"];[...Object.entries(t),...Array.from(e.entries())].forEach(([s,i])=>{n.includes(s.toLowerCase())&&(r=i)});const o=document.querySelectorAll(`[${oe}]`);o.length>0&&r!==""&&mt(o,r)}function mt(t,e){const r={"no-space":e,"leading-space":"&nbsp;"+e,"trailing-space":e+"&nbsp;","double-space":"&nbsp;"+e+"&nbsp;","":"&nbsp;"+e};t.forEach(n=>{const o=n.getAttribute(oe)||"leading-space";r.hasOwnProperty(o)&&(n.innerHTML=r[o])})}function ht(){const t=H("forwardedform"),e=new URLSearchParams(window.location.search);ft(t,e)}const W=typeof Buffer=="function",se=typeof TextDecoder=="function"?new TextDecoder:void 0;typeof TextEncoder=="function"&&new TextEncoder;const gt=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),I=(t=>{let e={};return t.forEach((r,n)=>e[r]=n),e})(gt),pt=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,U=String.fromCharCode.bind(String),ie=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),ae=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),wt=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,bt=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),r=e-65536;return U((r>>>10)+55296)+U((r&1023)+56320);case 3:return U((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return U((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},yt=t=>t.replace(wt,bt),ce=typeof atob=="function"?t=>atob(ae(t)):W?t=>Buffer.from(t,"base64").toString("binary"):t=>{if(t=t.replace(/\s+/g,""),!pt.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,r="",n,o;for(let s=0;s<t.length;)e=I[t.charAt(s++)]<<18|I[t.charAt(s++)]<<12|(n=I[t.charAt(s++)])<<6|(o=I[t.charAt(s++)]),r+=n===64?U(e>>16&255):o===64?U(e>>16&255,e>>8&255):U(e>>16&255,e>>8&255,e&255);return r},vt=W?t=>ie(Buffer.from(t,"base64")):t=>ie(ce(t).split("").map(e=>e.charCodeAt(0))),St=W?t=>Buffer.from(t,"base64").toString("utf8"):se?t=>se.decode(vt(t)):t=>yt(ce(t)),At=t=>ae(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),Mt=t=>St(At(t));function Et(){document.querySelectorAll("[data-insert-query]").forEach(e=>{const r=e.getAttribute("data-insert-query");if(r){const n=new URLSearchParams(window.location.search).get(r);n!==null&&(e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement?e.value=n.toString():e.textContent=n.toString())}})}function Ct(){document.querySelectorAll("[data-insert-b64-query]").forEach(e=>{var n;const r=e.getAttribute("data-insert-b64-query");if(r){const o=Mt((n=new URLSearchParams(window.location.search).get(r))!=null?n:"");o&&(e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement?e.value=o.toString():e.textContent=o.toString())}})}const z={DK:/^\d{4}$/,FI:/^(FI-|AX-)?\d{5}$/,NO:/^\d{4}$/,SE:/^(SE-)?\d{3}[ ]?\d{2}$/};function Lt(){async function t(n){const o=`${E.postalCodeUrl}${n}.js`;return(!z.hasOwnProperty(n)||!o)&&console.error("Unsupported country code"),(await import(o))[n]}async function e(n){var l,f,m,g,y;if(!(((l=n.getAttribute("data-postalcode-place-autofill"))==null?void 0:l.toLowerCase())==="true"))return;const s=n.querySelectorAll('[name="postal-code"]'),i=n.querySelectorAll('[name="address-level2"]'),a=(m=(f=n.dataset.countryCode)==null?void 0:f.toUpperCase())!=null?m:"",c=(g=Array.from(s).find(b=>b.type!=="hidden"&&b.offsetParent!==null))!=null?g:s[0],u=(y=Array.from(i).find(b=>b.type!=="hidden"&&b.offsetParent!==null))!=null?y:i[0];if(!u||!c||a===""||!z.hasOwnProperty(a)){console.error("Visible postal code input, visible city output, or supported country not found");return}try{const b=await t(a),v=!1;c.addEventListener("input",()=>{const F=c.value.replaceAll(" ",""),T=z[a];F.length>3&&T.test(F)&&!v&&(u.value=b[F]||u.value)})}catch(b){console.error("Error loading postal codes:",b)}}async function r(){const n=document.querySelectorAll("[data-postalcode-place-autofill]");for(const o of n)await e(o)}r().catch(n=>{console.error("Postcode Place Autofill Error:",n)})}function Ft(){Object.entries({"[data-share-whatsapp-text]":e=>`https://wa.me/?text=${encodeURIComponent(e)}`,"[data-share-facebook-url]":e=>`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(e)}`,"[data-share-linkedin-url]":e=>`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(e)}`,"[data-share-twitter-text]":e=>`https://twitter.com/intent/tweet?text=${encodeURIComponent(e)}`,"[data-share-email-subject], [data-share-email-body]":(e,r)=>`mailto:?subject=${encodeURIComponent(e)}&body=${encodeURIComponent(r)}`}).forEach(([e,r])=>{document.querySelectorAll(e).forEach(n=>{n.addEventListener("click",o=>{var u,l;o.preventDefault();const s=e.includes("email"),i=(u=n.getAttribute(s?"data-share-email-subject":e.slice(1,-1)))!=null?u:"",a=s&&(l=n.getAttribute("data-share-email-body"))!=null?l:"",c=r(i,a);window.open(c,s?"_self":"_blank")})})})}function Rt(){const t=document.querySelectorAll("*"),e=[],r={};let n="",o=!0;t.forEach(i=>{const{attributes:a}=i,c={};Array.from(a).forEach(u=>{c[u.name]=u.value}),Object.entries(c).forEach(([u,l])=>{if(u.startsWith("data-splitter-url")){e.push(l);const m=`data-splitter-params${u.replace("data-splitter-url","")}`;c[m]&&(r[l]=c[m])}else u==="data-splitter-params"?n=l:(u==="data-splitter-keep-params"||u==="data-splitter-keep-query")&&l==="false"&&(o=!1)})});function s(i,a){if(i)try{new URLSearchParams(i).forEach((u,l)=>{if(a.searchParams.has(l)){const f=a.searchParams.get(l);a.searchParams.set(l,`${f}${u}`)}else a.searchParams.set(l,u)})}catch(c){console.error("Error processing parameter string:",i,c)}}if(e.length)try{const i=e[Math.floor(Math.random()*e.length)],a=window.location,c=new URL(i,a.origin);if(o&&a.search)try{new URLSearchParams(a.search).forEach((l,f)=>{c.searchParams.append(f,l)})}catch(u){console.error("Error processing current URL parameters:",u)}s(n,c),s(r[i],c),window.location.href=c.href}catch(i){console.error("Error in URL splitter:",i)}}function Pt(){const t=[document.documentElement.lang||"en","en"];document.querySelectorAll("[data-insert-time]").forEach(n=>{n.innerText=Ot(n,t)}),document.querySelectorAll("[data-remaining-days-to]").forEach(n=>{n.innerText=kt(n,t)})}function Ot(t,e){const r=new Date,n=t.getAttribute("data-insert-time");let o="";if((n==null?void 0:n.toLowerCase())==="year")o=r.getFullYear().toString();else if((n==null?void 0:n.toLowerCase())==="month")o=(r.getMonth()+1).toString();else if((n==null?void 0:n.toLowerCase())==="day")o=r.getDate().toString();else if((n==null?void 0:n.toLowerCase())==="date")o=r.toLocaleDateString(e);else if((n==null?void 0:n.toLowerCase())==="datetime")o=r.toLocaleString(e);else if((n==null?void 0:n.toLowerCase())==="time")o=r.toLocaleTimeString(e);else return"";return o}function kt(t,e){const r=new Date,n=t.getAttribute("data-remaining-days-to");try{if(n){const o=new Date(n),s=Math.round((o.getTime()-r.getTime())/(1e3*60*60*24));return new Intl.RelativeTimeFormat(e,{numeric:"auto"}).format(s,"day")}}catch(o){console.error("remainingDays error:",o)}return""}const de={"family-name":{pattern:"^(?=.*\\p{L})[\\p{L}\\p{M}\\s'\\-.,]{1,80}$",autocomplete:"family-name"},"given-name":{pattern:"^(?=.*\\p{L})[\\p{L}\\p{M}\\s'\\-.,]{1,40}$",autocomplete:"given-name"},email:{pattern:"^[^@]+@[^@]+\\.[^@\\s]+(\\.[^@\\s]+)*$",autocomplete:"email"},"work-email":{pattern:"^[^@]+@[^@]+\\.[^@\\s]+(\\.[^@\\s]+)*$"}};function Bt(t=Object.keys(de),e={}){const r=h(h({},de),e);t.forEach(n=>{document.querySelectorAll(`input[name="${n}"]`).forEach(s=>{s.getAttribute("data-validate-input")==="false"||s.type==="hidden"||r[n]&&(s.pattern||(s.pattern=r[n].pattern),r[n].autocomplete&&!s.getAttribute("autocomplete")&&s.setAttribute("autocomplete",r[n].autocomplete))})})}function _t(){{const t=".cloak {opacity: 0;height: 0;overflow: hidden;margin: 0;padding-top: 0;padding-bottom: 0;}",e=document.createElement("style");e.textContent=t,document.head.appendChild(e)}}function xt(){function t(){const s=window.location.pathname.split("/").filter(a=>a.length===2),i=s.length>0?s[0]:"";return i!==""?"/"+i:i}function e(o){try{return new URL(o),!0}catch(s){return!1}}function r(o,s){if(o===null)return"";if(e(o)){const i=new URL(o);return i.pathname=s+i.pathname,i.toString()}return s+o}const n=document.querySelectorAll('[data-linguana-redirect="true"]');for(const o of n)o.getAttribute("redirect")&&o.setAttribute("redirect",r(o.getAttribute("redirect"),t())),o.getAttribute("data-redirect")&&o.setAttribute("data-redirect",r(o.getAttribute("data-redirect"),t()))}async function Ut(){const t=e=>{try{return e()}catch(r){const n=r instanceof Error?r.message:String(r);console.error(`Error running utility function: ${n}`);return}};await t(()=>at()),[()=>ut(),()=>nt(),()=>it(),()=>Ct(),()=>ht(),()=>Et(),()=>dt(),()=>Rt(),()=>Pt(),()=>Ft(),()=>st(),()=>Lt(),()=>ct(),()=>Ne(),()=>Ee(),()=>Bt(),()=>lt()].forEach(t)}const G=typeof Promise.allSettled=="function";window.agera=typeof window.agera=="object"&&window.agera!==null?window.agera:{},window.agera.dev=!1,window.agera.isModernBrowser=G,window.agera.initialized=!1;function Tt(){tt(),_t();async function t(){xt(),ot(),await rt(),Qe(),Ie(),await Ut()}document.addEventListener("DOMContentLoaded",async()=>{try{await t(),window.agera&&(window.agera.initialized=!0)}catch(e){console.error("[agera]: Error during modern browser DOMContentLoaded:",e),window.agera&&(window.agera.initialized=!1)}})}G?Tt():Ke(),window.agera.dev&&G&&(console.log("[agera]: DEV:",window.agera.dev),document.addEventListener("DOMContentLoaded",()=>{E&&typeof E.apiUrl=="string"&&console.log("[agera]: API URL:",E.apiUrl)}))})();
//# sourceMappingURL=index.js.map
