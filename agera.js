(function(){"use strict";async function X(r){return new Promise((e,t)=>{$.ajax({url:r.url,type:r.method,data:r.body,dataType:"jsonp",success:n=>{e(n)},error:(n,o,s)=>{t(s instanceof Error?s:new Error(s))}})})}function Y(r){const e=new FormData(r),t={};return Array.from(r.elements).forEach(n=>{if(!(n instanceof HTMLInputElement||n instanceof HTMLSelectElement||n instanceof HTMLTextAreaElement)||!n.name)return;const o=n.name,s=e.get(o)??"",i=n.getAttribute("data-json-group");i&&((t[i]??(t[i]={}))[o]=s)}),Object.entries(t).map(([n,o])=>({[n]:o}))}function ee(r,e){const t=r["data.name_id"];r&&t&&e?.push(["name_id",t.toString()])}function te(r){if(document.querySelector("[data-follow-redirect]")?.getAttribute("data-follow-redirect")?.toLowerCase()?.trim()==="true")try{const t=r["data.redirect_url"];t&&typeof t=="string"&&(window.location.href=new URL(t).href)}catch(t){console.error("Invalid redirect URL:",t)}}let k={fieldPath:"data.name_id",debug:!1};function T(r,e){e&&(k={...k,...e});const{fieldPath:t="data.name_id",onValue:n,debug:o}=k;function s(i,...c){o&&console.log(`[agera] ${i}`,...c)}if(s("getCrmValue called",t),!r){s("No data provided"),n?.(null);return}try{const i=t.split(".").reduce((c,d)=>{if(c&&typeof c=="object"&&d in c)return c[d]},r);i!==void 0&&(typeof i=="number"||typeof i=="string")?(s(`Found value: ${String(i)}`),n?.(i)):(o&&console.warn(`[agera] '${t}' not found or invalid type`),n?.(null))}catch(i){o&&console.error("[agera] Error:",i),n?.(null)}}const R=(r,{parentKey:e=""}={})=>{const t={};return Object.keys(r).forEach(n=>{const o=r[n],s=e?`${e}.${n}`:n;typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(t,R(o,{parentKey:s})):t[s]=o}),t};function re(){const r=localStorage.getItem("crm_data");return r?JSON.parse(r):(localStorage.removeItem("crm_data"),{})}function ne(r){const e=R(re());Object.keys(e).length!==0&&ee(e,r)}function N(r){T(r);const e=R(r);oe(e),te(e)}function oe(r){if(document.querySelector("[data-follow-redirect]")?.getAttribute("data-follow-redirect")?.toLowerCase()?.trim()!=="false")try{const t=r.agera_redirect_url;t&&typeof t=="string"&&(window.agera?.dev&&console.log("Got redirect url, redirecting to:",t),window.location.href=new URL(t).href)}catch(t){console.error("Invalid redirect URL:",t)}}function se(r,e){switch(r.tagName.toLowerCase()){case"input":case"textarea":case"select":r.value=e;break;case"a":r.href=e;break;case"img":r.src=e;break;case"video":case"audio":case"iframe":case"source":r.src=e;break;case"meta":r.content=e;break;default:r.textContent=e}}function ie(){const r=localStorage.getItem("crm_data");if(!r)return;const e=R(JSON.parse(r));document.querySelectorAll("[data-insert-crm-response]").forEach(t=>{const n=t.getAttribute("data-insert-crm-response"),o=n?e[n]:void 0;o!==void 0&&se(t,String(o))})}function ae(r){return typeof r=="object"&&r.hasOwnProperty("count")&&typeof r.count=="number"&&r.hasOwnProperty("name")&&typeof r.name=="string"}const v={apiUrl:document.querySelector("[api-url]")?.getAttribute("api-url")??atob("aHR0cHM6Ly91dGlscy1hcGkudmVyY2VsLmFwcC9hcGkv"),counterPath:"counter/",jsDelivrUrl:"https://data.jsdelivr.com/v1/packages/gh/ageraplattformen/agera.js/resolved?specifier=latest",wfSiteId:document.querySelector("html")?.dataset.wfSite??"0000",postalCodeUrl:atob("aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2FnZXJhcGxhdHRmb3JtZW4vanMtbW9kdWxlc0BtYWluL3ppcC8=")},S={method:"POST",headers:{"Content-Type":"application/json"},critical:!0,waitForResponse:!0};function ce(r){const e=new FormData(r),t=[],n=[],o={};for(const[i,c]of e.entries())i.startsWith("tags")?t.push(c):i.startsWith("language")?n.push(c):["given-name","family-name","email","tel","postal-code","street-address","address-level2","country"].includes(i)||(o[i]=c);const s=r.getAttribute("action")||r.getAttribute("data-crm-endpoint")||"";return{...S,url:s??"",body:JSON.stringify({person:{given_name:e.get("given-name"),family_name:e.get("family-name"),email_addresses:[{address:e.get("email"),status:"subscribed"}],phone_numbers:[{number:e.get("tel")??"",status:"subscribed"}],postal_addresses:[{postal_code:e.get("postal-code")??"",address_lines:e.get("street-address")??"",region:e.get("adress-level2")??"",country:e.get("country")??""}]},add_tags:[...t],"action_network:referrer_data":{source:w.source?w.source.toString():"",website:window.location.hostname+window.location.pathname},languages_spoken:[...n],custom_fields:o})}}function D(r,e=!1,t,n){const o=new FormData(r),s="data-action-id",i=r.getAttribute(s)||"No ActionID Provided",c=atob("aHR0cHM6Ly9hY3QuZGp1cmVuc3JhdHQuc2UvcmVmb3JtLXNvY2lldHkvYXBpLw==");if(e){const u=JSON.parse(n||"{}"),l=!!(t&&t["data-recruit-me"]==="true");return{...S,url:c+"update",body:JSON.stringify({partId:u.partId||"",recruitMe:l,signature:{actionId:t&&t[s]||"No ActionID Provided",source:E||"reform-campaign"}})}}const d=!!o.get("updates");return{...S,url:c+"register",body:JSON.stringify({person:{first:o.get("given-name")||"",last:o.get("family-name")||"",email:o.get("email")||"",mobile:o.get("tel")||""},acquisition:{actionId:i.toString(),source:E||"",marketingPermission:d}})}}async function de(r,e,t){async function n(o){try{const s=await fetch(o.url,{method:o.method,headers:o.headers,body:o.body,keepalive:!0});if(!s.ok)throw new Error(`Request failed with status ${s.status}`);await s.json()}catch(s){throw s}}await n(D(r,!0,e,t))}function ue(r){const t=ge(r,{"given-name":"FNAME","family-name":"LNAME",email:"EMAIL",tel:"PHONE","street-adress":"ADDRESS","postal-code":"POSTALCODE","adress-level2":"REGION",country:"COUNTRY"}),n=r?.getAttribute("data-mailchimp-tags")||"";n!==""&&t.append("tags",n);const o=new URLSearchParams;for(const[s,i]of t.entries())(typeof i=="string"||typeof i=="number")&&o.append(s,i.toString());return o.append("UTM",E),{...S,url:r.getAttribute("action")?.replace("post?","post-json?")+"&c=?",headers:{"Content-Type":"application/x-www-form-urlencoded"},dataType:"jsonp",body:o.toString()}}function le(r){const e=new URL(document.querySelector("html")?.dataset.wfSite??"0000","https://webflow.com/api/v1/form/"),t=new FormData(r);t.append("UTM",E);const n=new URLSearchParams({name:r?.getAttribute("name")??"form",source:window.location.href});for(const o of t.entries()){const s=`fields[${o[0]}]`;n.append(s,o[1])}return{...S,url:e.href,headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n.toString()}}function fe(r){return{...S,url:r.getAttribute("action")||"",body:JSON.stringify({[r.getAttribute("name")||"form"]:Object.fromEntries(new FormData(r)),source:window.location.href,time:new Date().toISOString(),UTM:E})}}function me(r){return{...S,url:"",critical:!1,dummy:!0}}const q={actionnetwork:ce,djurensratt:D,mailchimp:ue,webflow:le,zapier:fe,none:me};async function I(r,e){const t={method:r.method,headers:{...r.headers,...r.url.includes(v.apiUrl)&&{"x-source":window.location.href}},body:r.body},n=e?.waitForResponse?.toLowerCase()!=="false",o=Number(e?.waitForResponseDelay)||100;try{if(r.dataType==="jsonp")return await X(r);if(!n)return"keepalive"in new Request("")?(console.warn("not waiting for response, using keepalive..."),fetch(r.url,{...t,keepalive:!0})):(console.warn("Using sendBeacon..."),navigator.sendBeacon(r.url,t.body)),new Promise(c=>setTimeout(c,o));const s=await fetch(r.url,t);if(!s.ok)throw new Error(`Error fetching ${r.url}: ${s.statusText}`);return s.headers.get("Content-Type")?.includes("application/json")?await s.json():await s.text()}catch(s){throw new Error(`Error fetching ${r.url}: ${String(s)}`)}}async function pe(r,e,t,n,o,s,i){const c=new URL("fcrm/",v.apiUrl).toString();let d;t?.waitForResponse!==void 0?d=t.waitForResponse:i?.waitForResponse!==void 0?d=i.waitForResponse:d="false",i={...i,waitForResponse:d};const u=t["data-crm-endpoint"]||t["data-profundo-url"],l={method:s.toUpperCase(),headers:{"Content-Type":"application/json"},url:c,body:JSON.stringify({crm:r,...e?{client:e}:{},...u?{crm_endpoint:u}:{},attributes:t,response:JSON.parse(o),body:n?{...Object.fromEntries(n)}:{},...M.size>0?{query_params:{...Object.fromEntries(M)}}:{},source:window.location.href,...P?{...P}:{}})};return I(l,i)}function he(){const r=localStorage.getItem("crm_data")||"{}",e=[...document.querySelectorAll("[data-crm-patch]"),...document.querySelectorAll("[data-profundo-client]")];if(e.length===0)return;async function t(n){window.agera?.dev&&console.log("Handling PATCH event");const o=n.currentTarget,s=o.getAttribute("data-crm-patch")??(o.getAttribute("data-profundo-client")?"profundo":""),i=o.getAttribute("data-client")??o.getAttribute("data-profundo-client")??"";let c=o.getAttribute("data-crm-patch-method")??"POST";s==="unhcrse"&&(c="PATCH");const d={};[...o.attributes].forEach(f=>{f.name.startsWith("data-")&&(d[f.name]=f.value)});const u=document.querySelector("[data-load-petition]")??o.closest("form")??null,l=u?new FormData(u):new FormData;if(!q.hasOwnProperty(s)){window.agera?.dev&&console.log("Patching FCRM");const f=await pe(s,i,d,l,r,c,u?.dataset);f&&(localStorage.setItem("crm_data",JSON.stringify(f)),N(f));return}s==="djurensratt"&&u&&await de(u,d,r)}e.forEach(n=>{n.addEventListener("click",o=>{try{t(o).then(()=>{}).catch(s=>{console.error("Error handling patch:",s)})}catch(s){console.error("Error handling patch:",s)}}),n.style.cursor="pointer"})}function ge(r,e){const t=new FormData;for(const[n,o]of new FormData(r))e.hasOwnProperty(n)?t.append(e[n],o):t.append(n,o);return t}const M=new URLSearchParams(window.location.search);function we(){function r(t){const n=[...M.keys()].find(o=>o.toLowerCase().includes(t));return n?M.get(n)??"":""}return{source:r("source").toLowerCase(),campaign:r("campaign").toLowerCase(),medium:r("medium").toLowerCase(),content:r("content").toLowerCase(),term:r("term").toLowerCase(),wec:r("wec").toLowerCase()}}const w=we(),E=Array.from(M,([r,e])=>`${r.toLowerCase()}: ${e.toLowerCase()}`).join(", "),P={utms:{...w.campaign?{utm_campaign:w.campaign}:{},...w.source?{utm_source:w.source}:{},...w.medium?{utm_medium:w.medium}:{},...w.content?{utm_content:w.content}:{},...w.term?{utm_term:w.term}:{},...w.wec?{utm_wec:w.wec}:{}}};function j(r){const e=new FormData(r),t={};if(r){Array.from(r.attributes).forEach(s=>{s.name.startsWith("data-")&&(t[s.name]=s.value)}),t["data-site-id"]=t["data-site-id"]||v.wfSiteId;const o=Y(r);o&&e.append("json-groups",JSON.stringify(o))}return{...S,url:new URL("fcrm/",v.apiUrl).toString(),body:JSON.stringify({crm:r?.dataset.crm??"",...r?.dataset.client?{client:r.dataset.client}:{},...r?.dataset.crmEndpoint||r?.action&&!r.action.includes(window.location.host)?{crm_endpoint:r?.dataset.crmEndpoint??r?.action}:{},body:{...Object.fromEntries(e)},...P?{...P}:{},...M.size>0?{query_params:{...Object.fromEntries(M)}}:{},source:window.location.href,...t?{attributes:{...t}}:{}})}}async function be(r,e,t){try{const n=await Promise.allSettled(r.map(s=>s.dummy?Promise.resolve({success:!0}):I(s,e.dataset)));n.some((s,i)=>s.status==="rejected"&&r[i].critical)?x(!1,!1,e,t):(ye(n),x(!0,!0,e,t))}catch(n){console.error("Error in Promise.allSettled:",n),x(!1,!1,e,t)}}function ye(r){const e=[];if(r.forEach((t,n)=>{if(t.status==="fulfilled"&&t.value!==null){const o=t.value;if(typeof t.value=="object"&&!ae(o)){const s=t.value;e.push(s)}else typeof t.value=="string"&&e.push({[n.toString()]:t.value})}}),e.length>0){const t={};e.forEach(n=>{Object.assign(t,n)}),localStorage.setItem("crm_data",JSON.stringify(t)),N(t)}}function x(r,e,t,n){const o=t.parentNode?.querySelector(".w-form-done"),s=t.parentNode?.querySelector(".w-form-fail"),i=t.dataset?.showSuccess?.toLowerCase()!=="false";r?(i&&(o?.style.setProperty("display","block"),t.style.display="none"),e&&ve(t,n)):(o?.style.setProperty("display","none"),s?.style.setProperty("display","block"),n.submitButton&&(n.submitButton.value=n.submitText))}function ve(r,e){const t=r.getAttribute("redirect")??null;if(t)if(e.addUtm){const n=new URL(t,e.thisUrl),o=new URLSearchParams(window.location.search);n.searchParams.forEach((i,c)=>{o.has(c)||o.set(c,i)});const s=n.origin+n.pathname+(o.toString()?`?${o.toString()}`:"");window.location.href=s}else window.location.href=t;else e.submitButton&&(e.submitButton.value=e.submitButton.dataset.successText||e.submitText),console.warn("No redirect defined")}function Se(r){const e=/^data-counter(\d+)?-update$/;return Array.from(r.attributes).filter(n=>e.test(n.name)).map(n=>{const o=/\d+/.exec(n.name),s=o?o[0]:null,i=n.value,c=`data-counter${s||""}-add-amount`,d=r.querySelector(`[${c}]`),u=d?Number(d.value||d.getAttribute(c)):null;return Ae(i,r,u)})}function Ae(r,e,t){const n=new FormData(e);return{...S,critical:!1,url:new URL(v.counterPath+r,v.apiUrl).toString(),body:JSON.stringify({form:"default",site_id:v.wfSiteId,last_person:n.get("given-name")||"",form_url:window.location.href,...t?{add_amount:t}:{}})}}function Me(r){const e={thisUrl:new URL(window.location.href),addUtm:r.dataset.redirectUtm??!0,submitButton:r.querySelector('input[type="submit"]'),submitText:r.querySelector('input[type="submit"]')?.value??""};async function t(n){n.preventDefault(),n.stopPropagation(),e.submitButton&&(e.submitButton.value=e.submitButton.dataset.wait??e.submitButton.value);const o=[],s=r.dataset.crm?.toLowerCase()??"webflow",i=q[s]??j;o.push(i(r)),i!==j&&o.push(...Se(r)),o.length&&await be(o,r,e)}r.addEventListener("submit",n=>{n.preventDefault(),t(n).catch(o=>console.error(o))})}function Ee(){document.querySelectorAll("[data-crm]").forEach(e=>{Me(e)})}class Ce{constructor(){this.cache=new Map,this.pendingRequests=new Map}async getCounter(e){if(this.cache.has(e))return this.cache.get(e);if(this.pendingRequests.has(e))return this.pendingRequests.get(e);const t=this.fetchCounter(e);this.pendingRequests.set(e,t);try{const n=await t;return this.cache.set(e,n),n}finally{this.pendingRequests.delete(e)}}async fetchCounter(e){const t=new URL(v.counterPath+e,v.apiUrl);try{const n=await fetch(t,{headers:{"x-source":window.location.href}});if(!n.ok)throw new Error(`HTTP ${n.status}`);return await n.json()}catch(n){return console.error("Error fetching counter:",n),{count:0,name:e,last_person:{names:[]}}}}}const Fe=new Ce;async function Le(){try{const r=await fetch(v.jsDelivrUrl);if(!r.ok)return"latest";const e=await r.json();return e?.version?`v${e.version}`:"latest"}catch(r){return console.error(r),"latest"}}function Re(){function r(c,d){return c>=d?100:Math.round(c/d*100)}function e(c){const d={350:50,500:100,2e3:250,5e3:500,2e4:2500,5e4:5e3,1e5:1e4,2e5:25e3,5e5:5e4,1e6:1e5},u=25e4,f=Object.keys(d).map(Number).find(y=>y>=c),p=f?d[f]:u;return Math.ceil(c*1.05/p)*p}function t(c,d){return c*1.05<d.target?d.target:e(c)}function n(c,d,u){c.style.width=r(d,u)+"%"}function o(c,d,u){try{const l=new Intl.NumberFormat(u.locale,u.notation).format(d);c.textContent=l}catch{u.notation.useGrouping=!1,u.notation.notation="standard";const l=new Intl.NumberFormat(void 0,u.notation).format(d);c.textContent=l}}function s(c,d,u){d<=u.removeBelow&&(c.style.display="none"),d>=u.hideBelow&&(c.style.opacity="1")}async function i(c){const d=c.dataset.counterName||"default",u={target:parseInt(c.dataset.counterTarget||"0",10),hideBelow:parseInt(c.dataset.counterHideBelow||"0"),removeBelow:parseInt(c.dataset.counterRemoveBelow||"0"),autoTarget:!!c.dataset.counterAutoTarget||!0,locale:c.dataset.counterLocale||document.documentElement.lang||"undefined",notation:{notation:c.dataset.counterNotation?.toLowerCase()||"standard",useGrouping:!0}};async function l(b){try{if(b.toLowerCase()==="default")return 125;const F=await Fe.getCounter(b);return window.agera=window.agera??{},window.agera.counterValues=window.agera.counterValues??{},window.agera.counterValues[b]=F.count,F.count}catch(F){return console.error(`Error getting counter value for ${b}:`,F),0}}const f=await l(d);if(c.classList.contains("counter-current-value"))o(c,f,u),s(c,f,u);else{const b=c.querySelectorAll(".counter-current-value");for(const F of b)o(F,f,u),s(F,f,u)}const p=t(f,u),y=c.querySelectorAll(".counter-target-value");for(const b of y)o(b,p,u),s(b,f,u);const L=c.querySelectorAll(".counterbar-limiter");for(const b of L)n(b,f,p);s(c,f,u)}return{processCounterElement:i}}function Pe(){const r=".counter-target-value, .counter-current-value, .counter_container { opacity: 0; transition: opacity 0.7s; }",e=document.createElement("style");e.textContent=r,document.head.appendChild(e)}async function Oe(){const r=document.querySelectorAll("[data-counter-name]"),e=Re();for(const t of r)await e.processCounterElement(t)}function B(r){return JSON.parse(localStorage.getItem(r)??"{}")}function ke(){const r="data-clear-localstorage",e=document.querySelector(`[${r}]`);if(!e)return;const t=e.getAttribute(r),n=e.matches("a, button"),o=()=>{t?.toLowerCase()==="true"||t?.toLowerCase()==="all"?(console.log("Clearing all local storage"),localStorage.clear()):t&&(console.log("Clearing local storage key:",t),localStorage.removeItem(t))};n?e.addEventListener("click",s=>{s.preventDefault(),o(),document.querySelectorAll("form").forEach(i=>{i.reset(),i.querySelectorAll("input").forEach(c=>{c.value="",c.type==="hidden"&&c.remove()})}),window.location.reload()}):o()}function xe(){e();function e(){try{const i=localStorage.getItem("forwardedform");if(!i)return;const c=JSON.parse(i);if(!c._timestamp)return;const d=parseInt(c._timestamp,10),u=Date.now(),l=1*60*60*1e3;u-d>l&&localStorage.removeItem("forwardedform")}catch(i){console.error("Error cleaning up expired form data:",i)}}function t(i){const c=B("forwardedform");ne(Object.entries(c));function d(f){const p=Array.from(new URLSearchParams(window.location.search),([y,L])=>`${y}: ${L}`).join(", ");return f.utm=p,f}const u=d(c);function l(f){Object.entries(f).forEach(([p,y])=>{if(y){if(p==="_timestamp")return;const L=document.createTextNode(y).textContent,b=`<input type="hidden" id="${p}" name="${p}" value="${L}">`;i.insertAdjacentHTML("afterbegin",b)}})}l(u)}function n(i){const c=new URLSearchParams(window.location.search),d=Array.from(c,([f,p])=>`${f}: ${p}`),u=i.getAttribute("redirect");if(u){const f=u+(u?.includes("?")?"&":"?")+c.toString();i.setAttribute("redirect",f),i.setAttribute("data-redirect",f)}window.addEventListener("beforeunload",()=>{l(i)});function l(f){if(f instanceof HTMLFormElement){const p=new FormData(f),y=d.join(", ");p.set("utm",y),p.set("_timestamp",Date.now().toString()),localStorage.setItem("forwardedform",JSON.stringify(Object.fromEntries(p)))}}}const o=document.querySelectorAll("[data-crm]");o.length>0&&o.forEach(function(i){n(i)});const s=document.querySelectorAll('[data-load-petition="true"]');s.length>0&&s.forEach(function(i){t(i)})}function Be(){const r=document.querySelector("form[data-auto-submit]");if(r&&r.getAttribute("data-auto-submit")?.toLowerCase()==="true"){if(!r.checkValidity()){console.warn("Form validation failed.");return}const e=new Event("submit",{bubbles:!0,cancelable:!0});r.dispatchEvent(e)}}function _e(){document.querySelectorAll("[data-copy]").forEach(e=>{e.addEventListener("mouseover",function(){e.style.cursor="pointer"}),e.addEventListener("click",async function(){let t="";const n=e.getAttribute("data-copy");if(n?.toLowerCase()==="url")t=window.location.href;else if(n?.toLowerCase()==="prev-url")t=document.referrer||"";else{const o=document.getElementById(n);o?.textContent?t=o.textContent:t=n||""}try{await navigator.clipboard.writeText(t),console.log("Copied to clipboard:",t.toString())}catch(o){console.error("Failed to copy: ",o)}})})}async function Ue(){const r=document.querySelectorAll("[data-js-version]");if(r.length<1)return;const e=document.querySelector('script[src$="agera.js"]');let t="";if(e){const{src:n}=e,o=/@([^/]+)/.exec(n);if(o){const[,s]=o;t=s,t.toLowerCase().includes("latest")&&(t=await Le())}}t!==""&&r.forEach(n=>{n.innerText=t})}function Te(){document.querySelectorAll("[data-hide-if-data], [data-show-if-data]").forEach(r=>{const e=r.getAttribute("data-hide-if-data")??r.getAttribute("data-show-if-data");if(!e)return;const t=!!r.getAttribute("data-hide-if-data"),n=e?new URLSearchParams(window.location.search).get(e)??"":"",o=e&&B("forwardedform")[e]||"",s=!!(n||o);r.style.display=t===s?"none":"",r.style.display=="none"&&r.getAttribute("name")&&r.setAttribute("name",r.getAttribute("name")+"-hidden"),t&&r.tagName==="INPUT"&&r.required&&(r.required=!1)})}function V(r,e){try{const t=new URL(r,document.baseURI),n=new URL(t.toString()),o=n.searchParams;return e.forEach((s,i)=>{o.has(i)||o.set(i,s)}),n.toString()}catch(t){return console.error("Error updating URL with UTM params:",t),r}}function Ne(){const r=new URLSearchParams(window.location.search);document.querySelectorAll("[data-redirect]").forEach(t=>{const n=t.getAttribute("data-redirect");if(n){const o=V(n,r);t.setAttribute("data-redirect",o)}})}function De(){const r=document.querySelectorAll("a[href]"),e=new URLSearchParams(window.location.search);r.forEach(t=>{if(!t.href.includes("#"))try{const n=V(t.href,e);t.href=n}catch{console.warn("Invalid URL",t.href)}})}function qe(){const r=document.querySelectorAll("[data-insert-localstorage]");let e={};try{const t=localStorage.getItem("forwardedform");if(t){const n=JSON.parse(t);n&&typeof n=="object"&&(e=n)}}catch(t){console.error("Error parsing localStorage data:",t);return}Object.keys(e).length!==0&&r.forEach(t=>{const n=t.getAttribute("data-insert-localstorage");if(n&&n in e){const o=e[n];o!=null&&(t instanceof HTMLInputElement||t instanceof HTMLSelectElement||t instanceof HTMLTextAreaElement?t.value=o.toString():t.textContent=o.toString())}})}const H="data-insert-name";function Ie(r,e){let t="";const n=["first_name","first-name","firstname","fn","first","fname","f-name","n","given_name","given-name","givenname","gn","g-n","given"];[...Object.entries(r),...Array.from(e.entries())].forEach(([s,i])=>{n.includes(s.toLowerCase())&&(t=i)});const o=document.querySelectorAll(`[${H}]`);o.length>0&&t!==""&&je(o,t)}function je(r,e){const t={"no-space":e,"leading-space":"&nbsp;"+e,"trailing-space":e+"&nbsp;","double-space":"&nbsp;"+e+"&nbsp;","":"&nbsp;"+e};r.forEach(n=>{const o=n.getAttribute(H)||"leading-space";t.hasOwnProperty(o)&&(n.innerHTML=t[o])})}function Ve(){const r=B("forwardedform"),e=new URLSearchParams(window.location.search);Ie(r,e)}const _=typeof Buffer=="function",W=typeof TextDecoder=="function"?new TextDecoder:void 0;typeof TextEncoder=="function"&&new TextEncoder;const $e=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),O=(r=>{let e={};return r.forEach((t,n)=>e[t]=n),e})($e),He=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,C=String.fromCharCode.bind(String),z=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):r=>new Uint8Array(Array.prototype.slice.call(r,0)),G=r=>r.replace(/[^A-Za-z0-9\+\/]/g,""),We=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,ze=r=>{switch(r.length){case 4:var e=(7&r.charCodeAt(0))<<18|(63&r.charCodeAt(1))<<12|(63&r.charCodeAt(2))<<6|63&r.charCodeAt(3),t=e-65536;return C((t>>>10)+55296)+C((t&1023)+56320);case 3:return C((15&r.charCodeAt(0))<<12|(63&r.charCodeAt(1))<<6|63&r.charCodeAt(2));default:return C((31&r.charCodeAt(0))<<6|63&r.charCodeAt(1))}},Ge=r=>r.replace(We,ze),J=typeof atob=="function"?r=>atob(G(r)):_?r=>Buffer.from(r,"base64").toString("binary"):r=>{if(r=r.replace(/\s+/g,""),!He.test(r))throw new TypeError("malformed base64.");r+="==".slice(2-(r.length&3));let e,t="",n,o;for(let s=0;s<r.length;)e=O[r.charAt(s++)]<<18|O[r.charAt(s++)]<<12|(n=O[r.charAt(s++)])<<6|(o=O[r.charAt(s++)]),t+=n===64?C(e>>16&255):o===64?C(e>>16&255,e>>8&255):C(e>>16&255,e>>8&255,e&255);return t},Je=_?r=>z(Buffer.from(r,"base64")):r=>z(J(r).split("").map(e=>e.charCodeAt(0))),Qe=_?r=>Buffer.from(r,"base64").toString("utf8"):W?r=>W.decode(Je(r)):r=>Ge(J(r)),Ke=r=>G(r.replace(/[-_]/g,e=>e=="-"?"+":"/")),Ze=r=>Qe(Ke(r));function Xe(){document.querySelectorAll("[data-insert-query]").forEach(e=>{const t=e.getAttribute("data-insert-query");if(t){const n=new URLSearchParams(window.location.search).get(t);n!==null&&(e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement?e.value=n.toString():e.textContent=n.toString())}})}function Ye(){document.querySelectorAll("[data-insert-b64-query]").forEach(e=>{const t=e.getAttribute("data-insert-b64-query");if(t){const n=Ze(new URLSearchParams(window.location.search).get(t)??"");n&&(e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement?e.value=n.toString():e.textContent=n.toString())}})}const U={DK:/^\d{4}$/,FI:/^(FI-|AX-)?\d{5}$/,NO:/^\d{4}$/,SE:/^(SE-)?\d{3}[ ]?\d{2}$/};function et(){async function r(n){const o=`${v.postalCodeUrl}${n}.js`;return(!U.hasOwnProperty(n)||!o)&&console.error("Unsupported country code"),(await import(o))[n]}async function e(n){if(!(n.getAttribute("data-postalcode-place-autofill")?.toLowerCase()==="true"))return;const s=n.querySelectorAll('[name="postal-code"]'),i=n.querySelectorAll('[name="address-level2"]'),c=n.dataset.countryCode?.toUpperCase()??"",d=Array.from(s).find(l=>l.type!=="hidden"&&l.offsetParent!==null)??s[0],u=Array.from(i).find(l=>l.type!=="hidden"&&l.offsetParent!==null)??i[0];if(!u||!d||c===""||!U.hasOwnProperty(c)){console.error("Visible postal code input, visible city output, or supported country not found");return}try{const l=await r(c),f=!1;d.addEventListener("input",()=>{const p=d.value.replaceAll(" ",""),y=U[c];p.length>3&&y.test(p)&&!f&&(u.value=l[p]||u.value)})}catch(l){console.error("Error loading postal codes:",l)}}async function t(){const n=document.querySelectorAll("[data-postalcode-place-autofill]");for(const o of n)await e(o)}t().catch(n=>{console.error("Postcode Place Autofill Error:",n)})}const tt={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Q={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},h={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},g={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},A={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class a{static getFirstMatch(e,t){const n=t.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,t){const n=t.match(e);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(e,t,n){if(e.test(t))return n}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const t=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(t.push(0),t[0]===10)switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const t=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(t.push(0),!(t[0]===1&&t[1]<5)){if(t[0]===1&&t[1]<6)return"Cupcake";if(t[0]===1&&t[1]>=6)return"Donut";if(t[0]===2&&t[1]<2)return"Eclair";if(t[0]===2&&t[1]===2)return"Froyo";if(t[0]===2&&t[1]>2)return"Gingerbread";if(t[0]===3)return"Honeycomb";if(t[0]===4&&t[1]<1)return"Ice Cream Sandwich";if(t[0]===4&&t[1]<4)return"Jelly Bean";if(t[0]===4&&t[1]>=4)return"KitKat";if(t[0]===5)return"Lollipop";if(t[0]===6)return"Marshmallow";if(t[0]===7)return"Nougat";if(t[0]===8)return"Oreo";if(t[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,t,n=!1){const o=a.getVersionPrecision(e),s=a.getVersionPrecision(t);let i=Math.max(o,s),c=0;const d=a.map([e,t],u=>{const l=i-a.getVersionPrecision(u),f=u+new Array(l+1).join(".0");return a.map(f.split("."),p=>new Array(20-p.length).join("0")+p).reverse()});for(n&&(c=i-Math.min(o,s)),i-=1;i>=c;){if(d[0][i]>d[1][i])return 1;if(d[0][i]===d[1][i]){if(i===c)return 0;i-=1}else if(d[0][i]<d[1][i])return-1}}static map(e,t){const n=[];let o;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(o=0;o<e.length;o+=1)n.push(t(e[o]));return n}static find(e,t){let n,o;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,o=e.length;n<o;n+=1){const s=e[n];if(t(s,n))return s}}static assign(e,...t){const n=e;let o,s;if(Object.assign)return Object.assign(e,...t);for(o=0,s=t.length;o<s;o+=1){const i=t[o];typeof i=="object"&&i!==null&&Object.keys(i).forEach(d=>{n[d]=i[d]})}return e}static getBrowserAlias(e){return tt[e]}static getBrowserTypeByAlias(e){return Q[e]||""}}const m=/version\/(\d+(\.?_?\d+)+)/i,rt=[{test:[/googlebot/i],describe(r){const e={name:"Googlebot"},t=a.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,r)||a.getFirstMatch(m,r);return t&&(e.version=t),e}},{test:[/opera/i],describe(r){const e={name:"Opera"},t=a.getFirstMatch(m,r)||a.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/opr\/|opios/i],describe(r){const e={name:"Opera"},t=a.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,r)||a.getFirstMatch(m,r);return t&&(e.version=t),e}},{test:[/SamsungBrowser/i],describe(r){const e={name:"Samsung Internet for Android"},t=a.getFirstMatch(m,r)||a.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/Whale/i],describe(r){const e={name:"NAVER Whale Browser"},t=a.getFirstMatch(m,r)||a.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/MZBrowser/i],describe(r){const e={name:"MZ Browser"},t=a.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,r)||a.getFirstMatch(m,r);return t&&(e.version=t),e}},{test:[/focus/i],describe(r){const e={name:"Focus"},t=a.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,r)||a.getFirstMatch(m,r);return t&&(e.version=t),e}},{test:[/swing/i],describe(r){const e={name:"Swing"},t=a.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,r)||a.getFirstMatch(m,r);return t&&(e.version=t),e}},{test:[/coast/i],describe(r){const e={name:"Opera Coast"},t=a.getFirstMatch(m,r)||a.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(r){const e={name:"Opera Touch"},t=a.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,r)||a.getFirstMatch(m,r);return t&&(e.version=t),e}},{test:[/yabrowser/i],describe(r){const e={name:"Yandex Browser"},t=a.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,r)||a.getFirstMatch(m,r);return t&&(e.version=t),e}},{test:[/ucbrowser/i],describe(r){const e={name:"UC Browser"},t=a.getFirstMatch(m,r)||a.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/Maxthon|mxios/i],describe(r){const e={name:"Maxthon"},t=a.getFirstMatch(m,r)||a.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/epiphany/i],describe(r){const e={name:"Epiphany"},t=a.getFirstMatch(m,r)||a.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/puffin/i],describe(r){const e={name:"Puffin"},t=a.getFirstMatch(m,r)||a.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/sleipnir/i],describe(r){const e={name:"Sleipnir"},t=a.getFirstMatch(m,r)||a.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/k-meleon/i],describe(r){const e={name:"K-Meleon"},t=a.getFirstMatch(m,r)||a.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/micromessenger/i],describe(r){const e={name:"WeChat"},t=a.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,r)||a.getFirstMatch(m,r);return t&&(e.version=t),e}},{test:[/qqbrowser/i],describe(r){const e={name:/qqbrowserlite/i.test(r)?"QQ Browser Lite":"QQ Browser"},t=a.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,r)||a.getFirstMatch(m,r);return t&&(e.version=t),e}},{test:[/msie|trident/i],describe(r){const e={name:"Internet Explorer"},t=a.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/\sedg\//i],describe(r){const e={name:"Microsoft Edge"},t=a.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/edg([ea]|ios)/i],describe(r){const e={name:"Microsoft Edge"},t=a.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/vivaldi/i],describe(r){const e={name:"Vivaldi"},t=a.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/seamonkey/i],describe(r){const e={name:"SeaMonkey"},t=a.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/sailfish/i],describe(r){const e={name:"Sailfish"},t=a.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,r);return t&&(e.version=t),e}},{test:[/silk/i],describe(r){const e={name:"Amazon Silk"},t=a.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/phantom/i],describe(r){const e={name:"PhantomJS"},t=a.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/slimerjs/i],describe(r){const e={name:"SlimerJS"},t=a.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(r){const e={name:"BlackBerry"},t=a.getFirstMatch(m,r)||a.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/(web|hpw)[o0]s/i],describe(r){const e={name:"WebOS Browser"},t=a.getFirstMatch(m,r)||a.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/bada/i],describe(r){const e={name:"Bada"},t=a.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/tizen/i],describe(r){const e={name:"Tizen"},t=a.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,r)||a.getFirstMatch(m,r);return t&&(e.version=t),e}},{test:[/qupzilla/i],describe(r){const e={name:"QupZilla"},t=a.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,r)||a.getFirstMatch(m,r);return t&&(e.version=t),e}},{test:[/firefox|iceweasel|fxios/i],describe(r){const e={name:"Firefox"},t=a.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/electron/i],describe(r){const e={name:"Electron"},t=a.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/MiuiBrowser/i],describe(r){const e={name:"Miui"},t=a.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/chromium/i],describe(r){const e={name:"Chromium"},t=a.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,r)||a.getFirstMatch(m,r);return t&&(e.version=t),e}},{test:[/chrome|crios|crmo/i],describe(r){const e={name:"Chrome"},t=a.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/GSA/i],describe(r){const e={name:"Google Search"},t=a.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test(r){const e=!r.test(/like android/i),t=r.test(/android/i);return e&&t},describe(r){const e={name:"Android Browser"},t=a.getFirstMatch(m,r);return t&&(e.version=t),e}},{test:[/playstation 4/i],describe(r){const e={name:"PlayStation 4"},t=a.getFirstMatch(m,r);return t&&(e.version=t),e}},{test:[/safari|applewebkit/i],describe(r){const e={name:"Safari"},t=a.getFirstMatch(m,r);return t&&(e.version=t),e}},{test:[/.*/i],describe(r){const e=/^(.*)\/(.*) /,t=/^(.*)\/(.*)[ \t]\((.*)/,o=r.search("\\(")!==-1?t:e;return{name:a.getFirstMatch(o,r),version:a.getSecondMatch(o,r)}}}],nt=[{test:[/Roku\/DVP/],describe(r){const e=a.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,r);return{name:g.Roku,version:e}}},{test:[/windows phone/i],describe(r){const e=a.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,r);return{name:g.WindowsPhone,version:e}}},{test:[/windows /i],describe(r){const e=a.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,r),t=a.getWindowsVersionName(e);return{name:g.Windows,version:e,versionName:t}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(r){const e={name:g.iOS},t=a.getSecondMatch(/(Version\/)(\d[\d.]+)/,r);return t&&(e.version=t),e}},{test:[/macintosh/i],describe(r){const e=a.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,r).replace(/[_\s]/g,"."),t=a.getMacOSVersionName(e),n={name:g.MacOS,version:e};return t&&(n.versionName=t),n}},{test:[/(ipod|iphone|ipad)/i],describe(r){const e=a.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,r).replace(/[_\s]/g,".");return{name:g.iOS,version:e}}},{test(r){const e=!r.test(/like android/i),t=r.test(/android/i);return e&&t},describe(r){const e=a.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,r),t=a.getAndroidVersionName(e),n={name:g.Android,version:e};return t&&(n.versionName=t),n}},{test:[/(web|hpw)[o0]s/i],describe(r){const e=a.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,r),t={name:g.WebOS};return e&&e.length&&(t.version=e),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(r){const e=a.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,r)||a.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,r)||a.getFirstMatch(/\bbb(\d+)/i,r);return{name:g.BlackBerry,version:e}}},{test:[/bada/i],describe(r){const e=a.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,r);return{name:g.Bada,version:e}}},{test:[/tizen/i],describe(r){const e=a.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,r);return{name:g.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:g.Linux}}},{test:[/CrOS/],describe(){return{name:g.ChromeOS}}},{test:[/PlayStation 4/],describe(r){const e=a.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,r);return{name:g.PlayStation4,version:e}}}],ot=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(r){const e=a.getFirstMatch(/(can-l01)/i,r)&&"Nova",t={type:h.mobile,vendor:"Huawei"};return e&&(t.model=e),t}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:h.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:h.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:h.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:h.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:h.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:h.tablet}}},{test(r){const e=r.test(/ipod|iphone/i),t=r.test(/like (ipod|iphone)/i);return e&&!t},describe(r){const e=a.getFirstMatch(/(ipod|iphone)/i,r);return{type:h.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:h.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:h.mobile}}},{test(r){return r.getBrowserName(!0)==="blackberry"},describe(){return{type:h.mobile,vendor:"BlackBerry"}}},{test(r){return r.getBrowserName(!0)==="bada"},describe(){return{type:h.mobile}}},{test(r){return r.getBrowserName()==="windows phone"},describe(){return{type:h.mobile,vendor:"Microsoft"}}},{test(r){const e=Number(String(r.getOSVersion()).split(".")[0]);return r.getOSName(!0)==="android"&&e>=3},describe(){return{type:h.tablet}}},{test(r){return r.getOSName(!0)==="android"},describe(){return{type:h.mobile}}},{test(r){return r.getOSName(!0)==="macos"},describe(){return{type:h.desktop,vendor:"Apple"}}},{test(r){return r.getOSName(!0)==="windows"},describe(){return{type:h.desktop}}},{test(r){return r.getOSName(!0)==="linux"},describe(){return{type:h.desktop}}},{test(r){return r.getOSName(!0)==="playstation 4"},describe(){return{type:h.tv}}},{test(r){return r.getOSName(!0)==="roku"},describe(){return{type:h.tv}}}],st=[{test(r){return r.getBrowserName(!0)==="microsoft edge"},describe(r){if(/\sedg\//i.test(r))return{name:A.Blink};const t=a.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,r);return{name:A.EdgeHTML,version:t}}},{test:[/trident/i],describe(r){const e={name:A.Trident},t=a.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test(r){return r.test(/presto/i)},describe(r){const e={name:A.Presto},t=a.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test(r){const e=r.test(/gecko/i),t=r.test(/like gecko/i);return e&&!t},describe(r){const e={name:A.Gecko},t=a.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:A.Blink}}},{test:[/(apple)?webkit/i],describe(r){const e={name:A.WebKit},t=a.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}}];class K{constructor(e,t=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},t!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=a.find(rt,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=a.find(nt,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:t}=this.getOS();return e?String(t).toLowerCase()||"":t||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:t}=this.getPlatform();return e?String(t).toLowerCase()||"":t||""}parsePlatform(){this.parsedResult.platform={};const e=a.find(ot,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=a.find(st,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return a.assign({},this.parsedResult)}satisfies(e){const t={};let n=0;const o={};let s=0;if(Object.keys(e).forEach(c=>{const d=e[c];typeof d=="string"?(o[c]=d,s+=1):typeof d=="object"&&(t[c]=d,n+=1)}),n>0){const c=Object.keys(t),d=a.find(c,l=>this.isOS(l));if(d){const l=this.satisfies(t[d]);if(l!==void 0)return l}const u=a.find(c,l=>this.isPlatform(l));if(u){const l=this.satisfies(t[u]);if(l!==void 0)return l}}if(s>0){const c=Object.keys(o),d=a.find(c,u=>this.isBrowser(u,!0));if(d!==void 0)return this.compareVersion(o[d])}}isBrowser(e,t=!1){const n=this.getBrowserName().toLowerCase();let o=e.toLowerCase();const s=a.getBrowserTypeByAlias(o);return t&&s&&(o=s.toLowerCase()),o===n}compareVersion(e){let t=[0],n=e,o=!1;const s=this.getBrowserVersion();if(typeof s=="string")return e[0]===">"||e[0]==="<"?(n=e.substr(1),e[1]==="="?(o=!0,n=e.substr(2)):t=[],e[0]===">"?t.push(1):t.push(-1)):e[0]==="="?n=e.substr(1):e[0]==="~"&&(o=!0,n=e.substr(1)),t.indexOf(a.compareVersions(s,n,o))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,t=!1){return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(t=>this.is(t))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class it{static getParser(e,t=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new K(e,t)}static parse(e){return new K(e).getResult()}static get BROWSER_MAP(){return Q}static get ENGINE_MAP(){return A}static get OS_MAP(){return g}static get PLATFORMS_MAP(){return h}}function at(){const r=it.parse(window.navigator.userAgent),e=r.platform.type==="mobile",t=window.innerWidth<=767,n="ontouchstart"in window||navigator.maxTouchPoints>0,o=window.innerHeight>window.innerWidth,s=/iPhone|Android.*Mobile|Mobile.*Firefox|samsung|pixel/i.test(navigator.userAgent);return e||t&&n&&o&&s?"mobile":r.platform.type||"desktop"}function ct(){const r=at(),e=new Set(["mobile","desktop","tablet","tv","!mobile","!desktop","!tablet","!tv"]);document.querySelectorAll("[data-remove-on-device]").forEach(t=>{const n=t.dataset.removeOnDevice?.toLowerCase().trim();if(!n||!e.has(n)){n&&console.warn(`Invalid rule "${n}" for data-remove-on-device on element:`,t);return}(n.startsWith("!")?r!==n.substring(1):r===n)&&t.remove()})}function dt(){Object.entries({"[data-share-whatsapp-text]":e=>`https://wa.me/?text=${encodeURIComponent(e)}`,"[data-share-facebook-url]":e=>`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(e)}`,"[data-share-linkedin-url]":e=>`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(e)}`,"[data-share-twitter-text]":e=>`https://twitter.com/intent/tweet?text=${encodeURIComponent(e)}`,"[data-share-email-subject], [data-share-email-body]":(e,t)=>`mailto:?subject=${encodeURIComponent(e)}&body=${encodeURIComponent(t)}`}).forEach(([e,t])=>{document.querySelectorAll(e).forEach(n=>{n.addEventListener("click",o=>{o.preventDefault();const s=e.includes("email"),i=n.getAttribute(s?"data-share-email-subject":e.slice(1,-1))??"",c=s?n.getAttribute("data-share-email-body")??"":"",d=t(i,c);window.open(d,s?"_self":"_blank")})})})}function ut(){const r=document.querySelectorAll("*"),e=[],t={};let n="",o=!0;r.forEach(i=>{const{attributes:c}=i,d={};Array.from(c).forEach(u=>{d[u.name]=u.value}),Object.entries(d).forEach(([u,l])=>{if(u.startsWith("data-splitter-url")){e.push(l);const p=`data-splitter-params${u.replace("data-splitter-url","")}`;d[p]&&(t[l]=d[p])}else u==="data-splitter-params"?n=l:(u==="data-splitter-keep-params"||u==="data-splitter-keep-query")&&l==="false"&&(o=!1)})});function s(i,c){if(i)try{new URLSearchParams(i).forEach((u,l)=>{if(c.searchParams.has(l)){const f=c.searchParams.get(l);c.searchParams.set(l,`${f}${u}`)}else c.searchParams.set(l,u)})}catch(d){console.error("Error processing parameter string:",i,d)}}if(e.length)try{const i=e[Math.floor(Math.random()*e.length)],c=window.location,d=new URL(i,c.origin);if(o&&c.search)try{new URLSearchParams(c.search).forEach((l,f)=>{d.searchParams.append(f,l)})}catch(u){console.error("Error processing current URL parameters:",u)}s(n,d),s(t[i],d),window.location.href=d.href}catch(i){console.error("Error in URL splitter:",i)}}function lt(){const r=[document.documentElement.lang||"en","en"];document.querySelectorAll("[data-insert-time]").forEach(n=>{n.innerText=ft(n,r)}),document.querySelectorAll("[data-remaining-days-to]").forEach(n=>{n.innerText=mt(n,r)})}function ft(r,e){const t=new Date,n=r.getAttribute("data-insert-time");let o="";if(n?.toLowerCase()==="year")o=t.getFullYear().toString();else if(n?.toLowerCase()==="month")o=(t.getMonth()+1).toString();else if(n?.toLowerCase()==="day")o=t.getDate().toString();else if(n?.toLowerCase()==="date")o=t.toLocaleDateString(e);else if(n?.toLowerCase()==="datetime")o=t.toLocaleString(e);else if(n?.toLowerCase()==="time")o=t.toLocaleTimeString(e);else return"";return o}function mt(r,e){const t=new Date,n=r.getAttribute("data-remaining-days-to");try{if(n){const o=new Date(n),s=Math.round((o.getTime()-t.getTime())/(1e3*60*60*24));return new Intl.RelativeTimeFormat(e,{numeric:"auto"}).format(s,"day")}}catch(o){console.error("remainingDays error:",o)}return""}const Z={"family-name":{pattern:"^(?=.*\\p{L})[\\p{L}\\p{M}\\s'\\-.,]{1,80}$",autocomplete:"family-name"},"given-name":{pattern:"^(?=.*\\p{L})[\\p{L}\\p{M}\\s'\\-.,]{1,40}$",autocomplete:"given-name"},email:{pattern:"^[^@]+@[^@]+\\.[^@\\s]+(\\.[^@\\s]+)*$",autocomplete:"email"},"work-email":{pattern:"^[^@]+@[^@]+\\.[^@\\s]+(\\.[^@\\s]+)*$"}};function pt(r=Object.keys(Z),e={}){const t={...Z,...e};r.forEach(n=>{document.querySelectorAll(`input[name="${n}"]`).forEach(s=>{s.getAttribute("data-validate-input")==="false"||s.type==="hidden"||t[n]&&(s.pattern||(s.pattern=t[n].pattern),t[n].autocomplete&&!s.getAttribute("autocomplete")&&s.setAttribute("autocomplete",t[n].autocomplete))})})}function ht(){{const r=".cloak {opacity: 0;height: 0;overflow: hidden;margin: 0;padding-top: 0;padding-bottom: 0;}",e=document.createElement("style");e.textContent=r,document.head.appendChild(e)}}function gt(){function r(){const s=window.location.pathname.split("/").filter(c=>c.length===2),i=s.length>0?s[0]:"";return i!==""?"/"+i:i}function e(o){try{return new URL(o),!0}catch{return!1}}function t(o,s){if(o===null)return"";if(e(o)){const i=new URL(o);return i.pathname=s+i.pathname,i.toString()}return s+o}const n=document.querySelectorAll('[data-linguana-redirect="true"]');for(const o of n)o.getAttribute("redirect")&&o.setAttribute("redirect",t(o.getAttribute("redirect"),r())),o.getAttribute("data-redirect")&&o.setAttribute("data-redirect",t(o.getAttribute("data-redirect"),r()))}async function wt(){const r=e=>{try{return e()}catch(t){const n=t instanceof Error?t.message:String(t);console.error(`Error running utility function: ${n}`);return}};await r(()=>Ue()),[()=>De(),()=>ke(),()=>_e(),()=>Ye(),()=>Ve(),()=>Xe(),()=>Ne(),()=>ut(),()=>lt(),()=>dt(),()=>Be(),()=>et(),()=>Te(),()=>ct(),()=>ie(),()=>pt(),()=>qe()].forEach(r)}function bt(){Pe(),ht();async function r(){gt(),xe(),await Oe(),Ee(),he(),await wt()}document.addEventListener("DOMContentLoaded",async()=>{try{await r()}catch(e){console.error("Error during DOMContentLoaded:",e)}})}typeof window>"u"||window.agera?.initialized?console.log("AGERA.JS already initialized"):(!window.agera||window.agera.dev==!1)&&(window.agera={dev:!1,initialized:!0,getCrmValue:T},window.dispatchEvent(new CustomEvent("agera-ready")),bt())})();
//# sourceMappingURL=index.js.map
