"use strict";(()=>{async function j(t){return new Promise((e,o)=>{$.ajax({url:t.url,type:t.method,data:t.body,dataType:"jsonp",success:n=>{e(n)},error:(n,r,a)=>{o(a instanceof Error?a:new Error(a))}})})}function I(t,e){let o=t["data.name_id"];t&&o&&e?.push(["name_id",o.toString()])}function N(t){let e=document.querySelector("[data-follow-redirect]")?.getAttribute("data-follow-redirect")?.toLowerCase()!=="false";if(console.log(e?"follow true":"follow false"),!!e)if(typeof t["data.redirect_url"]=="string"){let o=new URL(t["data.redirect_url"]);window.location.href=o.href}else console.error("Invalid redirect URL provided in Profundo response.")}var S=(t,{parentKey:e=""}={})=>{let o={};return Object.keys(t).forEach(n=>{let r=t[n],a=e?`${e}.${n}`:n;typeof r=="object"&&r!==null&&!Array.isArray(r)?Object.assign(o,S(r,{parentKey:a})):o[a]=r}),o};function Ft(){let t=localStorage.getItem("crm_data");return t?JSON.parse(t):(localStorage.removeItem("crm_data"),{})}function B(t){let e=S(Ft());Object.keys(e).length!==0&&I(e,t)}function v(t){let e=S(t);N(e)}function Ot(t,e){switch(t.tagName.toLowerCase()){case"input":case"textarea":case"select":t.value=e;break;case"a":t.href=e;break;case"img":t.src=e;break;case"video":case"audio":case"iframe":case"source":t.src=e;break;case"meta":t.content=e;break;default:t.textContent=e}}function V(){let t=localStorage.getItem("crm_data");if(!t)return;let e=S(JSON.parse(t));document.querySelectorAll("[data-insert-crm-response]").forEach(o=>{let n=o.getAttribute("data-insert-crm-response"),r=n?e[n]:void 0;r!==void 0&&Ot(o,String(r))})}function J(t){return typeof t=="object"&&t.hasOwnProperty("count")&&typeof t.count=="number"&&t.hasOwnProperty("name")&&typeof t.name=="string"}async function R(t,e){let o={method:t.method,headers:t.headers,body:t.body},n=e?.waitForResponse?.toLowerCase()!=="false",r=Number(e?.waitForResponseDelay)||500;try{if(t.dataType==="jsonp")return await j(t);if(!n)return"keepalive"in new Request("")?await fetch(t.url,{...o,keepalive:!0}):(console.warn("Using sendBeacon..."),navigator.sendBeacon(t.url,o.body)),new Promise(s=>setTimeout(s,r));let a=await fetch(t.url,o);if(!a.ok)throw new Error(`Error fetching ${t.url}: ${a.statusText}`);return a.headers.get("Content-Type")?.includes("application/json")?await a.json():await a.text()}catch(a){throw console.error(a),a}}var p={apiUrl:document.currentScript?.getAttribute("api-url")??atob("aHR0cHM6Ly91dGlscy1hcGkudmVyY2VsLmFwcC9hcGkv"),counterPath:"counter/",jsDelivrUrl:"https://data.jsdelivr.com/v1/packages/gh/ageraplattformen/agera.js/resolved?specifier=latest",wfSiteId:document.querySelector("html")?.dataset.wfSite??"0000",postalCodeUrl:atob("aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2FnZXJhcGxhdHRmb3JtZW4vanMtbW9kdWxlc0BtYWluL3ppcC8=")},g={method:"POST",headers:{"Content-Type":"application/json"},critical:!0,waitForResponse:!0};async function z(t,e,o,n,r,a,i){let s=new URL("fcrm/",p.apiUrl).toString();i?.waitForResponse||(i={...i,waitForResponse:"false"});let l={method:a.toUpperCase(),headers:{"Content-Type":"application/json"},url:s,body:JSON.stringify({crm:t,...e?{client:e}:{},crm_endpoint:o["data-crm-endpoint"]||o["data-profundo-url"]||"",attributes:o,response:r?JSON.parse(r):{},body:n?{...Object.fromEntries(n)}:{},...x.size>0?{query_params:{...Object.fromEntries(x)}}:{},source:window.location.href,...C?{...C}:{}})};return R(l,i)}function W(){let t=localStorage.getItem("crm_data")||"{}",e=[...document.querySelectorAll("[data-crm-patch]"),...document.querySelectorAll("[data-profundo-client]")];if(e.length===0)return;async function o(n){let r=n.currentTarget,a=r.getAttribute("data-crm-patch")??(r.getAttribute("data-profundo-client")?"profundo":""),i=r.getAttribute("data-client")??r.getAttribute("data-profundo-client")??"",s=r.getAttribute("data-crm-patch-method")??"POST",l={};[...r.attributes].forEach(m=>{m.name.startsWith("data-")&&(l[m.name]=m.value)});let c=document.querySelector("[data-load-petition]")??r.closest("form")??null,u=c?new FormData(c):new FormData;if(!T.hasOwnProperty(a)){let m=await z(a,i,l,u,t,s,c?.dataset);m&&(localStorage.setItem("crm_data",JSON.stringify(m)),v(m));return}a==="djurensratt"&&c&&await Z(c,l,t)}e.forEach(n=>{n.addEventListener("click",r=>{try{o(r).then(()=>{}).catch(a=>{console.error("Error handling patch:",a)})}catch(a){console.error("Error handling patch:",a)}}),n.style.cursor="pointer"})}function Q(t,e){let o=new FormData;for(let[n,r]of new FormData(t))e.hasOwnProperty(n)?o.append(e[n],r):o.append(n,r);return o}var x=new URLSearchParams(window.location.search);function _t(){function t(o){let n=[...x.keys()].find(r=>r.toLowerCase().includes(o));return n?x.get(n)??"":""}return{source:t("source").toLowerCase(),campaign:t("campaign").toLowerCase(),medium:t("medium").toLowerCase(),content:t("content").toLowerCase()}}var w=_t(),y=Array.from(x,([t,e])=>`${t.toLowerCase()}: ${e.toLowerCase()}`).join(", "),C={utms:{...w.campaign?{utm_campaign:w.campaign}:{},...w.source?{utm_source:w.source}:{},...w.medium?{utm_medium:w.medium}:{},...w.content?{utm_content:w.content}:{}}};function G(t){let e=new FormData(t),o=[],n=[],r={};for(let[a,i]of e.entries())a.startsWith("tags")?o.push(i):a.startsWith("language")?n.push(i):["given-name","family-name","email","tel","postal-code","street-address","address-level2","country"].includes(a)||(r[a]=i);return{...g,url:t.getAttribute("action")??"",body:JSON.stringify({person:{given_name:e.get("given-name"),family_name:e.get("family-name"),email_addresses:[{address:e.get("email")}],phone_numbers:[{number:e.get("tel")??""}],postal_addresses:[{postal_code:e.get("postal-code")??"",address_lines:e.get("street-address")??"",region:e.get("adress-level2")??"",country:e.get("country")??""}]},add_tags:[...o],"action_network:referrer_data":{source:w.source?w.source.toString():"",website:window.location.hostname+window.location.pathname},languages_spoken:[...n],custom_fields:r})}}function K(t){let e=t?.getAttribute("data-country-code")||"";return{...g,url:new URL("amnesty/",p.apiUrl).toString(),body:JSON.stringify({form:{...Object.fromEntries(new FormData(t)),action_id:t.dataset.actionId||"9999",sign_method:t.dataset.signMethod||"agera-default"},UTM:y,site_id:p.wfSiteId,source:window.location.href,...e?{country_code:e}:{}})}}function H(t,e=!1,o,n){let r=new FormData(t),a="data-action-id",i=t.getAttribute(a)||"No ActionID Provided",s=atob("aHR0cHM6Ly9hY3QuZGp1cmVuc3JhdHQuc2UvcmVmb3JtLXNvY2lldHkvYXBpLw==");if(e){let c=JSON.parse(n||"{}"),u=!!(o&&o["data-recruit-me"]==="true");return{...g,url:s+"update",body:JSON.stringify({partId:c.partId||"",recruitMe:u,signature:{actionId:o&&o[a]||"No ActionID Provided",source:y?y:"reform-campaign"}})}}let l=!!r.get("updates");return{...g,url:s+"register",body:JSON.stringify({person:{first:r.get("given-name")||"",last:r.get("family-name")||"",email:r.get("email")||"",mobile:r.get("tel")||""},acquisition:{actionId:i?i.toString():"",source:y?y:"",marketingPermission:l}})}}async function Z(t,e,o){async function n(r){try{let a=await fetch(r.url,{method:r.method,headers:r.headers,body:r.body,keepalive:!0});if(!a.ok)throw new Error(`Request failed with status ${a.status}`);await a.json()}catch(a){throw a}}await n(H(t,!0,e,o))}function Y(t){let e=new FormData(t),o={};return t&&Array.from(t.attributes).forEach(r=>{r.name.startsWith("data-")&&(o[r.name]=r.value)}),{...g,url:new URL("fcrm/",p.apiUrl).toString(),body:JSON.stringify({crm:t?.dataset.crm??"",...t?.dataset.client?{client:t.dataset.client}:{},...t?.dataset.crmEndpoint||t?.action?{crm_endpoint:t?.dataset.crmEndpoint??t?.action}:{},body:{...Object.fromEntries(e)},...C?{...C}:{},...x.size>0?{query_params:{...Object.fromEntries(x)}}:{},source:window.location.href,...o?{attributes:{...o}}:{}})}}function X(t){let o=Q(t,{"given-name":"FNAME","family-name":"LNAME",email:"EMAIL",tel:"PHONE","street-adress":"ADDRESS","postal-code":"POSTALCODE","adress-level2":"REGION",country:"COUNTRY"}),n=t?.getAttribute("data-mailchimp-tags")||"";n!==""&&o.append("tags",n);let r=new URLSearchParams;for(let[a,i]of o.entries())(typeof i=="string"||typeof i=="number")&&r.append(a,i.toString());return r.append("UTM",y),{...g,url:t.getAttribute("action")?.replace("post?","post-json?")+"&c=?",headers:{"Content-Type":"application/x-www-form-urlencoded"},dataType:"jsonp",body:r.toString()}}function tt(t){let e=new URL(document.querySelector("html")?.dataset.wfSite??"0000","https://webflow.com/api/v1/form/"),o=new FormData(t);o.append("UTM",y);let n=new URLSearchParams({name:t?.getAttribute("name")??"form",source:window.location.href});for(let r of o.entries()){let a=`fields[${r[0]}]`;n.append(a,r[1])}return{...g,url:e.href,headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n.toString()}}function et(t){return{...g,url:t.getAttribute("action")||"",body:JSON.stringify({[t.getAttribute("name")||"form"]:Object.fromEntries(new FormData(t)),source:window.location.href,time:new Date().toISOString(),UTM:y})}}var T={actionnetwork:G,amnesty:K,djurensratt:H,mailchimp:X,webflow:tt,zapier:et,none:""};async function rt(t,e,o){try{let n=e.dataset,r=await Promise.allSettled(t.map(i=>R(i,n)));r.some((i,s)=>i.status==="rejected"&&t[s].critical)?D(!1,!1,e,o):(jt(r),D(!0,!0,e,o))}catch(n){console.error("Error in Promise.allSettled:",n),D(!1,!1,e,o)}}function jt(t){let e=[];if(t.forEach((o,n)=>{if(o.status==="fulfilled"&&o.value!==null){let r=o.value;if(typeof o.value=="object"&&!J(r)){let a=o.value;e.push(a)}else typeof o.value=="string"&&e.push({[n.toString()]:o.value})}}),e.length>0){let o={};e.forEach(n=>{Object.assign(o,n)}),localStorage.setItem("crm_data",JSON.stringify(o)),v(o)}}function D(t,e,o,n){let r=o.parentNode,a=r?.querySelector(".w-form-done"),i=r?.querySelector(".w-form-fail");t?(a?.style.setProperty("display","block"),i?.style.setProperty("display","none"),e&&It(o,n)):(a?.style.setProperty("display","none"),i?.style.setProperty("display","block"),n.submitButton&&(n.submitButton.value=n.submitText))}function It(t,e){let o=t.getAttribute("redirect")??null;if(o)if(e.addUtm){let n=new URL(o,e.thisUrl),r=new URLSearchParams(window.location.search);n.searchParams.forEach((i,s)=>{r.has(s)||r.set(s,i)});let a=n.origin+n.pathname+(r.toString()?`?${r.toString()}`:"");window.location.href=a}else window.location.href=o;else t.style.display="none",console.warn("No redirect defined")}function ot(t){let e=/^data-counter(\d+)?-update$/;return Array.from(t.attributes).filter(n=>e.test(n.name)).map(n=>{let r=n.name.match(/\d+/),a=r?r[0]:null,i=n.value,s=`data-counter${a||""}-add-amount`,l=t.querySelector(`[${s}]`),c=l?Number(l.value||l.getAttribute(s)):null;return Nt(i,t,c)})}function Nt(t,e,o){let n=new FormData(e);return{...g,critical:!1,url:new URL(p.counterPath+t,p.apiUrl).toString(),body:JSON.stringify({form:"default",site_id:p.wfSiteId,last_person:n.get("given-name")||"",form_url:window.location.href,...o?{add_amount:o}:{}})}}function nt(t){let e={thisUrl:new URL(window.location.href),addUtm:t.dataset.redirectUtm??!0,submitButton:t.querySelector('input[type="submit"]'),submitText:t.querySelector('input[type="submit"]')?.value??""};async function o(n){n.preventDefault(),n.stopPropagation(),e.submitButton&&(e.submitButton.value=e.submitButton.dataset.wait??e.submitButton.value);let r=[],a=t.dataset.crm?.toLowerCase()??"webflow";if(a!=="none"){let i=T[a]??Y;r.push(i(t))}r.push(...ot(t)),r.length&&await rt(r,t,e)}t.addEventListener("submit",n=>{n.preventDefault(),o(n).catch(r=>console.error(r))})}function at(){document.querySelectorAll("[data-crm]").forEach(e=>{nt(e)})}var F=class{constructor(){this.counters=new Map}async getCounter(e){if(this.counters.has(e))return this.counters.get(e);let o=new URL(p.counterPath+e,p.apiUrl),n=(async()=>{try{let a=await fetch(o);if(!a.ok)throw new Error("Error fetching counter data");return await a.json()}catch(a){throw new Error("Error fetching counter data: "+String(a))}})();this.counters.set(e,n);let r=await n;return this.counters.delete(e),r}},U=new F;async function st(){try{let t=await fetch(p.jsDelivrUrl);if(!t.ok)return"latest";let e=await t.json();return e?.version?`v${e.version}`:"latest"}catch(t){return console.error(t),"latest"}}function Bt(){function t(s,l){return s>=l?100:Math.round(s/l*100)}function e(s){let l={350:50,500:100,2e3:250,5e3:500,2e4:2500,5e4:5e3,1e5:1e4,2e5:25e3,5e5:5e4,1e6:1e5},c=25e4,m=Object.keys(l).map(Number).find(f=>f>=s),d=m?l[m]:c;return Math.ceil(s*1.05/d)*d}function o(s,l){return s*1.05<l.target||!l.autoTarget?l.target:e(s)}function n(s,l,c){s.style.width=t(l,c)+"%"}function r(s,l,c){try{let u=new Intl.NumberFormat(c.locale,c.notation).format(l);s.textContent=u}catch{c.notation.useGrouping=!1,c.notation.notation="standard";let u=new Intl.NumberFormat(void 0,c.notation).format(l);s.textContent=u}}function a(s,l,c){l<=c.removeBelow&&(s.style.display="none"),l>=c.hideBelow&&(s.style.opacity="1")}async function i(s){let l=s.dataset.counterName||"default",c={target:parseInt(s.dataset.counterTarget||"0",10),hideBelow:parseInt(s.dataset.counterHideBelow||"0"),removeBelow:parseInt(s.dataset.counterRemoveBelow||"0"),autoTarget:!!s.dataset.counterAutoTarget||!0,locale:s.dataset.counterLocale||document.documentElement.lang||"undefined",notation:{notation:s.dataset.counterNotation?.toLowerCase()||"standard",useGrouping:!0}};async function u(h){if(h.toLowerCase()==="default")return 125;let E=await U.getCounter(h);if(E){let q=E.count;return(typeof window.agera!="object"||window.agera===null)&&(window.agera={}),window.agera.counterValues||(window.agera.counterValues={}),window.agera.counterValues[h]=q,q}return 0}let m=await u(l);if(s.classList.contains("counter-current-value"))r(s,m,c),a(s,m,c);else{let h=s.querySelectorAll(".counter-current-value");for(let E of h)r(E,m,c),a(E,m,c)}let d=o(m,c),f=s.querySelectorAll(".counter-target-value");for(let h of f)r(h,d,c),a(h,m,c);let b=s.querySelectorAll(".counterbar-limiter");for(let h of b)n(h,m,d);a(s,m,c)}return{processCounterElement:i}}function it(){let t=".counter-target-value, .counter-current-value, .counter_container { opacity: 0; transition: opacity 0.7s; }",e=document.createElement("style");e.textContent=t,document.head.appendChild(e)}async function ct(){let t=document.querySelectorAll("[data-counter-name]"),e=Bt();for(let o of t)await e.processCounterElement(o)}var O=(t,e=!0)=>t.cloneNode(e);function _(t){t&&t.classList.contains("cloak")&&t.classList.remove("cloak")}function lt(){{let t=`.cloak { 
			opacity: 0;
			height: 0px;
      overflow: hidden;
			margin: 0;
      padding-top: 0;
      padding-bottom: 0;
		}`,e=document.createElement("style");e.textContent=t,document.head.appendChild(e)}}function ut(){let t=document.querySelectorAll("[data-counter-name]"),o=Array.from(t).find(s=>s.dataset.counterLocale)?.dataset.counterLocale??(document.documentElement.lang||"en");o.toLowerCase()==="none"&&(o=document.documentElement.lang||"en");function n(s,l){let c=O(l),u=c.querySelector('[data-template="last-person-name"]'),m=c.querySelector('[data-template="last-person-time"]');return u&&m&&(u.innerText=s.name,m.innerText=r(s.date,o)),c}function r(s,l){let c=new Date,u=new Date(s),m=new Date(u.getTime()-u.getTimezoneOffset()*6e4),d=Math.floor((c.getTime()-m.getTime())/1e3),f=new Intl.RelativeTimeFormat(l,{numeric:"auto"});if(d<60)return f.format(-d,"second");let b=Math.floor(d/60);if(b<60)return f.format(-b,"minute");let h=Math.floor(d/3600);if(h<12)return f.format(-h,"hour");let E=Math.floor(d/86400);return f.format(-E,"day")}function a(s){let l=s.last_person.names;return l.reverse(),l.filter((u,m,d)=>d.findIndex(f=>f.name===u.name)===m)}async function i(s,l){let c=l.querySelector('[data-template="last-person"]');if(!c)return;let u=c.parentElement;c.remove();let m=await U.getCounter(s);if(!m||!m.last_person?.names||m.last_person.names.length<2){u?.remove();return}let f=a(m).map(b=>n(b,c));f.length>0&&u&&(_(u),u.append(...f)),f.forEach(b=>{setTimeout(function(){_(b)},100)})}t.forEach(s=>{let l=s.dataset.counterName??"default";i(l,s)})}function A(t){return JSON.parse(localStorage.getItem(t)??"{}")}function mt(){let t="data-clear-localstorage",e=document.querySelector(`[${t}]`);if(!e)return;let o=e.getAttribute(t),n=e.matches("a, button"),r=()=>{o?.toLowerCase()==="true"||o?.toLowerCase()==="all"?(console.log("Clearing all local storage"),localStorage.clear()):o&&(console.log("Clearing local storage key:",o),localStorage.removeItem(o))};n?e.addEventListener("click",a=>{a.preventDefault(),r(),document.querySelectorAll("form").forEach(i=>{i.reset()}),window.location.reload()}):r()}function dt(){function t(r){let a=A("forwardedform");B(Object.entries(a));function i(c){let u=Array.from(new URLSearchParams(window.location.search),([m,d])=>`${m}: ${d}`).join(", ");return c.utm=u,c}let s=i(a);function l(c){Object.entries(c).forEach(([u,m])=>{if(m){let d=document.createTextNode(m).textContent,f=`<input type="hidden" id="${u}" name="${u}" value="${d}">`;r.insertAdjacentHTML("afterbegin",f)}})}l(s)}function e(r){let a=new URLSearchParams(window.location.search),i=Array.from(a,([c,u])=>`${c}: ${u}`),s=r.getAttribute("redirect");if(s){let c=s+(s?.includes("?")?"&":"?")+a.toString();r.setAttribute("redirect",c),r.setAttribute("data-redirect",c)}window.addEventListener("beforeunload",()=>{l(r)});function l(c){if(c instanceof HTMLFormElement){let u=new FormData(c),m=i.join(", ");u.set("utm",m),localStorage.setItem("forwardedform",JSON.stringify(Object.fromEntries(u)))}}}let o=document.querySelectorAll("[data-crm]");o.length>0&&o.forEach(function(r){e(r)});let n=document.querySelectorAll('[data-load-petition="true"]');n.length>0&&n.forEach(function(r){t(r)})}function ft(){let t=document.querySelector("form[data-auto-submit]");if(t&&t.getAttribute("data-auto-submit")?.toLowerCase()==="true"){if(!t.checkValidity()){console.warn("Form validation failed.");return}let e=new Event("submit",{bubbles:!0,cancelable:!0});t.dispatchEvent(e)}}function pt(){document.querySelectorAll("[data-copy]").forEach(e=>{e.addEventListener("mouseover",function(){e.style.cursor="pointer"}),e.addEventListener("click",async function(){let o="",n=e.getAttribute("data-copy")||"";if(n?.toLowerCase()==="url")o=window.location.href;else if(n?.toLowerCase()==="prev-url")o=document.referrer||"";else{let r=document.getElementById(n);r?.textContent?o=r.textContent:o=n||""}try{await navigator.clipboard.writeText(o),console.log("Copied to clipboard:",o.toString())}catch(r){console.error("Failed to copy: ",r)}})})}async function gt(){let t=document.querySelectorAll("[data-js-version]");if(t.length<1)return;let e=document.querySelector('script[src$="agera.js"]'),o="";if(e){let{src:n}=e,r=/@([^/]+)/.exec(n);if(r){let[,a]=r;o=a,o.toLowerCase().includes("latest")&&(o=await st())}}o!==""&&t.forEach(n=>{n.innerText=o})}function ht(){document.querySelectorAll("[data-hide-if-data], [data-show-if-data]").forEach(t=>{let e=t.getAttribute("data-hide-if-data")??t.getAttribute("data-show-if-data");if(!e)return;let o=!!t.getAttribute("data-hide-if-data"),n=e?new URLSearchParams(window.location.search).get(e)??"":"",r=e&&A("forwardedform")[e]||"",a=!!(n||r);t.style.display=o===a?"none":""})}function yt(){let t=document.querySelectorAll("a[href]"),e=new URLSearchParams(window.location.search);t.forEach(o=>{if(!o.href.includes("#")){let n=new URL(o.href,window.location.href);n.searchParams.forEach((a,i)=>{e.has(i)||e.append(i,a)});let r=e.toString();o.href+=`${n.search?"&":"?"}${r}${n.hash}`}})}var wt="data-insert-name";function Qt(t,e){let o="",n=["first_name","first-name","firstname","fn","first","fname","f-name","n","given_name","given-name","givenname","gn","g-n","given"];[...Object.entries(t),...Array.from(e.entries())].forEach(([a,i])=>{n.includes(a.toLowerCase())&&(o=i)});let r=document.querySelectorAll(`[${wt}]`);r.length>0&&o!==""&&Gt(r,o)}function Gt(t,e){let o={"no-space":e,"leading-space":"&nbsp;"+e,"trailing-space":e+"&nbsp;","double-space":"&nbsp;"+e+"&nbsp;","":"&nbsp;"+e};t.forEach(n=>{let r=n.getAttribute(wt)||"leading-space";o.hasOwnProperty(r)&&(n.innerHTML=o[r])})}function xt(){let t=A("forwardedform"),e=new URLSearchParams(window.location.search);Qt(t,e)}var k=typeof Buffer=="function",bt=typeof TextDecoder=="function"?new TextDecoder:void 0,eo=typeof TextEncoder=="function"?new TextEncoder:void 0,Yt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Xt=Array.prototype.slice.call(Yt),M=(t=>{let e={};return t.forEach((o,n)=>e[o]=n),e})(Xt),te=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,L=String.fromCharCode.bind(String),Et=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0));var Lt=t=>t.replace(/[^A-Za-z0-9\+\/]/g,"");var ee=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,re=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),o=e-65536;return L((o>>>10)+55296)+L((o&1023)+56320);case 3:return L((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return L((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},oe=t=>t.replace(ee,re),ne=t=>{if(t=t.replace(/\s+/g,""),!te.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,o="",n,r;for(let a=0;a<t.length;)e=M[t.charAt(a++)]<<18|M[t.charAt(a++)]<<12|(n=M[t.charAt(a++)])<<6|(r=M[t.charAt(a++)]),o+=n===64?L(e>>16&255):r===64?L(e>>16&255,e>>8&255):L(e>>16&255,e>>8&255,e&255);return o},St=typeof atob=="function"?t=>atob(Lt(t)):k?t=>Buffer.from(t,"base64").toString("binary"):ne,ae=k?t=>Et(Buffer.from(t,"base64")):t=>Et(St(t).split("").map(e=>e.charCodeAt(0)));var se=k?t=>Buffer.from(t,"base64").toString("utf8"):bt?t=>bt.decode(ae(t)):t=>oe(St(t)),ie=t=>Lt(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),Ct=t=>se(ie(t));function At(){document.querySelectorAll("[data-insert-query]").forEach(e=>{let o=e.getAttribute("data-insert-query");if(o){let n=new URLSearchParams(window.location.search).get(o);n!==null&&(e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement?e.value=n.toString():e.textContent=n.toString())}})}function vt(){document.querySelectorAll("[data-insert-b64-query]").forEach(e=>{let o=e.getAttribute("data-insert-b64-query");if(o){let n=Ct(new URLSearchParams(window.location.search).get(o)??"");n&&(e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement?e.value=n.toString():e.textContent=n.toString())}})}var P={DK:/^\d{4}$/,FI:/^(FI-|AX-)?\d{5}$/,NO:/^\d{4}$/,SE:/^(SE-)?\d{3}[ ]?\d{2}$/};function Rt(){async function t(n){let r=`${p.postalCodeUrl}${n}.js`;if(!P.hasOwnProperty(n))throw new Error("Unsupported country code");return(await import(r))[n]}async function e(n){if(!(n.getAttribute("data-postalcode-place-autofill")?.toLowerCase()==="true"))return;let a=n.querySelectorAll('[name="postal-code"]'),i=n.querySelectorAll('[name="address-level2"]'),s=n.dataset.countryCode?.toUpperCase()??"",l=Array.from(a).find(u=>u.type!=="hidden"&&u.offsetParent!==null)??a[0],c=Array.from(i).find(u=>u.type!=="hidden"&&u.offsetParent!==null)??i[0];if(!c||!l||s===""||!P.hasOwnProperty(s)){console.error("Visible postal code input, visible city output, or supported country not found");return}try{let u=await t(s),m=!1;l.addEventListener("input",()=>{let d=l.value.replaceAll(" ",""),f=P[s];d.length>3&&f.test(d)&&!m&&(c.value=u[d]||c.value)})}catch(u){console.error("Error loading postal codes:",u)}}async function o(){let n=document.querySelectorAll("[data-postalcode-place-autofill]");for(let r of n)await e(r)}o().catch(n=>{console.error("Postcode Place Autofill Error:",n)})}function Tt(){let t=new URLSearchParams(window.location.search);document.querySelectorAll("[data-redirect]").forEach(o=>{let n=o.getAttribute("data-redirect");try{if(n){let r=new URL(n,document.baseURI),a=new URL(r.toString()),i=a.searchParams;t.forEach((s,l)=>{i.has(l)||i.set(l,s)}),o.setAttribute("data-redirect",a.toString())}}catch(r){console.error("An error occurred:",r)}})}function Ut(){Object.entries({"[data-share-whatsapp-text]":e=>`https://wa.me/?text=${encodeURIComponent(e)}`,"[data-share-facebook-url]":e=>`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(e)}`,"[data-share-linkedin-url]":e=>`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(e)}`,"[data-share-twitter-text]":e=>`https://twitter.com/intent/tweet?text=${encodeURIComponent(e)}`,"[data-share-email-subject], [data-share-email-body]":(e,o)=>`mailto:?subject=${encodeURIComponent(e)}&body=${encodeURIComponent(o)}`}).forEach(([e,o])=>{document.querySelectorAll(e).forEach(n=>{n.addEventListener("click",r=>{r.preventDefault();let a=e.includes("email"),i=n.getAttribute(a?"data-share-email-subject":e.slice(1,-1))??"",s=a?n.getAttribute("data-share-email-body")??"":"",l=o(i,s);window.open(l,a?"_self":"_blank")})})})}function Mt(){let t=document.querySelectorAll("*"),e=[],o=!0;if(t.forEach(n=>{let{attributes:r}=n;for(let a=0;a<r.length;a++){let i=r[a];i.name.startsWith("data-splitter-url")?e.push(i.value):i.name==="data-splitter-keep-query"&&i.value==="false"&&(o=!1)}}),e.length){let n=e[Math.floor(Math.random()*e.length)],r=window.location,a=o?new URL(n,r.origin).href+r.search:n;window.location.href=a}}function Pt(){let t=[document.documentElement.lang||"en","en"];document.querySelectorAll("[data-insert-time]").forEach(n=>{n.innerText=fe(n,t)}),document.querySelectorAll("[data-remaining-days-to]").forEach(n=>{n.innerText=pe(n,t)})}function fe(t,e){let o=new Date,n=t.getAttribute("data-insert-time"),r="";if(n?.toLowerCase()==="year")r=o.getFullYear().toString();else if(n?.toLowerCase()==="month")r=(o.getMonth()+1).toString();else if(n?.toLowerCase()==="day")r=o.getDate().toString();else if(n?.toLowerCase()==="date")r=o.toLocaleDateString(e);else if(n?.toLowerCase()==="datetime")r=o.toLocaleString(e);else if(n?.toLowerCase()==="time")r=o.toLocaleTimeString(e);else return"";return r}function pe(t,e){let o=new Date,n=t.getAttribute("data-remaining-days-to");try{if(n){let r=new Date(n),a=Math.round((r.getTime()-o.getTime())/(1e3*60*60*24));return new Intl.RelativeTimeFormat(e,{numeric:"auto"}).format(a,"day")}}catch(r){console.error("remainingDays error:",r)}return""}function Ht(){function t(){let a=window.location.pathname.split("/").filter(s=>s.length===2),i=a.length>0?a[0]:"";return i!==""?"/"+i:i}function e(r){try{return new URL(r),!0}catch{return!1}}function o(r,a){if(r===null)return"";if(e(r)){let i=new URL(r);return i.pathname=a+i.pathname,i.toString()}return a+r}let n=document.querySelectorAll('[data-linguana-redirect="true"]');for(let r of n)r.getAttribute("redirect")&&r.setAttribute("redirect",o(r.getAttribute("redirect"),t())),r.getAttribute("data-redirect")&&r.setAttribute("data-redirect",o(r.getAttribute("data-redirect"),t()))}async function Dt(){yt(),mt(),pt(),await gt(),vt(),xt(),At(),Tt(),Mt(),Pt(),Ut(),ft(),Rt(),ht(),V()}function ye(){it(),lt();async function t(){Ht(),dt(),await ct(),at(),ut(),W(),await Dt()}document.addEventListener("DOMContentLoaded",async()=>{try{await t()}catch(e){console.error("Error during DOMContentLoaded:",e)}})}window.agera||(document.currentScript&&"src"in document.currentScript&&document.currentScript.src.includes("localhost:")?(console.log("agera.js dev mode".toUpperCase()),window.agera={dev:!0}):window.agera={},ye());})();
