"use strict";(()=>{var N,I,O,w={apiUrl:((N=document.currentScript)==null?void 0:N.getAttribute("api-url"))||atob("aHR0cHM6Ly91dGlscy1hcGkudmVyY2VsLmFwcC9hcGkv"),counterPath:"counter/",jsDelivrUrl:"https://data.jsdelivr.com/v1/packages/gh/ageraplattformen/agera.js/resolved?specifier=latest",wfSiteId:(O=(I=document.querySelector("html"))==null?void 0:I.dataset.wfSite)!=null?O:"0000"},h={method:"POST",headers:{"Content-Type":"application/json"},critical:!0,waitForResponse:!0};function Ct(t){document.querySelectorAll("[data-profundo-client]").forEach(r=>{r.addEventListener("click",async()=>{let o=r.dataset.activitytypeId||"",a=r.dataset.classificationId||"",u=r.dataset.profundoText||"",i=R(void 0,{client:r.dataset.profundoClient||"not_provided",client_url:r.dataset.profundoUrl||r.dataset.crmEndpoint||"not_provided",country_code:r.dataset.countryCode||"",name:{name_id:Number(t)},register_id:r.dataset.registerId||"",campaign_id:Number(r.dataset.campaignId)||void 0,activity:{...o?{activitytype_id:o}:{activitytype_id:""},...a?{classification_id:a}:{},...u?{shortText:u}:{},shorttext:r.dataset.profundoText||""}});await n(i)})});async function n(r){try{let o=await fetch(r.url,{method:r.method,headers:r.headers,body:r.body});return o.ok?await o.json():void 0}catch(o){console.warn("Profundo error: ",o);return}}}function j(t,e){let n=t["data.name_id"];t&&n&&(Ct(n.toString()),e==null||e.push(["name_id",n.toString()]))}function R(t,e){let r=t?v(t,{"given-name":"firstname","family-name":"lastname",email:"email",tel:"mobile","street-address":"address","postal-code":"zip",country:"country_id"}):void 0,o=e==null?void 0:e.name.name_id;r||(r=new FormData);let a=[];for(let[y,E]of r.entries())if(y.startsWith("infotype")){let S=parseInt(E);isNaN(S)||a.push(S),r.delete(y)}let u=(t==null?void 0:t.getAttribute("data-country-code"))||(e==null?void 0:e.country_code)||"";!(r!=null&&r.get("country"))&&u&&r.append("country_id",u);let i=(e==null?void 0:e.activity.shorttext)||(t==null?void 0:t.dataset.profundoText),m=(t==null?void 0:t.dataset.registerId)||(e==null?void 0:e.register_id),s=(t==null?void 0:t.dataset.campaignId)||(e==null?void 0:e.campaign_id),l=(t==null?void 0:t.dataset.crmEndpoint)||(t==null?void 0:t.getAttribute("action"))||(e==null?void 0:e.client_url)||"",c={text1:r.get("text1")||"",text2:r.get("text2")||"",text3:r.get("text3")||""},f=["text1","text2","text3","text4"];for(let y of f)r.delete(y);let d=(t==null?void 0:t.dataset.classificationId)||(e==null?void 0:e.activity.classification_id)||"SI",p=r&&{...Object.fromEntries(r)};o&&(p.name_id=Number(o));let g={...x.content?{text4:x.content}:""};return{...h,critical:!o,url:new URL("profundo/",w.apiUrl).toString(),body:JSON.stringify({client:(t==null?void 0:t.dataset.client)||(e==null?void 0:e.client)||"not_provided",client_url:l,...u?{country_code:u}:{},referrer:window.location.href,body:{name:p,...m?{register_id:m}:{},...s?{campaign_id:s}:{},...a?{infotype_id:a[0]}:{},activity:{...c.text1?{text1:c.text1}:{},...c.text2?{text2:c.text2}:{},...c.text3?{text3:c.text3}:{},...o?{}:{...g},...i?{shorttext:i}:{},activitytype_id:(t==null?void 0:t.dataset.activitytypeId)||(e==null?void 0:e.activity.activitytype_id)||"UN",...d?{classification_id:d}:{}}}})}}var M=(t,e)=>{let n={};for(let r in t){let o=t[r],a=e?`${e}.${r}`:r;typeof o=="object"&&o!==null?Object.assign(n,M(o,a)):n[a]=o}return n};function q(t){function e(){let r=localStorage.getItem("crm_data");return r||localStorage.removeItem("crm_data"),JSON.parse(r)}let n=M(e());n&&j(n,t)}function B(t){return typeof t=="object"&&t.hasOwnProperty("count")&&typeof t.count=="number"&&t.hasOwnProperty("name")&&typeof t.name=="string"}function V(t){let e=new FormData(t),n=[],r=[],o={};for(let[a,u]of e.entries())a.startsWith("tags")?n.push(u):a.startsWith("language")?r.push(u):["given-name","family-name","email","tel","postal-code","street-address","address-level2","country"].includes(a)||(o[a]=u);return{...h,url:t.getAttribute("action")||"",body:JSON.stringify({person:{given_name:e.get("given-name"),family_name:e.get("family-name"),email_addresses:[{address:e.get("email")}],phone_numbers:[{number:e.get("tel")||""}],postal_addresses:[{postal_code:e.get("postal-code")||"",address_lines:e.get("street-address")||"",region:e.get("adress-level2")||"",country:e.get("country")||""}]},add_tags:[...n],"action_network:referrer_data":{source:x.source?x.source.toString():"",website:window.location.hostname+window.location.pathname},languages_spoken:[...r],custom_fields:o})}}function J(t){let e=(t==null?void 0:t.getAttribute("data-country-code"))||"";return{...h,url:new URL("amnesty/",w.apiUrl).toString(),body:JSON.stringify({form:{...Object.fromEntries(new FormData(t)),action_id:t.dataset.actionId||"9999",sign_method:t.dataset.signMethod||"agera-default"},UTM:b,site_id:w.wfSiteId,source:window.location.href,...e?{country_code:e}:{}})}}function _(t,e=!1,n,r){let o=new FormData(t),a="data-action-id",u=t.getAttribute(a)||"No ActionID Provided",i=atob("aHR0cHM6Ly9hY3QuZGp1cmVuc3JhdHQuc2UvcmVmb3JtLXNvY2lldHkvYXBpLw==");if(e){let s=JSON.parse(r||"{}"),l=!!(n&&n["data-recruit-me"]==="true");return{...h,url:i+"update",body:JSON.stringify({partId:s.partId||"",recruitMe:l,signature:{actionId:n&&n[a]||"No ActionID Provided",source:b?b:"reform-campaign"}})}}let m=!!o.get("updates");return{...h,url:i+"register",body:JSON.stringify({person:{first:o.get("given-name")||"",last:o.get("family-name")||"",email:o.get("email")||"",mobile:o.get("tel")||""},acquisition:{actionId:u?u.toString():"",source:b?b:"",marketingPermission:m}})}}async function z(t,e,n){async function r(o){try{let a=await fetch(o.url,{method:o.method,headers:o.headers,body:o.body,keepalive:!0});if(!a.ok)throw new Error(`Request failed with status ${a.status}`);await a.json()}catch(a){throw a}}await r(_(t,!0,e,n))}function Q(t){let e=new FormData(t),n={};t&&Array.from(t.attributes).forEach(a=>{a.name.startsWith("data-")&&(n[a.name]=a.value)});let r={utms:{...x.campaign?{utm_campaign:x.campaign}:"",...x.source?{utm_source:x.source}:"",...x.medium?{utm_medium:x.medium}:"",...x.content?{utm_content:x.content}:""}};return{...h,url:new URL("fcrm/",w.apiUrl).toString(),body:JSON.stringify({crm:(t==null?void 0:t.dataset.crm)||"",...t!=null&&t.dataset.crmClient?{client:t.dataset.crmClient}:{},...t!=null&&t.dataset.crmEndpoint||t!=null&&t.action?{"crm-endpoint":(t==null?void 0:t.dataset.crmEndpoint)||(t==null?void 0:t.action)}:{},body:{...Object.fromEntries(e)},...r?{...r}:{},source:window.location.href,...n?{attributes:{...n}}:{}})}}function G(t){var a;let n=v(t,{"given-name":"FNAME","family-name":"LNAME",email:"EMAIL",tel:"PHONE","street-adress":"ADDRESS","postal-code":"POSTALCODE","adress-level2":"REGION",country:"COUNTRY"}),r=(t==null?void 0:t.getAttribute("data-mailchimp-tags"))||"";r!==""&&n.append("tags",r);let o=new URLSearchParams;for(let[u,i]of n.entries())(typeof i=="string"||typeof i=="number")&&o.append(u,i.toString());return o.append("UTM",b),{...h,url:((a=t.getAttribute("action"))==null?void 0:a.replace("post?","post-json?"))+"&c=?",headers:{"Content-Type":"application/x-www-form-urlencoded"},dataType:"jsonp",body:o.toString()}}function W(t){var o,a,u;let e=new URL((a=(o=document.querySelector("html"))==null?void 0:o.dataset.wfSite)!=null?a:"0000","https://webflow.com/api/v1/form/"),n=new FormData(t);n.append("UTM",b);let r=new URLSearchParams({name:(u=t==null?void 0:t.getAttribute("name"))!=null?u:"form",source:window.location.href});for(let i of n.entries()){let m=`fields[${i[0]}]`;r.append(m,i[1])}return{...h,url:e.href,headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r.toString()}}function Z(t){return{...h,url:t.getAttribute("action")||"",body:JSON.stringify({[t.getAttribute("name")||"form"]:Object.fromEntries(new FormData(t)),source:window.location.href,time:new Date().toISOString(),UTM:b})}}var T={actionnetwork:V,amnesty:J,djurensratt:_,mailchimp:G,profundo:R,webflow:W,zapier:Z,none:""};async function K(){let t=localStorage.getItem("crm_data"),e=document.querySelectorAll("[data-crm-patch]");!t||!e||e.forEach(n=>{n.style.cursor="pointer",n.addEventListener("click",async()=>{let r=n.getAttribute("data-crm-patch")||"",o=n.getAttribute("data-crm-patch-client")||"",a={};Array.from(n.attributes).forEach(m=>{m.name.startsWith("data-")&&(a[m.name]=m.value)});let u=document.querySelector("[data-load-petition]"),i=u?new FormData(u):new FormData;if(!T.hasOwnProperty(r)){Ut(r,o,a,i,t);return}if(r==="djurensratt"&&u){z(u,a,t);return}})})}async function Ut(t,e,n,r,o){let a=new URL("fcrm/",w.apiUrl).toString(),u={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({crm:t,...e?{client:e}:{},attributes:n,response:JSON.parse(o),body:{...Object.fromEntries(r)}})};try{let i=await fetch(a,{...u,keepalive:!0});return i.ok?await i.json():void 0}catch(i){console.error("P error: ",i);return}}function v(t,e){let n=new FormData;for(let[r,o]of new FormData(t))e.hasOwnProperty(r)?n.append(e[r],o):n.append(r,o);return n}var P=new URLSearchParams(window.location.search);function Rt(){function t(n){let r=[...P.keys()].find(o=>o.toLowerCase().includes(n));return r&&P.get(r)||""}return{source:t("source").toLowerCase(),campaign:t("campaign").toLowerCase(),medium:t("medium").toLowerCase(),content:t("content").toLowerCase()}}var x=Rt(),b=Array.from(P,([t,e])=>`${t.toLowerCase()}: ${e.toLowerCase()}`).join(", ");function Y(t){let e=/^data-counter(\d+)?-update$/;return Array.from(t.attributes).filter(r=>e.test(r.name)).map(r=>{let o=r.name.match(/\d+/),a=o?o[0]:null,u=r.value,i=`data-counter${a||""}-add-amount`,m=t.querySelector(`[${i}]`),s=m?Number(m.value||m.getAttribute(i)):null;return Mt(u,t,s)})}function Mt(t,e,n){let r=new FormData(e);return{...h,critical:!1,url:new URL(w.counterPath+t,w.apiUrl).toString(),body:JSON.stringify({form:"default",site_id:w.wfSiteId,last_person:r.get("given-name")||"",form_url:window.location.href,...n?{add_amount:n}:{}})}}function _t(t){let e={thisUrl:new URL(window.location.href),addUtm:!!t.dataset.redirectUtm||!0,submitButton:t.querySelector('input[type="submit"]'),submitText:""};e.submitText=e.submitButton&&e.submitButton.value||"";function n(s,l,c){let f=s.parentNode,d=f==null?void 0:f.querySelector(".w-form-done"),p=f==null?void 0:f.querySelector(".w-form-fail");l?(d&&(d.style.display="block"),p&&(p.style.display="none"),c&&r()):(d&&(d.style.display="none"),p&&(p.style.display="block"),e.submitButton&&(e.submitButton.value=e.submitText))}function r(){let s=t.getAttribute("redirect")||null;if(s)if(e.addUtm&&s){let l=new URL(s,e.thisUrl),c=new URLSearchParams(window.location.search);l.searchParams.forEach((d,p)=>{c.has(p)||c.set(p,d)});let f=l.origin+l.pathname+(c.toString()?"?"+c.toString():"");window.location.href=f}else window.location.href=s;else t.style.display="none",console.warn("No redirect defined")}async function o(s){return new Promise((l,c)=>{$.ajax({url:s.url,type:s.method,data:s.body,dataType:"jsonp",success:f=>{l(f)},error:(f,d,p)=>{c(p)}})})}async function a(s){var f;let l={method:s.method,headers:s.headers,body:s.body},c=((f=t==null?void 0:t.dataset.waitForResponse)==null?void 0:f.toLowerCase())!=="false";try{if(s.dataType==="jsonp")return o(s);if(!c)return fetch(s.url,{...l,keepalive:!0}),Promise.resolve(null);let d=await fetch(s.url,l);if(!d.ok)throw new Error(`Error fetching ${s.url}: ${d.statusText}`);if(d.headers.get("Content-Length")==="0")return Promise.resolve(null);let p=d.headers.get("Content-Type");return p&&p.includes("application/json")?await d.json():await d.text()}catch(d){throw console.error("An error occurred:",d),d}}function u(s){let l=[];if(s.forEach((c,f)=>{if(c.status==="fulfilled"&&c.value){let d=c.value;if(B(d))return;if(typeof c.value=="object")l.push(d);else if(typeof c.value=="string"){let p={};p[f.toString()]=c.value,l.push(p)}}}),l.length>0){let c=l.reduce((f,d)=>({...f,...d}),{});localStorage.setItem("crm_data",JSON.stringify(c))}}async function i(s,l){try{let c=await Promise.allSettled(s.map(d=>a(d))),f=!1;c.forEach((d,p)=>{d.status==="rejected"&&s[p].critical&&(f=!0)}),f?n(l,!1,!1):(u(c),n(l,!0,!0))}catch(c){console.error("Error in Promise.allSettled:",c),n(l,!1,!1)}}async function m(s){s.addEventListener("submit",async function(l){var g;l.preventDefault(),l.stopPropagation(),e.submitButton&&(e.submitButton.value=e.submitButton.dataset.wait||e.submitButton.value);let c=[],f=T,d=((g=s.dataset.crm)==null?void 0:g.toLowerCase())||"webflow";if(d!=="none")if(d&&f.hasOwnProperty(d)){let y=f[d];c.push(y(s))}else c.push(Q(s));let p=Y(s);c.push(...p),c.length>0&&await i(c,s)})}return{handleForm:m}}function X(){let t=document.querySelectorAll("[data-crm]");for(let e of t)_t(e).handleForm(e)}var F=class{constructor(){this.counters=new Map}async getCounter(e){if(this.counters.has(e))return this.counters.get(e);let n=new URL(w.counterPath+e,w.apiUrl),r=(async()=>{try{let a=await fetch(n);return a.ok?await a.json():void 0}catch{return}})();this.counters.set(e,r);let o=await r;return this.counters.delete(e),o}},C=new F;async function tt(){try{let t=await fetch(w.jsDelivrUrl);return t.ok?`v${(await t.json()).version}`:"latest"}catch{return"latest"}}function Pt(){function t(i,m){return i>=m?100:Math.round(i/m*100)}function e(i){let m={350:50,500:100,2e3:250,5e3:500,2e4:2500,5e4:5e3,1e5:1e4,2e5:25e3,5e5:5e4,1e6:1e5},s=25e4,c=Object.keys(m).map(Number).find(d=>d>=i),f=c?m[c]:s;return Math.ceil(i*1.05/f)*f}function n(i,m){return i*1.05<m.target||!m.autoTarget?m.target:e(i)}function r(i,m,s){i.style.width=t(m,s)+"%"}function o(i,m,s){try{let l=new Intl.NumberFormat(s.locale,s.notation).format(m);i.textContent=l}catch{s.notation.useGrouping=!1,s.notation.notation="standard";let l=new Intl.NumberFormat(void 0,s.notation).format(m);i.textContent=l}}function a(i,m,s){m<=s.removeBelow&&(i.style.display="none"),m>=s.hideBelow&&(i.style.opacity="1")}async function u(i){var p;let m=i.dataset.counterName||"default",s={target:parseInt(i.dataset.counterTarget||"0",10),hideBelow:parseInt(i.dataset.counterHideBelow||"0"),removeBelow:parseInt(i.dataset.counterRemoveBelow||"0"),autoTarget:!!i.dataset.counterAutoTarget||!0,locale:i.dataset.counterLocale||document.documentElement.lang||"undefined",notation:{notation:((p=i.dataset.counterNotation)==null?void 0:p.toLowerCase())||"standard",useGrouping:!0}},l;if(m.toLowerCase()==="default")l=125;else{let g=await C.getCounter(m);g?(l=g.count,(typeof window.agera!="object"||window.agera===null)&&(window.agera={counterValues:{}}),window.agera.counterValues[m]=l):l=0}if(i.classList.contains("counter-current-value"))o(i,l,s),a(i,l,s);else{let g=i.querySelectorAll(".counter-current-value");for(let y of g)o(y,l,s),a(y,l,s)}let c=n(l,s),f=i.querySelectorAll(".counter-target-value");for(let g of f)o(g,c,s),a(g,l,s);let d=i.querySelectorAll(".counterbar-limiter");for(let g of d)r(g,l,c);a(i,l,s)}return{processCounterElement:u}}function et(){let t=`
      .counter-target-value,
      .counter-current-value,
      .counter_container {
          opacity: 0;
          transition: opacity 0.7s;
      }
  `,e=document.createElement("style");e.textContent=t,document.head.appendChild(e)}function rt(){let t=document.querySelectorAll("[data-counter-name]"),e=Pt();for(let n of t)e.processCounterElement(n)}var D=(t,e=!0)=>t.cloneNode(e);function k(t){t&&t.classList.contains("cloak")&&t.classList.remove("cloak")}function nt(){{let t=`.cloak { 
			opacity: 0;
			height: 0px;
      overflow: hidden;
			margin: 0;
      padding-top: 0;
      padding-bottom: 0;
		}`,e=document.createElement("style");e.textContent=t,document.head.appendChild(e)}}function ot(){var i,m;let t=document.querySelectorAll("[data-counter-name]"),n=(m=(i=Array.from(t).find(s=>s.dataset.counterLocale))==null?void 0:i.dataset.counterLocale)!=null?m:document.documentElement.lang||"en";n.toLowerCase()==="none"&&(n=document.documentElement.lang||"en");function r(s,l){let c=D(l),f=c.querySelector('[data-template="last-person-name"]'),d=c.querySelector('[data-template="last-person-time"]');return f&&d&&(f.innerText=s.name,d.innerText=o(s.date,n)),c}function o(s,l){let c=new Date,f=new Date(s),d=new Date(f.getTime()-f.getTimezoneOffset()*6e4),p=Math.floor((c.getTime()-d.getTime())/1e3),g=new Intl.RelativeTimeFormat(l,{numeric:"auto"});if(p<60)return g.format(-p,"second");let y=Math.floor(p/60);if(y<60)return g.format(-y,"minute");let E=Math.floor(p/3600);if(E<12)return g.format(-E,"hour");let S=Math.floor(p/86400);return g.format(-S,"day")}function a(s){let l=s.last_person.names;return l.reverse(),l.filter((f,d,p)=>p.findIndex(g=>g.name===f.name)===d)}async function u(s,l){let c=l.querySelector('[data-template="last-person"]');if(!c)return;let f=c.parentElement;c.remove();let d=await C.getCounter(s);if(!d||!d.last_person||!d.last_person.names||d.last_person.names.length<2){f==null||f.remove();return}let g=a(d).map(y=>r(y,c));g.length>0&&f&&(k(f),f.append(...g)),g.forEach(y=>{setTimeout(function(){k(y)},100)})}t.forEach(s=>{let l=s.dataset.counterName||"default";u(l,s)})}function A(t){let e=JSON.parse(localStorage.getItem(t)||"{}");return Object.entries(e)}function at(){var n;let t="data-clear-localstorage",e=(n=document.querySelector(`[${t}]`))==null?void 0:n.getAttribute(t);(e==null?void 0:e.toLowerCase())==="all"?(console.log("Clearing all local storage"),localStorage.clear()):e&&(console.log("Clearing local storage key:",e),localStorage.removeItem(e))}function st(){function t(a){let u=A("forwardedform");q(u);function i(c){let f=Array.from(new URLSearchParams(window.location.search),([d,p])=>`${d}: ${p}`).join(", ");return c.find(([d])=>d==="utm")||c.push(["utm",f]),c}let m=i(u);function s(c){c.forEach(([f,d])=>{let p=document.createTextNode(d).textContent,g=`<input type="hidden" id="${f}" name="${f}" value="${p}">`;a.insertAdjacentHTML("afterbegin",g)})}s(m);function l(c){let f="",d=["first_name","first-name","firstname","first","fname","f-name","given_name","given-name","givenname","given"];c.forEach(([g,y])=>{d.includes(g.toLowerCase())&&(f=y)});let p=document.querySelectorAll("[data-insert-name]");p.length>0&&f!==""&&n(p,f)}l(m)}function e(a){let u=new URLSearchParams(window.location.search),i=Array.from(u,([l,c])=>`${l}: ${c}`),m=a.getAttribute("redirect");if(m){let l=m+(m!=null&&m.includes("?")?"&":"?")+u.toString();a.setAttribute("redirect",l),a.setAttribute("data-redirect",l)}a.addEventListener("change",()=>{s(a)}),a.addEventListener("input",()=>{s(a)}),window.addEventListener("beforeunload",()=>{s(a)});function s(l){let c=new FormData(l),f=i.join(", ");c.set("utm",f),localStorage.setItem("forwardedform",JSON.stringify(Object.fromEntries(c)))}}function n(a,u){let i={"no-space":u,"leading-space":"&nbsp;"+u,"trailing-space":u+"&nbsp;","double-space":"&nbsp;"+u+"&nbsp;"};a.forEach(m=>{let s=m.getAttribute("data-insert-name")||"leading-space";i.hasOwnProperty(s)&&(m.innerHTML=i[s])})}let r=document.querySelectorAll("[data-crm]");r.length>0&&r.forEach(function(a){e(a)});let o=document.querySelectorAll('[data-load-petition="true"]');o.length>0&&o.forEach(function(a){t(a)})}function it(){var e;let t=document.querySelector("form[data-auto-submit]");if(t&&((e=t.getAttribute("data-auto-submit"))==null?void 0:e.toLowerCase())==="true"){if(!t.checkValidity()){console.warn("Form validation failed.");return}let n=new Event("submit",{bubbles:!0,cancelable:!0});t.dispatchEvent(n)}}function ct(){document.querySelectorAll("[data-copy]").forEach(e=>{e.addEventListener("mouseover",function(){e.style.cursor="pointer"}),e.addEventListener("click",async function(){let n="",r=e.getAttribute("data-copy")||"";if((r==null?void 0:r.toLowerCase())==="url")n=window.location.href;else if((r==null?void 0:r.toLowerCase())==="prev-url")n=document.referrer||"";else{let o=document.getElementById(r);o!=null&&o.textContent?n=o.textContent:n=r||""}try{await navigator.clipboard.writeText(n),console.log("Copied to clipboard:",n.toString())}catch(o){console.error("Failed to copy: ",o)}})})}async function ut(){let t=document.querySelectorAll("[data-js-version]");if(t.length<1)return;let e=document.querySelector('script[src$="agera.js"]'),n="";if(e){let{src:r}=e,o=r.match(/@([^/]+)/);if(o){let[,a]=o;n=a,n.toLowerCase().includes("latest")&&(n=await tt())}}n!==""&&t.forEach(r=>{r.innerText=n})}function lt(){let t=document.querySelectorAll("a[href]"),e=new URLSearchParams(window.location.search);t.forEach(n=>{if(!n.href.includes("#")){let r=new URL(n.href,window.location.href);r.searchParams.forEach((a,u)=>{e.has(u)||e.append(u,a)});let o=e.toString();n.href+=`${r.search?"&":"?"}${o}${r.hash}`}})}var mt="data-insert-name";function It(t){let e="",n=["first_name","first-name","firstname","first","fname","f-name","given_name","given-name","givenname","given"];t.forEach(([o,a])=>{n.includes(o.toLowerCase())&&(e=a)});let r=document.querySelectorAll(`[${mt}]`);r.length>0&&e!==""&&Ot(r,e)}function Ot(t,e){let n={"no-space":e,"leading-space":"&nbsp;"+e,"trailing-space":e+"&nbsp;","double-space":"&nbsp;"+e+"&nbsp;"};t.forEach(r=>{let o=r.getAttribute(mt)||"leading-space";n.hasOwnProperty(o)&&(r.innerHTML=n[o])})}function dt(){let t=A("forwardedform");It(t)}var qt=typeof atob=="function";var H=typeof Buffer=="function",ft=typeof TextDecoder=="function"?new TextDecoder:void 0,Rr=typeof TextEncoder=="function"?new TextEncoder:void 0,Bt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Vt=Array.prototype.slice.call(Bt),U=(t=>{let e={};return t.forEach((n,r)=>e[n]=r),e})(Vt),$t=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,L=String.fromCharCode.bind(String),pt=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0));var gt=t=>t.replace(/[^A-Za-z0-9\+\/]/g,"");var Jt=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,zt=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),n=e-65536;return L((n>>>10)+55296)+L((n&1023)+56320);case 3:return L((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return L((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},Qt=t=>t.replace(Jt,zt),Gt=t=>{if(t=t.replace(/\s+/g,""),!$t.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,n="",r,o;for(let a=0;a<t.length;)e=U[t.charAt(a++)]<<18|U[t.charAt(a++)]<<12|(r=U[t.charAt(a++)])<<6|(o=U[t.charAt(a++)]),n+=r===64?L(e>>16&255):o===64?L(e>>16&255,e>>8&255):L(e>>16&255,e>>8&255,e&255);return n},ht=qt?t=>atob(gt(t)):H?t=>Buffer.from(t,"base64").toString("binary"):Gt,Wt=H?t=>pt(Buffer.from(t,"base64")):t=>pt(ht(t).split("").map(e=>e.charCodeAt(0)));var Zt=H?t=>Buffer.from(t,"base64").toString("utf8"):ft?t=>ft.decode(Wt(t)):t=>Qt(ht(t)),Kt=t=>gt(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),yt=t=>Zt(Kt(t));function wt(){document.querySelectorAll("[data-insert-query]").forEach(e=>{let n=e.getAttribute("data-insert-query");if(n){let r=new URLSearchParams(window.location.search).get(n);r!==null&&(e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement?e.value=r.toString():e.textContent=r.toString())}})}function xt(){document.querySelectorAll("[data-insert-b64-query]").forEach(e=>{let n=e.getAttribute("data-insert-b64-query");if(n){let r=yt(new URLSearchParams(window.location.search).get(n)||"");r&&(e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement?e.value=r.toString():e.textContent=r.toString())}})}function bt(){let t=new URLSearchParams(window.location.search);document.querySelectorAll("[data-redirect]").forEach(n=>{let r=n.getAttribute("data-redirect");try{if(r){let o=new URL(r,document.baseURI),a=new URL(o.toString()),u=a.searchParams;t.forEach((i,m)=>{u.has(m)||u.set(m,i)}),n.setAttribute("data-redirect",a.toString())}}catch(o){console.error("An error occurred:",o)}})}function Lt(){Object.entries({"[data-share-whatsapp-text]":e=>`https://wa.me/?text=${encodeURIComponent(e)}`,"[data-share-facebook-url]":e=>`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(e)}`,"[data-share-linkedin-url]":e=>`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(e)}`,"[data-share-twitter-text]":e=>`https://twitter.com/intent/tweet?text=${encodeURIComponent(e)}`,"[data-share-email-subject], [data-share-email-body]":(e,n)=>`mailto:?subject=${encodeURIComponent(e)}&body=${encodeURIComponent(n)}`}).forEach(([e,n])=>{document.querySelectorAll(e).forEach(r=>{r.addEventListener("click",o=>{o.preventDefault();let a=e.includes("email"),u=r.getAttribute(a?"data-share-email-subject":e.slice(1,-1))||"",i=a&&r.getAttribute("data-share-email-body")||"",m=n(u,i);window.open(m,a?"_self":"_blank")})})})}function Et(){let t=document.querySelectorAll("*"),e=[],n=!0;if(t.forEach(r=>{let{attributes:o}=r;for(let a=0;a<o.length;a++){let u=o[a];u.name.startsWith("data-splitter-url")?e.push(u.value):u.name==="data-splitter-keep-query"&&u.value==="false"&&(n=!1)}}),e.length){let r=e[Math.floor(Math.random()*e.length)],o=window.location,a=n?new URL(r,o.origin).href+o.search:r;window.location.href=a}}function St(){let t=[document.documentElement.lang||"en","en"];document.querySelectorAll("[data-insert-time]").forEach(r=>{r.innerText=re(r,t)}),document.querySelectorAll("[data-remaining-days-to]").forEach(r=>{r.innerText=ne(r,t)})}function re(t,e){let n=new Date,r=t.getAttribute("data-insert-time"),o="";if((r==null?void 0:r.toLowerCase())==="year")o=n.getFullYear().toString();else if((r==null?void 0:r.toLowerCase())==="month")o=(n.getMonth()+1).toString();else if((r==null?void 0:r.toLowerCase())==="day")o=n.getDate().toString();else if((r==null?void 0:r.toLowerCase())==="date")o=n.toLocaleDateString(e);else if((r==null?void 0:r.toLowerCase())==="datetime")o=n.toLocaleString(e);else if((r==null?void 0:r.toLowerCase())==="time")o=n.toLocaleTimeString(e);else return"";return o}function ne(t,e){let n=new Date,r=t.getAttribute("data-remaining-days-to");try{if(r){let o=new Date(r),a=Math.round((o.getTime()-n.getTime())/(1e3*60*60*24));return new Intl.RelativeTimeFormat(e,{numeric:"auto"}).format(a,"day")}}catch(o){console.error("remainingDays error:",o)}return""}function vt(){function t(){let a=window.location.pathname.split("/").filter(i=>i.length===2),u=a.length>0?a[0]:"";return u!==""?"/"+u:u}function e(o){try{return new URL(o),!0}catch{return!1}}function n(o,a){if(o===null)return"";if(e(o)){let u=new URL(o);return u.pathname=a+u.pathname,u.toString()}return a+o}let r=document.querySelectorAll('[data-linguana-redirect="true"]');for(let o of r)o.getAttribute("redirect")&&o.setAttribute("redirect",n(o.getAttribute("redirect"),t())),o.getAttribute("data-redirect")&&o.setAttribute("data-redirect",n(o.getAttribute("data-redirect"),t()))}function Tt(){lt(),at(),ct(),ut(),xt(),dt(),wt(),bt(),Et(),St(),Lt(),it()}function se(){et(),nt(),document.addEventListener("DOMContentLoaded",()=>{vt(),st(),rt(),X(),ot(),K(),Tt()})}window.agera||(window.agera=!0,se());})();
