"use strict";(()=>{var S={apiUrl:atob("aHR0cHM6Ly91dGlscy1hcGkudmVyY2VsLmFwcC9hcGkv"),counterPath:"counter/",jsDelivrUrl:"https://data.jsdelivr.com/v1/packages/gh/ageraplattformen/agera.js/resolved?specifier=latest"},b={method:"POST",headers:{"Content-Type":"application/json"},critical:!0,waitForResponse:!0};function Tt(t){document.querySelectorAll("[data-profundo-client]").forEach(r=>{r.addEventListener("click",async()=>{let o=r.dataset.activitytypeId||"",a=r.dataset.classificationId||"",i=r.dataset.profundoText||"",s=_(void 0,{client:r.dataset.profundoClient||"not_provided",client_url:r.dataset.profundoUrl||"not_provided",country_code:r.dataset.countryCode||"",name:{name_id:Number(t)},register_id:r.dataset.registerId||"",campaign_id:Number(r.dataset.campaignId)||void 0,activity:{...o?{activitytype_id:o}:{activitytype_id:""},...a?{classification_id:a}:{},...i?{shortText:i}:{},shorttext:r.dataset.profundoText||""}});await n(s)})});async function n(r){try{let o=await fetch(r.url,{method:r.method,headers:r.headers,body:r.body});return o.ok?await o.json():void 0}catch(o){console.log("P error: ",o);return}}}function O(t,e){let n=t["data.name_id"];t&&n&&(Tt(n.toString()),e==null||e.push(["name_id",n.toString()]))}function _(t,e){let r=t?v(t,{"given-name":"firstname","family-name":"lastname",email:"email",tel:"mobile","street-adress":"address","postal-code":"zip",country:"country_id"}):void 0,o=e==null?void 0:e.name.name_id;r||(r=new FormData);let a=[];for(let[h,c]of r.entries())if(h.startsWith("infotype")){let u=parseInt(c);isNaN(u)||a.push(u),r.delete(h)}let i=(t==null?void 0:t.getAttribute("data-country-code"))||(e==null?void 0:e.country_code)||"";!(r!=null&&r.get("country"))&&i&&r.append("country",i);let s=(e==null?void 0:e.activity.shorttext)||(t==null?void 0:t.dataset.profundoText),l=(t==null?void 0:t.dataset.registerId)||(e==null?void 0:e.register_id),m=(t==null?void 0:t.dataset.campaignId)||(e==null?void 0:e.campaign_id),f=(t==null?void 0:t.dataset.classificationId)||(e==null?void 0:e.activity.classification_id)||"SI",p=r&&{...Object.fromEntries(r)};o&&(p.name_id=Number(o));let g={...w.campaign?{text1:w.campaign}:"",...w.source?{text2:w.source}:"",...w.medium?{text3:w.medium}:"",...w.content?{text4:w.content}:""};return{...b,critical:!o,url:new URL("profundo/",S.apiUrl).toString(),body:JSON.stringify({client:(t==null?void 0:t.dataset.client)||(e==null?void 0:e.client)||"not_provided",client_url:(t==null?void 0:t.getAttribute("action"))||(e==null?void 0:e.client_url)||"",...i?{country_code:i}:{},referrer:window.location.href,body:{name:p,...l?{register_id:l}:{},...m?{campaign_id:m}:{},...a?{infotype_id:a[0]}:{},activity:{...o?{}:{...g},...s?{shorttext:s}:{},activitytype_id:(t==null?void 0:t.dataset.activitytypeId)||(e==null?void 0:e.activity.activitytype_id)||"UN",...f?{classification_id:f}:{}}}})}}var M=(t,e)=>{let n={};for(let r in t){let o=t[r],a=e?`${e}.${r}`:r;typeof o=="object"&&o!==null?Object.assign(n,M(o,a)):n[a]=o}return n};function q(t){function e(){let r=localStorage.getItem("crm_data");return r||localStorage.removeItem("crm_data"),JSON.parse(r)}let n=M(e());n&&O(n,t)}function B(t){return typeof t=="object"&&t.hasOwnProperty("count")&&typeof t.count=="number"&&t.hasOwnProperty("name")&&typeof t.name=="string"}function V(t){let e=new FormData(t),n=[],r=[],o={};for(let[a,i]of e.entries())a.startsWith("tags")?n.push(i):a.startsWith("language")?r.push(i):["given-name","family-name","email","tel","postal-code","street-address","address-level2","country"].includes(a)||(o[a]=i);return{...b,url:t.getAttribute("action")||"",body:JSON.stringify({person:{given_name:e.get("given-name"),family_name:e.get("family-name"),email_addresses:[{address:e.get("email")}],phone_numbers:[{number:e.get("tel")||""}],postal_addresses:[{postal_code:e.get("postal-code")||"",address_lines:e.get("street-address")||"",region:e.get("adress-level2")||"",country:e.get("country")||""}]},add_tags:[...n],"action_network:referrer_data":{source:w.source?w.source.toString():"",website:window.location.hostname+window.location.pathname},languages_spoken:[...r],custom_fields:o})}}function F(t,e=!1,n){let r=new FormData(t),o="data-action-id",a=t.getAttribute(o)||"No ActionID Provided",i=atob("aHR0cHM6Ly9kZXBsb3ktcHJldmlldy0yNjUtLWFjdC1kanVyZW5zcmF0dC1zZS5uZXRsaWZ5LmFwcC9wcm94eS9yZWZvcm0tc29jaWV0eS8=");return e?{...b,url:i+"update",body:JSON.stringify({partId:"1168251",recruitMe:!0,signature:{actionId:n&&n[o]||"No ActionID Provided",source:E?E:"reform-campaign"}})}:{...b,url:i+"register",body:JSON.stringify({person:{first:r.get("given-name")||"",last:r.get("family-name")||"",email:r.get("email")||"",mobile:r.get("tel")||""},acquisition:{actionId:a?a.toString().toLowerCase():"",source:E?E:"",marketingPermission:!0}})}}function J(t,e){async function n(r){try{let o=await fetch(r.url,{method:r.method,headers:r.headers,body:r.body,keepalive:!0});return o.ok?await o.json():void 0}catch{return}}n(F(t,!0,e))}function Z(t){var a;let e=new FormData(t),n={};t&&Array.from(t.attributes).forEach(i=>{i.name.startsWith("data-")&&(n[i.name]=i.value)});let r={utms:{...w.campaign?{utm_campaign:w.campaign}:"",...w.source?{utm_source:w.source}:"",...w.medium?{utm_medium:w.medium}:"",...w.content?{utm_content:w.content}:""}};return{...b,waitForResponse:((a=t==null?void 0:t.dataset.waitForResponse)==null?void 0:a.toLowerCase())!=="false",url:new URL("fcrm/",S.apiUrl).toString(),body:JSON.stringify({crm:(t==null?void 0:t.dataset.crm)||"",...t!=null&&t.dataset.crmClient?{client:t.dataset.crmClient}:{},...t!=null&&t.action?{endpoint:t.action}:{},body:{...Object.fromEntries(e)},...r?{...r}:{},source:window.location.href,...n?{attributes:{...n}}:{}})}}function z(t){var a;let n=v(t,{"given-name":"FNAME","family-name":"LNAME",email:"EMAIL",tel:"PHONE","street-adress":"ADDRESS","postal-code":"POSTALCODE","adress-level2":"REGION",country:"COUNTRY"}),r=(t==null?void 0:t.getAttribute("data-mailchimp-tags"))||"";r!==""&&n.append("tags",r);let o=new URLSearchParams;for(let[i,s]of n.entries())(typeof s=="string"||typeof s=="number")&&o.append(i,s.toString());return o.append("UTM",E),{...b,url:((a=t.getAttribute("action"))==null?void 0:a.replace("post?","post-json?"))+"&c=?",headers:{"Content-Type":"application/x-www-form-urlencoded"},dataType:"jsonp",body:o.toString()}}function W(t){var o,a,i;let e=new URL((a=(o=document.querySelector("html"))==null?void 0:o.dataset.wfSite)!=null?a:"0000","https://webflow.com/api/v1/form/"),n=new FormData(t);n.append("UTM",E);let r=new URLSearchParams({name:(i=t==null?void 0:t.getAttribute("name"))!=null?i:"form",source:window.location.href});for(let s of n.entries()){let l=`fields[${s[0]}]`;r.append(l,s[1])}return{...b,url:e.href,headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r.toString()}}var G,K,Q,X,P={thisUrl:new URL(window.location.href),wfSiteId:(K=(G=document.querySelector("html"))==null?void 0:G.dataset.wfSite)!=null?K:"0000",wfUrl:new URL((X=(Q=document.querySelector("html"))==null?void 0:Q.dataset.wfSite)!=null?X:"0000","https://webflow.com/api/v1/form/")},C={mailchimp:z,actionnetwork:V,djurensratt:F,webflow:W,zapier(t){return{...b,url:t.getAttribute("action")||"",body:JSON.stringify({[t.getAttribute("name")||"form"]:Object.fromEntries(new FormData(t)),source:P.thisUrl.hostname+P.thisUrl.pathname,time:new Date().toISOString(),UTM:E})}},amnesty(t){let e=(t==null?void 0:t.getAttribute("data-country-code"))||"";return{...b,url:new URL("amnesty/",S.apiUrl).toString(),body:JSON.stringify({form:{...Object.fromEntries(new FormData(t)),action_id:t.dataset.actionId||"9999",sign_method:t.dataset.signMethod||"agera-default"},UTM:E,site_id:P.wfSiteId,...e?{country_code:e}:{}})}},profundo:_,none:""};async function Y(){let t=localStorage.getItem("crm_data"),e=document.querySelectorAll("[data-crm-patch]");!t||!e||e.forEach(n=>{n.style.cursor="pointer",n.addEventListener("click",async()=>{let r=n.getAttribute("data-crm-patch")||"",o=n.getAttribute("data-crm-patch-client")||"",a={};Array.from(n.attributes).forEach(l=>{l.name.startsWith("data-")&&(a[l.name]=l.value)});let i=document.querySelector("[data-load-petition]"),s=i?new FormData(i):new FormData;if(!C.hasOwnProperty(r)){Ct(r,o,a,s,t);return}if(r==="djurensratt"&&i){J(i,a);return}})})}async function Ct(t,e,n,r,o){let a=new URL("fcrm/",S.apiUrl).toString(),i={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({crm:t,...e?{client:e}:{},attributes:n,response:JSON.parse(o),body:{...Object.fromEntries(r)}})};try{let s=await fetch(a,{...i,keepalive:!0});return s.ok?await s.json():void 0}catch(s){console.error("P error: ",s);return}}function v(t,e){let n=new FormData;for(let[r,o]of new FormData(t))e.hasOwnProperty(r)?n.append(e[r],o):n.append(r,o);return n}var D=new URLSearchParams(window.location.search);function At(){function t(n){let r=[...D.keys()].find(o=>o.toLowerCase().includes(n));return r&&D.get(r)||""}return{source:t("source").toLowerCase(),campaign:t("campaign").toLowerCase(),medium:t("medium").toLowerCase(),content:t("content").toLowerCase()}}var w=At(),E=Array.from(D,([t,e])=>`${t.toLowerCase()}: ${e.toLowerCase()}`).join(", ");function Ut(t){var f,p,g,h;let e={thisUrl:new URL(window.location.href),wfSiteId:(p=(f=document.querySelector("html"))==null?void 0:f.dataset.wfSite)!=null?p:"0000",wfUrl:new URL((h=(g=document.querySelector("html"))==null?void 0:g.dataset.wfSite)!=null?h:"0000","https://webflow.com/api/v1/form/"),redirect:t.getAttribute("redirect")||null,addUtm:!!t.dataset.redirectUtm||!0,utmSource:new URLSearchParams(window.location.search).get("utm_source")||new URLSearchParams(window.location.search).get("source"),submitButton:t.querySelector('input[type="submit"]'),submitText:"",niceUtms:Array.from(new URLSearchParams(window.location.search),([c,u])=>`${c}: ${u}`).join(", ")};e.submitText=e.submitButton&&e.submitButton.value||"";function n(c,u){let d=new FormData(u);return{method:"POST",headers:{"Content-Type":"application/json"},critical:!1,waitForResponse:!0,url:new URL(S.counterPath+c,S.apiUrl).toString(),body:JSON.stringify({form:"default",site_id:e.wfSiteId,last_person:d.get("given-name")||"",form_url:e.thisUrl})}}function r(c,u,d){let y=c.parentNode,x=y==null?void 0:y.querySelector(".w-form-done"),L=y==null?void 0:y.querySelector(".w-form-fail");u?(x&&(x.style.display="block"),L&&(L.style.display="none"),d&&o()):(x&&(x.style.display="none"),L&&(L.style.display="block"),e.submitButton&&(e.submitButton.value=e.submitText))}function o(){let c=t.getAttribute("redirect")||null;if(c)if(e.addUtm&&c){let u=new URL(c,e.thisUrl),d=new URLSearchParams(window.location.search);u.searchParams.forEach((x,L)=>{d.has(L)||d.set(L,x)});let y=u.origin+u.pathname+(d.toString()?"?"+d.toString():"");window.location.href=y}else window.location.href=c;else t.style.display="none",console.warn("No redirect defined")}async function a(c){return new Promise((u,d)=>{$.ajax({url:c.url,type:c.method,data:c.body,dataType:"jsonp",success:y=>{u(y)},error:(y,x,L)=>{d(L)}})})}async function i(c){let u={method:c.method,headers:c.headers,body:c.body};if(c.dataType==="jsonp")return a(c);if(c.waitForResponse)try{let d=await fetch(c.url,{...u});if(!d.ok)throw new Error(`Error fetching ${c.url}: ${d.statusText}`);return d.json()}catch(d){throw console.error("An error occurred:",d),d}else return fetch(c.url,{...u,keepalive:!0}),Promise.resolve()}function s(c){let u=[];if(c.forEach(d=>{if(d.status==="fulfilled"&&d.value){let y=d.value;B(y)||u.push(y)}}),u){let d=u.reduce((y,x)=>({...y,...x}),{});localStorage.setItem("crm_data",JSON.stringify(d))}}async function l(c,u){try{let d=await Promise.allSettled(c.map(x=>i(x))),y=!1;d.forEach((x,L)=>{x.status==="rejected"&&c[L].critical&&(y=!0)}),y?r(u,!1,!1):(s(d),r(u,!0,!0))}catch(d){console.error("Error in Promise.allSettled:",d),r(u,!1,!1)}}async function m(c){c.addEventListener("submit",async function(u){var I;u.preventDefault(),u.stopPropagation(),e.submitButton&&(e.submitButton.value=e.submitButton.dataset.wait||e.submitButton.value);let d=[],y=C,x=((I=c.dataset.crm)==null?void 0:I.toLowerCase())||"webflow",L=c.dataset.counterUpdate;if(x!=="none")if(x&&y.hasOwnProperty(x)){let Et=y[x];d.push(Et(c))}else d.push(Z(c));L&&L!=="default"&&d.push(n(L,c)),d.length>0&&await l(d,c)})}return{handleForm:m}}function tt(){let t=document.querySelectorAll("[data-crm]");for(let e of t)Ut(e).handleForm(e)}var k=class{constructor(){this.counters=new Map}async getCounter(e){if(this.counters.has(e))return this.counters.get(e);let n=new URL(S.counterPath+e,S.apiUrl),r=(async()=>{try{let a=await fetch(n);return a.ok?await a.json():void 0}catch{return}})();this.counters.set(e,r);let o=await r;return this.counters.delete(e),o}},A=new k;async function et(){try{let t=await fetch(S.jsDelivrUrl);return t.ok?`v${(await t.json()).version}`:"latest"}catch{return"latest"}}function Rt(){function t(s,l){return s>=l?100:Math.round(s/l*100)}function e(s){let l={350:50,500:100,2e3:250,5e3:500,2e4:2500,5e4:5e3,1e5:1e4,2e5:25e3,5e5:5e4,1e6:1e5},m=25e4,p=Object.keys(l).map(Number).find(h=>h>=s),g=p?l[p]:m;return Math.ceil(s*1.05/g)*g}function n(s,l){return s*1.05<l.target||!l.autoTarget?l.target:e(s)}function r(s,l,m){s.style.width=t(l,m)+"%"}function o(s,l,m){try{let f=new Intl.NumberFormat(m.locale,m.notation).format(l);s.textContent=f}catch{m.notation.useGrouping=!1,m.notation.notation="standard";let f=new Intl.NumberFormat(void 0,m.notation).format(l);s.textContent=f}}function a(s,l,m){l<=m.removeBelow&&(s.style.display="none"),l>=m.hideBelow&&(s.style.opacity="1")}async function i(s){var c;let l=s.dataset.counterName||"default",m={target:parseInt(s.dataset.counterTarget||"0",10),hideBelow:parseInt(s.dataset.counterHideBelow||"0"),removeBelow:parseInt(s.dataset.counterRemoveBelow||"0"),autoTarget:!!s.dataset.counterAutoTarget||!0,locale:s.dataset.counterLocale||document.documentElement.lang||"undefined",notation:{notation:((c=s.dataset.counterNotation)==null?void 0:c.toLowerCase())||"standard",useGrouping:!0}},f;if(l.toLowerCase()==="default")f=125;else{let u=await A.getCounter(l);u?f=u.count:f=0}if(s.classList.contains("counter-current-value"))o(s,f,m),a(s,f,m);else{let u=s.querySelectorAll(".counter-current-value");for(let d of u)o(d,f,m),a(d,f,m)}let p=n(f,m),g=s.querySelectorAll(".counter-target-value");for(let u of g)o(u,p,m),a(u,f,m);let h=s.querySelectorAll(".counterbar-limiter");for(let u of h)r(u,f,p);a(s,f,m)}return{processCounterElement:i}}function rt(){let t=`
      .counter-target-value,
      .counter-current-value,
      .counter_container {
          opacity: 0;
          transition: opacity 0.7s;
      }
  `,e=document.createElement("style");e.textContent=t,document.head.appendChild(e)}function nt(){let t=document.querySelectorAll("[data-counter-name]"),e=Rt();for(let n of t)e.processCounterElement(n)}var H=(t,e=!0)=>t.cloneNode(e);function N(t){t&&t.classList.contains("cloak")&&t.classList.remove("cloak")}function ot(){{let t=`.cloak { 
			opacity: 0;
			height: 0px;
      overflow: hidden;
			margin: 0;
      padding-top: 0;
      padding-bottom: 0;
		}`,e=document.createElement("style");e.textContent=t,document.head.appendChild(e)}}function at(){var s,l;let t=document.querySelectorAll("[data-counter-name]"),n=(l=(s=Array.from(t).find(m=>m.dataset.counterLocale))==null?void 0:s.dataset.counterLocale)!=null?l:document.documentElement.lang||"en";n.toLowerCase()==="none"&&(n=document.documentElement.lang||"en");function r(m,f){let p=H(f),g=p.querySelector('[data-template="last-person-name"]'),h=p.querySelector('[data-template="last-person-time"]');return g&&h&&(g.innerText=m.name,h.innerText=o(m.date,n)),p}function o(m,f){let p=new Date,g=new Date(m),h=new Date(g.getTime()-g.getTimezoneOffset()*6e4),c=Math.floor((p.getTime()-h.getTime())/1e3),u=new Intl.RelativeTimeFormat(f,{numeric:"auto"});if(c<60)return u.format(-c,"second");let d=Math.floor(c/60);if(d<60)return u.format(-d,"minute");let y=Math.floor(c/3600);if(y<12)return u.format(-y,"hour");let x=Math.floor(c/86400);return u.format(-x,"day")}function a(m){let f=m.last_person.names;return f.reverse(),f.filter((g,h,c)=>c.findIndex(u=>u.name===g.name)===h)}async function i(m,f){let p=f.querySelector('[data-template="last-person"]');if(!p)return;let g=p.parentElement;p.remove();let h=await A.getCounter(m);if(!h||!h.last_person||!h.last_person.names||h.last_person.names.length<2){g==null||g.remove();return}let u=a(h).map(d=>r(d,p));u.length>0&&g&&(N(g),g.append(...u)),u.forEach(d=>{setTimeout(function(){N(d)},100)})}t.forEach(m=>{let f=m.dataset.counterName||"default";i(f,m)})}function U(t){let e=JSON.parse(localStorage.getItem(t)||"{}");return Object.entries(e)}function st(){var n;let t="data-clear-localstorage",e=(n=document.querySelector(`[${t}]`))==null?void 0:n.getAttribute(t);(e==null?void 0:e.toLowerCase())==="all"?(console.log("Clearing all local storage"),localStorage.clear()):e&&(console.log("Clearing local storage key:",e),localStorage.removeItem(e))}function it(){function t(a){let i=U("forwardedform");q(i);function s(p){let g=Array.from(new URLSearchParams(window.location.search),([h,c])=>`${h}: ${c}`).join(", ");return p.find(([h])=>h==="utm")||p.push(["utm",g]),p}let l=s(i);function m(p){p.forEach(([g,h])=>{let c=document.createTextNode(h).textContent,u=`<input type="hidden" id="${g}" name="${g}" value="${c}">`;a.insertAdjacentHTML("afterbegin",u)})}m(l);function f(p){let g="",h=["first_name","first-name","firstname","first","fname","f-name","given_name","given-name","givenname","given"];p.forEach(([u,d])=>{h.includes(u.toLowerCase())&&(g=d)});let c=document.querySelectorAll("[data-insert-name]");c.length>0&&g!==""&&n(c,g)}f(l)}function e(a){let i=new URLSearchParams(window.location.search),s=Array.from(i,([f,p])=>`${f}: ${p}`),l=a.getAttribute("redirect");if(l){let f=l+(l!=null&&l.includes("?")?"&":"?")+i.toString();a.setAttribute("redirect",f),a.setAttribute("data-redirect",f)}a.addEventListener("change",()=>{m(a)}),a.addEventListener("input",()=>{m(a)});function m(f){let p=new FormData(f),g=s.join(", ");p.set("utm",g),localStorage.setItem("forwardedform",JSON.stringify(Object.fromEntries(p)))}}function n(a,i){let s={"no-space":i,"leading-space":"&nbsp;"+i,"trailing-space":i+"&nbsp;","double-space":"&nbsp;"+i+"&nbsp;"};a.forEach(l=>{let m=l.getAttribute("data-insert-name")||"leading-space";s.hasOwnProperty(m)&&(l.innerHTML=s[m])})}let r=document.querySelectorAll("[data-crm]");r.length>0&&r.forEach(function(a){e(a)});let o=document.querySelectorAll('[data-load-petition="true"]');o.length>0&&o.forEach(function(a){t(a)})}function ct(){document.querySelectorAll("[data-copy]").forEach(e=>{e.addEventListener("mouseover",function(){e.style.cursor="pointer"}),e.addEventListener("click",async function(){let n="",r=e.getAttribute("data-copy")||"";if((r==null?void 0:r.toLowerCase())==="url")n=window.location.href;else if((r==null?void 0:r.toLowerCase())==="prev-url")n=document.referrer||"";else{let o=document.getElementById(r);o!=null&&o.textContent?n=o.textContent:n=r||""}try{await navigator.clipboard.writeText(n),console.log("Copied to clipboard:",n.toString())}catch(o){console.error("Failed to copy: ",o)}})})}async function ut(){let t=document.querySelectorAll("[data-js-version]");if(t.length<1)return;let e=document.querySelector('script[src$="agera.js"]'),n="";if(e){let{src:r}=e,o=r.match(/@([^/]+)/);if(o){let[,a]=o;n=a,n.toLowerCase().includes("latest")&&(n=await et())}}n!==""&&t.forEach(r=>{r.innerText=n})}var lt="data-insert-name";function _t(t){let e="",n=["first_name","first-name","firstname","first","fname","f-name","given_name","given-name","givenname","given"];t.forEach(([o,a])=>{n.includes(o.toLowerCase())&&(e=a)});let r=document.querySelectorAll(`[${lt}]`);r.length>0&&e!==""&&Mt(r,e)}function Mt(t,e){let n={"no-space":e,"leading-space":"&nbsp;"+e,"trailing-space":e+"&nbsp;","double-space":"&nbsp;"+e+"&nbsp;"};t.forEach(r=>{let o=r.getAttribute(lt)||"leading-space";n.hasOwnProperty(o)&&(r.innerHTML=n[o])})}function mt(){let t=U("forwardedform");_t(t)}var Ft=typeof atob=="function";var j=typeof Buffer=="function",dt=typeof TextDecoder=="function"?new TextDecoder:void 0,mr=typeof TextEncoder=="function"?new TextEncoder:void 0,Pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Dt=Array.prototype.slice.call(Pt),R=(t=>{let e={};return t.forEach((n,r)=>e[n]=r),e})(Dt),kt=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,T=String.fromCharCode.bind(String),ft=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0));var pt=t=>t.replace(/[^A-Za-z0-9\+\/]/g,"");var Ht=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Nt=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),n=e-65536;return T((n>>>10)+55296)+T((n&1023)+56320);case 3:return T((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return T((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},jt=t=>t.replace(Ht,Nt),It=t=>{if(t=t.replace(/\s+/g,""),!kt.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,n="",r,o;for(let a=0;a<t.length;)e=R[t.charAt(a++)]<<18|R[t.charAt(a++)]<<12|(r=R[t.charAt(a++)])<<6|(o=R[t.charAt(a++)]),n+=r===64?T(e>>16&255):o===64?T(e>>16&255,e>>8&255):T(e>>16&255,e>>8&255,e&255);return n},gt=Ft?t=>atob(pt(t)):j?t=>Buffer.from(t,"base64").toString("binary"):It,Ot=j?t=>ft(Buffer.from(t,"base64")):t=>ft(gt(t).split("").map(e=>e.charCodeAt(0)));var qt=j?t=>Buffer.from(t,"base64").toString("utf8"):dt?t=>dt.decode(Ot(t)):t=>jt(gt(t)),Bt=t=>pt(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),ht=t=>qt(Bt(t));function yt(){document.querySelectorAll("[data-insert-query]").forEach(e=>{let n=e.getAttribute("data-insert-query");if(n){let r=new URLSearchParams(window.location.search).get(n);r!==null&&(e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement?e.value=r.toString():e.textContent=r.toString())}})}function wt(){document.querySelectorAll("[data-insert-b64-query]").forEach(e=>{let n=e.getAttribute("data-insert-b64-query");if(n){let r=ht(new URLSearchParams(window.location.search).get(n)||"");r&&(e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement?e.value=r.toString():e.textContent=r.toString())}})}function xt(){function t(){let a=window.location.pathname.split("/").filter(s=>s.length===2),i=a.length>0?a[0]:"";return i!==""?"/"+i:i}function e(o){try{return new URL(o),!0}catch{return!1}}function n(o,a){if(o===null)return"";if(e(o)){let i=new URL(o);return i.pathname=a+i.pathname,i.toString()}return a+o}let r=document.querySelectorAll('[data-linguana-redirect="true"]');for(let o of r)o.getAttribute("redirect")&&o.setAttribute("redirect",n(o.getAttribute("redirect"),t())),o.getAttribute("data-redirect")&&o.setAttribute("data-redirect",n(o.getAttribute("data-redirect"),t()))}function bt(){let t=new URLSearchParams(window.location.search);document.querySelectorAll("[data-redirect]").forEach(n=>{let r=n.getAttribute("data-redirect");try{if(r){let o=new URL(r,document.baseURI),a=new URL(o.toString()),i=a.searchParams;t.forEach((s,l)=>{i.has(l)||i.set(l,s)}),n.setAttribute("data-redirect",a.toString())}}catch(o){console.error("An error occurred:",o)}})}function Lt(){let t=document.querySelectorAll("*"),e=[],n=!0;if(t.forEach(r=>{let{attributes:o}=r;for(let a=0;a<o.length;a++){let i=o[a];i.name.startsWith("data-splitter-url")?e.push(i.value):i.name==="data-splitter-keep-query"&&i.value==="false"&&(n=!1)}}),e.length){let r=e[Math.floor(Math.random()*e.length)],o=window.location,a=n?new URL(r,o.origin).href+o.search:r;window.location.href=a}}function St(){let t=[document.documentElement.lang||"en","en"];document.querySelectorAll("[data-insert-time]").forEach(r=>{r.innerText=Vt(r,t)}),document.querySelectorAll("[data-remaining-days-to]").forEach(r=>{r.innerText=$t(r,t)})}function Vt(t,e){let n=new Date,r=t.getAttribute("data-insert-time"),o="";if((r==null?void 0:r.toLowerCase())==="year")o=n.getFullYear().toString();else if((r==null?void 0:r.toLowerCase())==="month")o=(n.getMonth()+1).toString();else if((r==null?void 0:r.toLowerCase())==="day")o=n.getDate().toString();else if((r==null?void 0:r.toLowerCase())==="date")o=n.toLocaleDateString(e);else if((r==null?void 0:r.toLowerCase())==="datetime")o=n.toLocaleString(e);else if((r==null?void 0:r.toLowerCase())==="time")o=n.toLocaleTimeString(e);else return"";return o}function $t(t,e){let n=new Date,r=t.getAttribute("data-remaining-days-to");try{if(r){let o=new Date(r),a=Math.round((o.getTime()-n.getTime())/(1e3*60*60*24));return new Intl.RelativeTimeFormat(e,{numeric:"auto"}).format(a,"day")}}catch(o){console.error("remainingDays error:",o)}return""}function Zt(){rt(),ot(),document.addEventListener("DOMContentLoaded",()=>{xt(),Y(),it(),nt(),tt(),at(),mt(),St(),bt(),ut(),ct(),yt(),wt(),Lt(),st()})}window.agera||(window.agera=!0,Zt());})();
