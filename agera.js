"use strict";(()=>{var H,N,h={apiUrl:atob("aHR0cHM6Ly91dGlscy1hcGkudmVyY2VsLmFwcC9hcGkv"),counterPath:"counter/",jsDelivrUrl:"https://data.jsdelivr.com/v1/packages/gh/ageraplattformen/agera.js/resolved?specifier=latest",wfSiteId:(N=(H=document.querySelector("html"))==null?void 0:H.dataset.wfSite)!=null?N:"0000"},w={method:"POST",headers:{"Content-Type":"application/json"},critical:!0,waitForResponse:!0};function bt(t){document.querySelectorAll("[data-profundo-client]").forEach(n=>{n.addEventListener("click",async()=>{let o=n.dataset.activitytypeId||"",a=n.dataset.classificationId||"",u=n.dataset.profundoText||"",c=M(void 0,{client:n.dataset.profundoClient||"not_provided",client_url:n.dataset.profundoUrl||"not_provided",country_code:n.dataset.countryCode||"",name:{name_id:Number(t)},register_id:n.dataset.registerId||"",campaign_id:Number(n.dataset.campaignId)||void 0,activity:{...o?{activitytype_id:o}:{activitytype_id:""},...a?{classification_id:a}:{},...u?{shortText:u}:{},shorttext:n.dataset.profundoText||""}});await r(c)})});async function r(n){try{let o=await fetch(n.url,{method:n.method,headers:n.headers,body:n.body});return o.ok?await o.json():void 0}catch(o){console.log("P error: ",o);return}}}function j(t,e){let r=t["data.name_id"];t&&r&&(bt(r.toString()),e==null||e.push(["name_id",r.toString()]))}function M(t,e){let n=t?E(t,{"given-name":"firstname","family-name":"lastname",email:"email",tel:"mobile","street-adress":"address","postal-code":"zip",country:"country_id"}):void 0,o=e==null?void 0:e.name.name_id;n||(n=new FormData);let a=[];for(let[d,g]of n.entries())if(d.startsWith("infotype")){let p=parseInt(g);isNaN(p)||a.push(p),n.delete(d)}let u=(t==null?void 0:t.getAttribute("data-country-code"))||(e==null?void 0:e.country_code)||"";!(n!=null&&n.get("country"))&&u&&n.append("country",u);let c=(e==null?void 0:e.activity.shorttext)||(t==null?void 0:t.dataset.profundoText),m=(t==null?void 0:t.dataset.registerId)||(e==null?void 0:e.register_id),f=(t==null?void 0:t.dataset.campaignId)||(e==null?void 0:e.campaign_id),s=(t==null?void 0:t.dataset.classificationId)||(e==null?void 0:e.activity.classification_id)||"SI",l=n&&{...Object.fromEntries(n)};o&&(l.name_id=Number(o));let i={...y.campaign?{text1:y.campaign}:"",...y.source?{text2:y.source}:"",...y.medium?{text3:y.medium}:"",...y.content?{text4:y.content}:""};return{...w,critical:!o,url:new URL("profundo/",h.apiUrl).toString(),body:JSON.stringify({client:(t==null?void 0:t.dataset.client)||(e==null?void 0:e.client)||"not_provided",client_url:(t==null?void 0:t.getAttribute("action"))||(e==null?void 0:e.client_url)||"",...u?{country_code:u}:{},referrer:window.location.href,body:{name:l,...m?{register_id:m}:{},...f?{campaign_id:f}:{},...a?{infotype_id:a[0]}:{},activity:{...o?{}:{...i},...c?{shorttext:c}:{},activitytype_id:(t==null?void 0:t.dataset.activitytypeId)||(e==null?void 0:e.activity.activitytype_id)||"UN",...s?{classification_id:s}:{}}}})}}var _=(t,e)=>{let r={};for(let n in t){let o=t[n],a=e?`${e}.${n}`:n;typeof o=="object"&&o!==null?Object.assign(r,_(o,a)):r[a]=o}return r};function O(t){function e(){let n=localStorage.getItem("crm_data");return n||localStorage.removeItem("crm_data"),JSON.parse(n)}let r=_(e());r&&j(r,t)}function I(t){return typeof t=="object"&&t.hasOwnProperty("count")&&typeof t.count=="number"&&t.hasOwnProperty("name")&&typeof t.name=="string"}function q(t){let e=new FormData(t),r=[],n=[],o={};for(let[a,u]of e.entries())a.startsWith("tags")?r.push(u):a.startsWith("language")?n.push(u):["given-name","family-name","email","tel","postal-code","street-address","address-level2","country"].includes(a)||(o[a]=u);return{...w,url:t.getAttribute("action")||"",body:JSON.stringify({person:{given_name:e.get("given-name"),family_name:e.get("family-name"),email_addresses:[{address:e.get("email")}],phone_numbers:[{number:e.get("tel")||""}],postal_addresses:[{postal_code:e.get("postal-code")||"",address_lines:e.get("street-address")||"",region:e.get("adress-level2")||"",country:e.get("country")||""}]},add_tags:[...r],"action_network:referrer_data":{source:y.source?y.source.toString():"",website:window.location.hostname+window.location.pathname},languages_spoken:[...n],custom_fields:o})}}function B(t){let e=(t==null?void 0:t.getAttribute("data-country-code"))||"";return{...w,url:new URL("amnesty/",h.apiUrl).toString(),body:JSON.stringify({form:{...Object.fromEntries(new FormData(t)),action_id:t.dataset.actionId||"9999",sign_method:t.dataset.signMethod||"agera-default"},UTM:b,site_id:h.wfSiteId,source:window.location.href,...e?{country_code:e}:{}})}}function R(t,e=!1,r){let n=new FormData(t),o="data-action-id",a=t.getAttribute(o)||"No ActionID Provided",u=atob("aHR0cHM6Ly9kZXBsb3ktcHJldmlldy0yNjUtLWFjdC1kanVyZW5zcmF0dC1zZS5uZXRsaWZ5LmFwcC9wcm94eS9yZWZvcm0tc29jaWV0eS8=");return e?{...w,url:u+"update",body:JSON.stringify({partId:"1168251",recruitMe:!0,signature:{actionId:r&&r[o]||"No ActionID Provided",source:b?b:"reform-campaign"}})}:{...w,url:u+"register",body:JSON.stringify({person:{first:n.get("given-name")||"",last:n.get("family-name")||"",email:n.get("email")||"",mobile:n.get("tel")||""},acquisition:{actionId:a?a.toString().toLowerCase():"",source:b?b:"",marketingPermission:!0}})}}function V(t,e){async function r(n){try{let o=await fetch(n.url,{method:n.method,headers:n.headers,body:n.body,keepalive:!0});return o.ok?await o.json():void 0}catch{return}}r(R(t,!0,e))}function J(t){var a;let e=new FormData(t),r={};t&&Array.from(t.attributes).forEach(u=>{u.name.startsWith("data-")&&(r[u.name]=u.value)});let n={utms:{...y.campaign?{utm_campaign:y.campaign}:"",...y.source?{utm_source:y.source}:"",...y.medium?{utm_medium:y.medium}:"",...y.content?{utm_content:y.content}:""}};return{...w,waitForResponse:((a=t==null?void 0:t.dataset.waitForResponse)==null?void 0:a.toLowerCase())!=="false",url:new URL("fcrm/",h.apiUrl).toString(),body:JSON.stringify({crm:(t==null?void 0:t.dataset.crm)||"",...t!=null&&t.dataset.crmClient?{client:t.dataset.crmClient}:{},...t!=null&&t.action?{endpoint:t.action}:{},body:{...Object.fromEntries(e)},...n?{...n}:{},source:window.location.href,...r?{attributes:{...r}}:{}})}}function z(t){var a;let r=E(t,{"given-name":"FNAME","family-name":"LNAME",email:"EMAIL",tel:"PHONE","street-adress":"ADDRESS","postal-code":"POSTALCODE","adress-level2":"REGION",country:"COUNTRY"}),n=(t==null?void 0:t.getAttribute("data-mailchimp-tags"))||"";n!==""&&r.append("tags",n);let o=new URLSearchParams;for(let[u,c]of r.entries())(typeof c=="string"||typeof c=="number")&&o.append(u,c.toString());return o.append("UTM",b),{...w,url:((a=t.getAttribute("action"))==null?void 0:a.replace("post?","post-json?"))+"&c=?",headers:{"Content-Type":"application/x-www-form-urlencoded"},dataType:"jsonp",body:o.toString()}}function Z(t){var o,a,u;let e=new URL((a=(o=document.querySelector("html"))==null?void 0:o.dataset.wfSite)!=null?a:"0000","https://webflow.com/api/v1/form/"),r=new FormData(t);r.append("UTM",b);let n=new URLSearchParams({name:(u=t==null?void 0:t.getAttribute("name"))!=null?u:"form",source:window.location.href});for(let c of r.entries()){let m=`fields[${c[0]}]`;n.append(m,c[1])}return{...w,url:e.href,headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n.toString()}}function W(t){return{...w,url:t.getAttribute("action")||"",body:JSON.stringify({[t.getAttribute("name")||"form"]:Object.fromEntries(new FormData(t)),source:window.location.href,time:new Date().toISOString(),UTM:b})}}var T={actionnetwork:q,amnesty:B,djurensratt:R,mailchimp:z,profundo:M,webflow:Z,zapier:W,none:""};async function G(){let t=localStorage.getItem("crm_data"),e=document.querySelectorAll("[data-crm-patch]");!t||!e||e.forEach(r=>{r.style.cursor="pointer",r.addEventListener("click",async()=>{let n=r.getAttribute("data-crm-patch")||"",o=r.getAttribute("data-crm-patch-client")||"",a={};Array.from(r.attributes).forEach(m=>{m.name.startsWith("data-")&&(a[m.name]=m.value)});let u=document.querySelector("[data-load-petition]"),c=u?new FormData(u):new FormData;if(!T.hasOwnProperty(n)){St(n,o,a,c,t);return}if(n==="djurensratt"&&u){V(u,a);return}})})}async function St(t,e,r,n,o){let a=new URL("fcrm/",h.apiUrl).toString(),u={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({crm:t,...e?{client:e}:{},attributes:r,response:JSON.parse(o),body:{...Object.fromEntries(n)}})};try{let c=await fetch(a,{...u,keepalive:!0});return c.ok?await c.json():void 0}catch(c){console.error("P error: ",c);return}}function E(t,e){let r=new FormData;for(let[n,o]of new FormData(t))e.hasOwnProperty(n)?r.append(e[n],o):r.append(n,o);return r}var U=new URLSearchParams(window.location.search);function Et(){function t(r){let n=[...U.keys()].find(o=>o.toLowerCase().includes(r));return n&&U.get(n)||""}return{source:t("source").toLowerCase(),campaign:t("campaign").toLowerCase(),medium:t("medium").toLowerCase(),content:t("content").toLowerCase()}}var y=Et(),b=Array.from(U,([t,e])=>`${t.toLowerCase()}: ${e.toLowerCase()}`).join(", ");function Tt(t){let e={thisUrl:new URL(window.location.href),addUtm:!!t.dataset.redirectUtm||!0,submitButton:t.querySelector('input[type="submit"]'),submitText:""};e.submitText=e.submitButton&&e.submitButton.value||"";function r(s,l){let i=new FormData(l);return{method:"POST",headers:{"Content-Type":"application/json"},critical:!1,waitForResponse:!0,url:new URL(h.counterPath+s,h.apiUrl).toString(),body:JSON.stringify({form:"default",site_id:h.wfSiteId,last_person:i.get("given-name")||"",form_url:e.thisUrl})}}function n(s,l,i){let d=s.parentNode,g=d==null?void 0:d.querySelector(".w-form-done"),p=d==null?void 0:d.querySelector(".w-form-fail");l?(g&&(g.style.display="block"),p&&(p.style.display="none"),i&&o()):(g&&(g.style.display="none"),p&&(p.style.display="block"),e.submitButton&&(e.submitButton.value=e.submitText))}function o(){let s=t.getAttribute("redirect")||null;if(s)if(e.addUtm&&s){let l=new URL(s,e.thisUrl),i=new URLSearchParams(window.location.search);l.searchParams.forEach((g,p)=>{i.has(p)||i.set(p,g)});let d=l.origin+l.pathname+(i.toString()?"?"+i.toString():"");window.location.href=d}else window.location.href=s;else t.style.display="none",console.warn("No redirect defined")}async function a(s){return new Promise((l,i)=>{$.ajax({url:s.url,type:s.method,data:s.body,dataType:"jsonp",success:d=>{l(d)},error:(d,g,p)=>{i(p)}})})}async function u(s){let l={method:s.method,headers:s.headers,body:s.body};if(s.dataType==="jsonp")return a(s);if(s.waitForResponse)try{let i=await fetch(s.url,{...l});if(!i.ok)throw new Error(`Error fetching ${s.url}: ${i.statusText}`);return i.json()}catch(i){throw console.error("An error occurred:",i),i}else return fetch(s.url,{...l,keepalive:!0}),Promise.resolve()}function c(s){let l=[];if(s.forEach(i=>{if(i.status==="fulfilled"&&i.value){let d=i.value;I(d)||l.push(d)}}),l){let i=l.reduce((d,g)=>({...d,...g}),{});localStorage.setItem("crm_data",JSON.stringify(i))}}async function m(s,l){try{let i=await Promise.allSettled(s.map(g=>u(g))),d=!1;i.forEach((g,p)=>{g.status==="rejected"&&s[p].critical&&(d=!0)}),d?n(l,!1,!1):(c(i),n(l,!0,!0))}catch(i){console.error("Error in Promise.allSettled:",i),n(l,!1,!1)}}async function f(s){s.addEventListener("submit",async function(l){var x;l.preventDefault(),l.stopPropagation(),e.submitButton&&(e.submitButton.value=e.submitButton.dataset.wait||e.submitButton.value);let i=[],d=T,g=((x=s.dataset.crm)==null?void 0:x.toLowerCase())||"webflow",p=s.dataset.counterUpdate;if(g!=="none")if(g&&d.hasOwnProperty(g)){let S=d[g];i.push(S(s))}else i.push(J(s));p&&p!=="default"&&i.push(r(p,s)),i.length>0&&await m(i,s)})}return{handleForm:f}}function K(){let t=document.querySelectorAll("[data-crm]");for(let e of t)Tt(e).handleForm(e)}var F=class{constructor(){this.counters=new Map}async getCounter(e){if(this.counters.has(e))return this.counters.get(e);let r=new URL(h.counterPath+e,h.apiUrl),n=(async()=>{try{let a=await fetch(r);return a.ok?await a.json():void 0}catch{return}})();this.counters.set(e,n);let o=await n;return this.counters.delete(e),o}},v=new F;async function Q(){try{let t=await fetch(h.jsDelivrUrl);return t.ok?`v${(await t.json()).version}`:"latest"}catch{return"latest"}}function vt(){function t(c,m){return c>=m?100:Math.round(c/m*100)}function e(c){let m={350:50,500:100,2e3:250,5e3:500,2e4:2500,5e4:5e3,1e5:1e4,2e5:25e3,5e5:5e4,1e6:1e5},f=25e4,l=Object.keys(m).map(Number).find(d=>d>=c),i=l?m[l]:f;return Math.ceil(c*1.05/i)*i}function r(c,m){return c*1.05<m.target||!m.autoTarget?m.target:e(c)}function n(c,m,f){c.style.width=t(m,f)+"%"}function o(c,m,f){try{let s=new Intl.NumberFormat(f.locale,f.notation).format(m);c.textContent=s}catch{f.notation.useGrouping=!1,f.notation.notation="standard";let s=new Intl.NumberFormat(void 0,f.notation).format(m);c.textContent=s}}function a(c,m,f){m<=f.removeBelow&&(c.style.display="none"),m>=f.hideBelow&&(c.style.opacity="1")}async function u(c){var g;let m=c.dataset.counterName||"default",f={target:parseInt(c.dataset.counterTarget||"0",10),hideBelow:parseInt(c.dataset.counterHideBelow||"0"),removeBelow:parseInt(c.dataset.counterRemoveBelow||"0"),autoTarget:!!c.dataset.counterAutoTarget||!0,locale:c.dataset.counterLocale||document.documentElement.lang||"undefined",notation:{notation:((g=c.dataset.counterNotation)==null?void 0:g.toLowerCase())||"standard",useGrouping:!0}},s;if(m.toLowerCase()==="default")s=125;else{let p=await v.getCounter(m);p?s=p.count:s=0}if(c.classList.contains("counter-current-value"))o(c,s,f),a(c,s,f);else{let p=c.querySelectorAll(".counter-current-value");for(let x of p)o(x,s,f),a(x,s,f)}let l=r(s,f),i=c.querySelectorAll(".counter-target-value");for(let p of i)o(p,l,f),a(p,s,f);let d=c.querySelectorAll(".counterbar-limiter");for(let p of d)n(p,s,l);a(c,s,f)}return{processCounterElement:u}}function X(){let t=`
      .counter-target-value,
      .counter-current-value,
      .counter_container {
          opacity: 0;
          transition: opacity 0.7s;
      }
  `,e=document.createElement("style");e.textContent=t,document.head.appendChild(e)}function Y(){let t=document.querySelectorAll("[data-counter-name]"),e=vt();for(let r of t)e.processCounterElement(r)}var D=(t,e=!0)=>t.cloneNode(e);function P(t){t&&t.classList.contains("cloak")&&t.classList.remove("cloak")}function tt(){{let t=`.cloak { 
			opacity: 0;
			height: 0px;
      overflow: hidden;
			margin: 0;
      padding-top: 0;
      padding-bottom: 0;
		}`,e=document.createElement("style");e.textContent=t,document.head.appendChild(e)}}function et(){var c,m;let t=document.querySelectorAll("[data-counter-name]"),r=(m=(c=Array.from(t).find(f=>f.dataset.counterLocale))==null?void 0:c.dataset.counterLocale)!=null?m:document.documentElement.lang||"en";r.toLowerCase()==="none"&&(r=document.documentElement.lang||"en");function n(f,s){let l=D(s),i=l.querySelector('[data-template="last-person-name"]'),d=l.querySelector('[data-template="last-person-time"]');return i&&d&&(i.innerText=f.name,d.innerText=o(f.date,r)),l}function o(f,s){let l=new Date,i=new Date(f),d=new Date(i.getTime()-i.getTimezoneOffset()*6e4),g=Math.floor((l.getTime()-d.getTime())/1e3),p=new Intl.RelativeTimeFormat(s,{numeric:"auto"});if(g<60)return p.format(-g,"second");let x=Math.floor(g/60);if(x<60)return p.format(-x,"minute");let S=Math.floor(g/3600);if(S<12)return p.format(-S,"hour");let xt=Math.floor(g/86400);return p.format(-xt,"day")}function a(f){let s=f.last_person.names;return s.reverse(),s.filter((i,d,g)=>g.findIndex(p=>p.name===i.name)===d)}async function u(f,s){let l=s.querySelector('[data-template="last-person"]');if(!l)return;let i=l.parentElement;l.remove();let d=await v.getCounter(f);if(!d||!d.last_person||!d.last_person.names||d.last_person.names.length<2){i==null||i.remove();return}let p=a(d).map(x=>n(x,l));p.length>0&&i&&(P(i),i.append(...p)),p.forEach(x=>{setTimeout(function(){P(x)},100)})}t.forEach(f=>{let s=f.dataset.counterName||"default";u(s,f)})}function C(t){let e=JSON.parse(localStorage.getItem(t)||"{}");return Object.entries(e)}function nt(){var r;let t="data-clear-localstorage",e=(r=document.querySelector(`[${t}]`))==null?void 0:r.getAttribute(t);(e==null?void 0:e.toLowerCase())==="all"?(console.log("Clearing all local storage"),localStorage.clear()):e&&(console.log("Clearing local storage key:",e),localStorage.removeItem(e))}function rt(){function t(a){let u=C("forwardedform");O(u);function c(l){let i=Array.from(new URLSearchParams(window.location.search),([d,g])=>`${d}: ${g}`).join(", ");return l.find(([d])=>d==="utm")||l.push(["utm",i]),l}let m=c(u);function f(l){l.forEach(([i,d])=>{let g=document.createTextNode(d).textContent,p=`<input type="hidden" id="${i}" name="${i}" value="${g}">`;a.insertAdjacentHTML("afterbegin",p)})}f(m);function s(l){let i="",d=["first_name","first-name","firstname","first","fname","f-name","given_name","given-name","givenname","given"];l.forEach(([p,x])=>{d.includes(p.toLowerCase())&&(i=x)});let g=document.querySelectorAll("[data-insert-name]");g.length>0&&i!==""&&r(g,i)}s(m)}function e(a){let u=new URLSearchParams(window.location.search),c=Array.from(u,([s,l])=>`${s}: ${l}`),m=a.getAttribute("redirect");if(m){let s=m+(m!=null&&m.includes("?")?"&":"?")+u.toString();a.setAttribute("redirect",s),a.setAttribute("data-redirect",s)}a.addEventListener("change",()=>{f(a)}),a.addEventListener("input",()=>{f(a)});function f(s){let l=new FormData(s),i=c.join(", ");l.set("utm",i),localStorage.setItem("forwardedform",JSON.stringify(Object.fromEntries(l)))}}function r(a,u){let c={"no-space":u,"leading-space":"&nbsp;"+u,"trailing-space":u+"&nbsp;","double-space":"&nbsp;"+u+"&nbsp;"};a.forEach(m=>{let f=m.getAttribute("data-insert-name")||"leading-space";c.hasOwnProperty(f)&&(m.innerHTML=c[f])})}let n=document.querySelectorAll("[data-crm]");n.length>0&&n.forEach(function(a){e(a)});let o=document.querySelectorAll('[data-load-petition="true"]');o.length>0&&o.forEach(function(a){t(a)})}function ot(){document.querySelectorAll("[data-copy]").forEach(e=>{e.addEventListener("mouseover",function(){e.style.cursor="pointer"}),e.addEventListener("click",async function(){let r="",n=e.getAttribute("data-copy")||"";if((n==null?void 0:n.toLowerCase())==="url")r=window.location.href;else if((n==null?void 0:n.toLowerCase())==="prev-url")r=document.referrer||"";else{let o=document.getElementById(n);o!=null&&o.textContent?r=o.textContent:r=n||""}try{await navigator.clipboard.writeText(r),console.log("Copied to clipboard:",r.toString())}catch(o){console.error("Failed to copy: ",o)}})})}async function at(){let t=document.querySelectorAll("[data-js-version]");if(t.length<1)return;let e=document.querySelector('script[src$="agera.js"]'),r="";if(e){let{src:n}=e,o=n.match(/@([^/]+)/);if(o){let[,a]=o;r=a,r.toLowerCase().includes("latest")&&(r=await Q())}}r!==""&&t.forEach(n=>{n.innerText=r})}var st="data-insert-name";function Ct(t){let e="",r=["first_name","first-name","firstname","first","fname","f-name","given_name","given-name","givenname","given"];t.forEach(([o,a])=>{r.includes(o.toLowerCase())&&(e=a)});let n=document.querySelectorAll(`[${st}]`);n.length>0&&e!==""&&At(n,e)}function At(t,e){let r={"no-space":e,"leading-space":"&nbsp;"+e,"trailing-space":e+"&nbsp;","double-space":"&nbsp;"+e+"&nbsp;"};t.forEach(n=>{let o=n.getAttribute(st)||"leading-space";r.hasOwnProperty(o)&&(n.innerHTML=r[o])})}function it(){let t=C("forwardedform");Ct(t)}var Mt=typeof atob=="function";var k=typeof Buffer=="function",ct=typeof TextDecoder=="function"?new TextDecoder:void 0,pn=typeof TextEncoder=="function"?new TextEncoder:void 0,_t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Rt=Array.prototype.slice.call(_t),A=(t=>{let e={};return t.forEach((r,n)=>e[r]=n),e})(Rt),Ut=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,L=String.fromCharCode.bind(String),ut=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0));var lt=t=>t.replace(/[^A-Za-z0-9\+\/]/g,"");var Ft=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Dt=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),r=e-65536;return L((r>>>10)+55296)+L((r&1023)+56320);case 3:return L((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return L((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},Pt=t=>t.replace(Ft,Dt),kt=t=>{if(t=t.replace(/\s+/g,""),!Ut.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,r="",n,o;for(let a=0;a<t.length;)e=A[t.charAt(a++)]<<18|A[t.charAt(a++)]<<12|(n=A[t.charAt(a++)])<<6|(o=A[t.charAt(a++)]),r+=n===64?L(e>>16&255):o===64?L(e>>16&255,e>>8&255):L(e>>16&255,e>>8&255,e&255);return r},mt=Mt?t=>atob(lt(t)):k?t=>Buffer.from(t,"base64").toString("binary"):kt,Ht=k?t=>ut(Buffer.from(t,"base64")):t=>ut(mt(t).split("").map(e=>e.charCodeAt(0)));var Nt=k?t=>Buffer.from(t,"base64").toString("utf8"):ct?t=>ct.decode(Ht(t)):t=>Pt(mt(t)),jt=t=>lt(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),dt=t=>Nt(jt(t));function ft(){document.querySelectorAll("[data-insert-query]").forEach(e=>{let r=e.getAttribute("data-insert-query");if(r){let n=new URLSearchParams(window.location.search).get(r);n!==null&&(e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement?e.value=n.toString():e.textContent=n.toString())}})}function pt(){document.querySelectorAll("[data-insert-b64-query]").forEach(e=>{let r=e.getAttribute("data-insert-b64-query");if(r){let n=dt(new URLSearchParams(window.location.search).get(r)||"");n&&(e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement?e.value=n.toString():e.textContent=n.toString())}})}function gt(){function t(){let a=window.location.pathname.split("/").filter(c=>c.length===2),u=a.length>0?a[0]:"";return u!==""?"/"+u:u}function e(o){try{return new URL(o),!0}catch{return!1}}function r(o,a){if(o===null)return"";if(e(o)){let u=new URL(o);return u.pathname=a+u.pathname,u.toString()}return a+o}let n=document.querySelectorAll('[data-linguana-redirect="true"]');for(let o of n)o.getAttribute("redirect")&&o.setAttribute("redirect",r(o.getAttribute("redirect"),t())),o.getAttribute("data-redirect")&&o.setAttribute("data-redirect",r(o.getAttribute("data-redirect"),t()))}function yt(){let t=new URLSearchParams(window.location.search);document.querySelectorAll("[data-redirect]").forEach(r=>{let n=r.getAttribute("data-redirect");try{if(n){let o=new URL(n,document.baseURI),a=new URL(o.toString()),u=a.searchParams;t.forEach((c,m)=>{u.has(m)||u.set(m,c)}),r.setAttribute("data-redirect",a.toString())}}catch(o){console.error("An error occurred:",o)}})}function ht(){let t=document.querySelectorAll("*"),e=[],r=!0;if(t.forEach(n=>{let{attributes:o}=n;for(let a=0;a<o.length;a++){let u=o[a];u.name.startsWith("data-splitter-url")?e.push(u.value):u.name==="data-splitter-keep-query"&&u.value==="false"&&(r=!1)}}),e.length){let n=e[Math.floor(Math.random()*e.length)],o=window.location,a=r?new URL(n,o.origin).href+o.search:n;window.location.href=a}}function wt(){let t=[document.documentElement.lang||"en","en"];document.querySelectorAll("[data-insert-time]").forEach(n=>{n.innerText=Ot(n,t)}),document.querySelectorAll("[data-remaining-days-to]").forEach(n=>{n.innerText=It(n,t)})}function Ot(t,e){let r=new Date,n=t.getAttribute("data-insert-time"),o="";if((n==null?void 0:n.toLowerCase())==="year")o=r.getFullYear().toString();else if((n==null?void 0:n.toLowerCase())==="month")o=(r.getMonth()+1).toString();else if((n==null?void 0:n.toLowerCase())==="day")o=r.getDate().toString();else if((n==null?void 0:n.toLowerCase())==="date")o=r.toLocaleDateString(e);else if((n==null?void 0:n.toLowerCase())==="datetime")o=r.toLocaleString(e);else if((n==null?void 0:n.toLowerCase())==="time")o=r.toLocaleTimeString(e);else return"";return o}function It(t,e){let r=new Date,n=t.getAttribute("data-remaining-days-to");try{if(n){let o=new Date(n),a=Math.round((o.getTime()-r.getTime())/(1e3*60*60*24));return new Intl.RelativeTimeFormat(e,{numeric:"auto"}).format(a,"day")}}catch(o){console.error("remainingDays error:",o)}return""}function Bt(){X(),tt(),document.addEventListener("DOMContentLoaded",()=>{gt(),G(),rt(),Y(),K(),et(),it(),wt(),yt(),at(),ot(),ft(),pt(),ht(),nt()})}window.agera||(window.agera=!0,Bt());})();
