"use strict";(()=>{var L={apiUrl:"https://utils-api.vercel.app/api/",counterPath:"counter/",jsDelivrUrl:"https://data.jsdelivr.com/v1/packages/gh/ageraplattformen/agera.js/resolved?specifier=latest"},S={method:"POST",headers:{"Content-Type":"application/json"},critical:!0,waitForResponse:!0};function wt(t){document.querySelectorAll("[data-profundo-client]").forEach(n=>{n.addEventListener("click",async()=>{let o=n.dataset.activitytypeId||"",a=n.dataset.classificationId||"",m=n.dataset.profundoText||"",s=F(void 0,{client:n.dataset.profundoClient||"not_provided",client_url:n.dataset.profundoUrl||"not_provided",country_code:n.dataset.countryCode||"",name:{name_id:Number(t)},register_id:n.dataset.registerId||"",campaign_id:Number(n.dataset.campaignId)||void 0,activity:{...o?{activitytype_id:o}:{activitytype_id:""},...a?{classification_id:a}:{},...m?{shortText:m}:{},shorttext:n.dataset.profundoText||""}});await r(s)})});async function r(n){try{let o=await fetch(n.url,{method:n.method,headers:n.headers,body:n.body});return o.ok?await o.json():void 0}catch(o){console.log("P error: ",o);return}}}function I(t,e){let r=t["data.name_id"];t&&r&&(wt(r.toString()),e==null||e.push(["name_id",r.toString()]))}function F(t,e){let n=t?v(t,{"given-name":"firstname","family-name":"lastname",email:"email",tel:"mobile","street-adress":"address","postal-code":"zip",country:"country_id"}):void 0,o=e==null?void 0:e.name.name_id;n||(n=new FormData);let a=[];for(let[h,i]of n.entries())if(h.startsWith("infotype")){let c=parseInt(i);isNaN(c)||a.push(c),n.delete(h)}let m=(t==null?void 0:t.getAttribute("data-country-code"))||(e==null?void 0:e.country_code)||"";!(n!=null&&n.get("country"))&&m&&n.append("country",m);let s=(e==null?void 0:e.activity.shorttext)||(t==null?void 0:t.dataset.profundoText),f=(t==null?void 0:t.dataset.registerId)||(e==null?void 0:e.register_id),l=(t==null?void 0:t.dataset.campaignId)||(e==null?void 0:e.campaign_id),u=(t==null?void 0:t.dataset.classificationId)||(e==null?void 0:e.activity.classification_id)||"SI",p=n&&{...Object.fromEntries(n)};o&&(p.name_id=Number(o));let g={...w.campaign?{text1:w.campaign}:"",...w.source?{text2:w.source}:"",...w.medium?{text3:w.medium}:"",...w.content?{text4:w.content}:""};return{...S,critical:!o,url:new URL("profundo/",L.apiUrl).toString(),body:JSON.stringify({client:(t==null?void 0:t.dataset.client)||(e==null?void 0:e.client)||"not_provided",client_url:(t==null?void 0:t.getAttribute("action"))||(e==null?void 0:e.client_url)||"",...m?{country_code:m}:{},referrer:window.location.href,body:{name:p,...f?{register_id:f}:{},...l?{campaign_id:l}:{},...a?{infotype_id:a[0]}:{},activity:{...o?{}:{...g},...s?{shorttext:s}:{},activitytype_id:(t==null?void 0:t.dataset.activitytypeId)||(e==null?void 0:e.activity.activitytype_id)||"UN",...u?{classification_id:u}:{}}}})}}var M=(t,e)=>{let r={};for(let n in t){let o=t[n],a=e?`${e}.${n}`:n;typeof o=="object"&&o!==null?Object.assign(r,M(o,a)):r[a]=o}return r};function B(t){function e(){let n=localStorage.getItem("crm_data");return n||localStorage.removeItem("crm_data"),JSON.parse(n)}let r=M(e());r&&I(r,t)}function j(t){return typeof t=="object"&&t.hasOwnProperty("count")&&typeof t.count=="number"&&t.hasOwnProperty("name")&&typeof t.name=="string"}async function q(){let t=localStorage.getItem("crm_data"),e=document.querySelectorAll("[data-crm-patch]");!t||!e||e.forEach(r=>{r.style.cursor="pointer",r.addEventListener("click",async()=>{let n=r.getAttribute("data-crm-patch"),o=r.getAttribute("data-crm-patch-client"),a={};Array.from(r.attributes).forEach(u=>{u.name.startsWith("data-")&&(a[u.name]=u.value)});let m=document.querySelector("[data-load-petition]"),s=m?new FormData(m):new FormData,f=new URL("fcrm/",L.apiUrl).toString(),l={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({crm:n,...o?{client:o}:{},attributes:a,response:JSON.parse(t),body:{...Object.fromEntries(s)}})};try{let u=await fetch(f,{...l,keepalive:!0});return u.ok?await u.json():void 0}catch(u){console.error("P error: ",u);return}})})}function v(t,e){let r=new FormData;for(let[n,o]of new FormData(t))e.hasOwnProperty(n)?r.append(e[n],o):r.append(n,o);return r}var R=new URLSearchParams(window.location.search);function xt(){function t(r){let n=[...R.keys()].find(o=>o.toLowerCase().includes(r));return n&&R.get(n)||""}return{source:t("source").toLowerCase(),campaign:t("campaign").toLowerCase(),medium:t("medium").toLowerCase(),content:t("content").toLowerCase()}}var w=xt(),T=Array.from(R,([t,e])=>`${t.toLowerCase()}: ${e.toLowerCase()}`).join(", ");function V(t){var a;let e=new FormData(t),r={};t&&Array.from(t.attributes).forEach(m=>{m.name.startsWith("data-")&&(r[m.name]=m.value)});let n={utms:{...w.campaign?{utm_campaign:w.campaign}:"",...w.source?{utm_source:w.source}:"",...w.medium?{utm_medium:w.medium}:"",...w.content?{utm_content:w.content}:""}};return{...S,waitForResponse:((a=t==null?void 0:t.dataset.waitForResponse)==null?void 0:a.toLowerCase())!=="false",url:new URL("fcrm/",L.apiUrl).toString(),body:JSON.stringify({crm:(t==null?void 0:t.dataset.crm)||"",...t!=null&&t.dataset.crmClient?{client:t.dataset.crmClient}:{},...t!=null&&t.action?{endpoint:t.action}:{},body:{...Object.fromEntries(e)},...n?{...n}:{},source:window.location.href,...r?{attributes:{...r}}:{}})}}function J(t){var a;let r=v(t,{"given-name":"FNAME","family-name":"LNAME",email:"EMAIL",tel:"PHONE","street-adress":"ADDRESS","postal-code":"POSTALCODE","adress-level2":"REGION",country:"COUNTRY"}),n=(t==null?void 0:t.getAttribute("data-mailchimp-tags"))||"";n!==""&&r.append("tags",n);let o=new URLSearchParams;for(let[m,s]of r.entries())(typeof s=="string"||typeof s=="number")&&o.append(m,s.toString());return o.append("UTM",T),{...S,url:((a=t.getAttribute("action"))==null?void 0:a.replace("post?","post-json?"))+"&c=?",headers:{"Content-Type":"application/x-www-form-urlencoded"},dataType:"jsonp",body:o.toString()}}var z,W,Z,K,A={thisUrl:new URL(window.location.href),wfSiteId:(W=(z=document.querySelector("html"))==null?void 0:z.dataset.wfSite)!=null?W:"0000",wfUrl:new URL((K=(Z=document.querySelector("html"))==null?void 0:Z.dataset.wfSite)!=null?K:"0000","https://webflow.com/api/v1/form/")},P={mailchimp:J,webFlow(t){var n;let e=new FormData(t);e.append("UTM",T);let r=new URLSearchParams({name:(n=t==null?void 0:t.getAttribute("name"))!=null?n:"form",source:window.location.href});for(let o of e.entries()){let a=`fields[${o[0]}]`;r.append(a,o[1])}return{...S,url:A.wfUrl.href,headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r.toString()}},zapier(t){return{...S,url:t.getAttribute("action")||"",body:JSON.stringify({[t.getAttribute("name")||"form"]:Object.fromEntries(new FormData(t)),source:A.thisUrl.hostname+A.thisUrl.pathname,time:new Date().toISOString(),UTM:T})}},amnesty(t){let e=(t==null?void 0:t.getAttribute("data-country-code"))||"";return{...S,url:new URL("amnesty/",L.apiUrl).toString(),body:JSON.stringify({form:{...Object.fromEntries(new FormData(t)),action_id:t.dataset.actionId||"9999",sign_method:t.dataset.signMethod||"agera-default"},UTM:T,site_id:A.wfSiteId,...e?{country_code:e}:{}})}},actionNetwork(t){let e=new FormData(t),r=[],n=[],o={};for(let[a,m]of e.entries())a.startsWith("tags")?r.push(m):a.startsWith("language")?n.push(m):["given-name","family-name","email","tel","postal-code","street-address","address-level2","country"].includes(a)||(o[a]=m);return{...S,url:t.getAttribute("action")||"",body:JSON.stringify({person:{given_name:e.get("given-name"),family_name:e.get("family-name"),email_addresses:[{address:e.get("email")}],phone_numbers:[{number:e.get("tel")||""}],postal_addresses:[{postal_code:e.get("postal-code")||"",address_lines:e.get("street-address")||"",region:e.get("adress-level2")||"",country:e.get("country")||""}]},add_tags:[...r],"action_network:referrer_data":{source:w.source?w.source.toString():"",website:A.thisUrl.hostname+A.thisUrl.pathname},languages_spoken:[...n],custom_fields:o})}},profundo:F,fcrm:V};function bt(t){var u,p,g,h;let e={thisUrl:new URL(window.location.href),wfSiteId:(p=(u=document.querySelector("html"))==null?void 0:u.dataset.wfSite)!=null?p:"0000",wfUrl:new URL((h=(g=document.querySelector("html"))==null?void 0:g.dataset.wfSite)!=null?h:"0000","https://webflow.com/api/v1/form/"),redirect:t.getAttribute("redirect")||null,addUtm:!!t.dataset.redirectUtm||!0,utmSource:new URLSearchParams(window.location.search).get("utm_source")||new URLSearchParams(window.location.search).get("source"),submitButton:t.querySelector('input[type="submit"]'),submitText:"",niceUtms:Array.from(new URLSearchParams(window.location.search),([i,c])=>`${i}: ${c}`).join(", ")};e.submitText=e.submitButton&&e.submitButton.value||"";function r(i,c){let d=new FormData(c);return{method:"POST",headers:{"Content-Type":"application/json"},critical:!1,waitForResponse:!0,url:new URL(L.counterPath+i,L.apiUrl).toString(),body:JSON.stringify({form:"default",site_id:e.wfSiteId,last_person:d.get("given-name")||"",form_url:e.thisUrl})}}function n(i,c,d){let y=i.parentNode,x=y==null?void 0:y.querySelector(".w-form-done"),b=y==null?void 0:y.querySelector(".w-form-fail");c?(x&&(x.style.display="block"),b&&(b.style.display="none"),d&&o()):(x&&(x.style.display="none"),b&&(b.style.display="block"),e.submitButton&&(e.submitButton.value=e.submitText))}function o(){let i=t.getAttribute("redirect")||null;if(i)if(e.addUtm&&i){let c=new URL(i,e.thisUrl),d=new URLSearchParams(window.location.search);c.searchParams.forEach((x,b)=>{d.has(b)||d.set(b,x)});let y=c.origin+c.pathname+(d.toString()?"?"+d.toString():"");window.location.href=y}else window.location.href=i;else t.style.display="none",console.warn("No redirect defined")}async function a(i){return new Promise((c,d)=>{$.ajax({url:i.url,type:i.method,data:i.body,dataType:"jsonp",success:y=>{c(y)},error:(y,x,b)=>{d(b)}})})}async function m(i){let c={method:i.method,headers:i.headers,body:i.body};if(i.dataType==="jsonp")return a(i);if(i.waitForResponse)try{let d=await fetch(i.url,{...c});if(!d.ok)throw new Error(`Error fetching ${i.url}: ${d.statusText}`);return d.json()}catch(d){throw console.error("An error occurred:",d),d}else return fetch(i.url,{...c,keepalive:!0}),Promise.resolve()}function s(i){let c=[];if(i.forEach(d=>{if(d.status==="fulfilled"&&d.value){let y=d.value;j(y)||c.push(y)}}),c){let d=c.reduce((y,x)=>({...y,...x}),{});localStorage.setItem("crm_data",JSON.stringify(d))}}async function f(i,c){try{let d=await Promise.allSettled(i.map(x=>m(x))),y=!1;d.forEach((x,b)=>{x.status==="rejected"&&i[b].critical&&(y=!0)}),y?n(c,!1,!1):(s(d),n(c,!0,!0))}catch(d){console.error("Error in Promise.allSettled:",d),n(c,!1,!1)}}async function l(i){i.addEventListener("submit",async function(c){var O;c.preventDefault(),c.stopPropagation(),e.submitButton&&(e.submitButton.value=e.submitButton.dataset.wait||e.submitButton.value);let d=[],y={webflow:"webFlow",actionnetwork:"actionNetwork",mailchimp:"mailchimp",zapier:"zapier",amnesty:"amnesty",profundo:"profundo"},x=((O=i.dataset.crm)==null?void 0:O.toLowerCase())||"webflow",b=i.dataset.counterUpdate;if(x!=="none")if(x&&y.hasOwnProperty(x)){let yt=y[x];d.push(P[yt](i))}else d.push(P.fcrm(i));b&&b!=="default"&&d.push(r(b,i)),d.length>0&&await f(d,i)})}return{handleForm:l}}function Q(){let t=document.querySelectorAll("[data-crm]");for(let e of t)bt(e).handleForm(e)}var D=class{constructor(){this.counters=new Map}async getCounter(e){if(this.counters.has(e))return this.counters.get(e);let r=new URL(L.counterPath+e,L.apiUrl),n=(async()=>{try{let a=await fetch(r);return a.ok?await a.json():void 0}catch{return}})();this.counters.set(e,n);let o=await n;return this.counters.delete(e),o}},C=new D;async function G(){try{let t=await fetch(L.jsDelivrUrl);return t.ok?`v${(await t.json()).version}`:"latest"}catch{return"latest"}}function Lt(){function t(s,f){return s>=f?100:Math.round(s/f*100)}function e(s){let f={350:50,500:100,2e3:250,5e3:500,2e4:2500,5e4:5e3,1e5:1e4,2e5:25e3,5e5:5e4,1e6:1e5},l=25e4,p=Object.keys(f).map(Number).find(h=>h>=s),g=p?f[p]:l;return Math.ceil(s*1.05/g)*g}function r(s,f){return s*1.05<f.target||!f.autoTarget?f.target:e(s)}function n(s,f,l){s.style.width=t(f,l)+"%"}function o(s,f,l){try{let u=new Intl.NumberFormat(l.locale,l.notation).format(f);s.textContent=u}catch{l.notation.useGrouping=!1,l.notation.notation="standard";let u=new Intl.NumberFormat(void 0,l.notation).format(f);s.textContent=u}}function a(s,f,l){f<=l.removeBelow&&(s.style.display="none"),f>=l.hideBelow&&(s.style.opacity="1")}async function m(s){var i;let f=s.dataset.counterName||"default",l={target:parseInt(s.dataset.counterTarget||"0",10),hideBelow:parseInt(s.dataset.counterHideBelow||"0"),removeBelow:parseInt(s.dataset.counterRemoveBelow||"0"),autoTarget:!!s.dataset.counterAutoTarget||!0,locale:s.dataset.counterLocale||document.documentElement.lang||"undefined",notation:{notation:((i=s.dataset.counterNotation)==null?void 0:i.toLowerCase())||"standard",useGrouping:!0}},u;if(f.toLowerCase()==="default")u=125;else{let c=await C.getCounter(f);c?u=c.count:u=0}if(s.classList.contains("counter-current-value"))o(s,u,l),a(s,u,l);else{let c=s.querySelectorAll(".counter-current-value");for(let d of c)o(d,u,l),a(d,u,l)}let p=r(u,l),g=s.querySelectorAll(".counter-target-value");for(let c of g)o(c,p,l),a(c,u,l);let h=s.querySelectorAll(".counterbar-limiter");for(let c of h)n(c,u,p);a(s,u,l)}return{processCounterElement:m}}function Y(){let t=`
      .counter-target-value,
      .counter-current-value,
      .counter_container {
          opacity: 0;
          transition: opacity 0.7s;
      }
  `,e=document.createElement("style");e.textContent=t,document.head.appendChild(e)}function X(){let t=document.querySelectorAll("[data-counter-name]"),e=Lt();for(let r of t)e.processCounterElement(r)}var H=(t,e=!0)=>t.cloneNode(e);function k(t){t&&t.classList.contains("cloak")&&t.classList.remove("cloak")}function tt(){{let t=`.cloak { 
			opacity: 0;
			height: 0px;
      overflow: hidden;
			margin: 0;
      padding-top: 0;
      padding-bottom: 0;
		}`,e=document.createElement("style");e.textContent=t,document.head.appendChild(e)}}function et(){var s,f;let t=document.querySelectorAll("[data-counter-name]"),r=(f=(s=Array.from(t).find(l=>l.dataset.counterLocale))==null?void 0:s.dataset.counterLocale)!=null?f:document.documentElement.lang||"en";r.toLowerCase()==="none"&&(r=document.documentElement.lang||"en");function n(l,u){let p=H(u),g=p.querySelector('[data-template="last-person-name"]'),h=p.querySelector('[data-template="last-person-time"]');return g&&h&&(g.innerText=l.name,h.innerText=o(l.date,r)),p}function o(l,u){let p=new Date,g=new Date(l),h=new Date(g.getTime()-g.getTimezoneOffset()*6e4),i=Math.floor((p.getTime()-h.getTime())/1e3),c=new Intl.RelativeTimeFormat(u,{numeric:"auto"});if(i<60)return c.format(-i,"second");let d=Math.floor(i/60);if(d<60)return c.format(-d,"minute");let y=Math.floor(i/3600);if(y<12)return c.format(-y,"hour");let x=Math.floor(i/86400);return c.format(-x,"day")}function a(l){let u=l.last_person.names;return u.reverse(),u.filter((g,h,i)=>i.findIndex(c=>c.name===g.name)===h)}async function m(l,u){let p=u.querySelector('[data-template="last-person"]');if(!p)return;let g=p.parentElement;p.remove();let h=await C.getCounter(l);if(!h||!h.last_person||!h.last_person.names||h.last_person.names.length<2){g==null||g.remove();return}let c=a(h).map(d=>n(d,p));c.length>0&&g&&(k(g),g.append(...c)),c.forEach(d=>{setTimeout(function(){k(d)},100)})}t.forEach(l=>{let u=l.dataset.counterName||"default";m(u,l)})}function _(t){let e=JSON.parse(localStorage.getItem(t)||"{}");return Object.entries(e)}function nt(){function t(a){let m=_("forwardedform");B(m);function s(p){let g=Array.from(new URLSearchParams(window.location.search),([h,i])=>`${h}: ${i}`).join(", ");return p.find(([h])=>h==="utm")||p.push(["utm",g]),p}let f=s(m);function l(p){p.forEach(([g,h])=>{let i=document.createTextNode(h).textContent,c=`<input type="hidden" id="${g}" name="${g}" value="${i}">`;a.insertAdjacentHTML("afterbegin",c)})}l(f);function u(p){let g="",h=["first_name","first-name","firstname","first","fname","f-name","given_name","given-name","givenname","given"];p.forEach(([c,d])=>{h.includes(c.toLowerCase())&&(g=d)});let i=document.querySelectorAll("[data-insert-name]");i.length>0&&g!==""&&r(i,g)}u(f)}function e(a){let m=new URLSearchParams(window.location.search),s=Array.from(m,([u,p])=>`${u}: ${p}`),f=a.getAttribute("redirect");if(f){let u=f+(f!=null&&f.includes("?")?"&":"?")+m.toString();a.setAttribute("redirect",u),a.setAttribute("data-redirect",u)}a.addEventListener("change",()=>{l(a)}),a.addEventListener("input",()=>{l(a)});function l(u){let p=new FormData(u),g=s.join(", ");p.set("utm",g),localStorage.setItem("forwardedform",JSON.stringify(Object.fromEntries(p)))}}function r(a,m){let s={"no-space":m,"leading-space":"&nbsp;"+m,"trailing-space":m+"&nbsp;","double-space":"&nbsp;"+m+"&nbsp;"};a.forEach(f=>{let l=f.getAttribute("data-insert-name")||"leading-space";s.hasOwnProperty(l)&&(f.innerHTML=s[l])})}let n=document.querySelectorAll("[data-crm]");n.length>0&&n.forEach(function(a){e(a)});let o=document.querySelectorAll('[data-load-petition="true"]');o.length>0&&o.forEach(function(a){t(a)})}function rt(){document.querySelectorAll("[data-copy]").forEach(e=>{e.addEventListener("mouseover",function(){e.style.cursor="pointer"}),e.addEventListener("click",async function(){let r="",n=e.getAttribute("data-copy")||"";if((n==null?void 0:n.toLowerCase())==="url")r=window.location.href;else if((n==null?void 0:n.toLowerCase())==="prev-url")r=document.referrer||"";else{let o=document.getElementById(n);o!=null&&o.textContent?r=o.textContent:r=n||""}try{await navigator.clipboard.writeText(r),console.log("Copied to clipboard:",r.toString())}catch(o){console.error("Failed to copy: ",o)}})})}async function ot(){let t=document.querySelectorAll("[data-js-version]");if(t.length<1)return;let e=document.querySelector('script[src$="agera.js"]'),r="";if(e){let{src:n}=e,o=n.match(/@([^/]+)/);if(o){let[,a]=o;r=a,r.toLowerCase().includes("latest")&&(r=await G())}}r!==""&&t.forEach(n=>{n.innerText=r})}var at="data-insert-name";function St(t){let e="",r=["first_name","first-name","firstname","first","fname","f-name","given_name","given-name","givenname","given"];t.forEach(([o,a])=>{r.includes(o.toLowerCase())&&(e=a)});let n=document.querySelectorAll(`[${at}]`);n.length>0&&e!==""&&Et(n,e)}function Et(t,e){let r={"no-space":e,"leading-space":"&nbsp;"+e,"trailing-space":e+"&nbsp;","double-space":"&nbsp;"+e+"&nbsp;"};t.forEach(n=>{let o=n.getAttribute(at)||"leading-space";r.hasOwnProperty(o)&&(n.innerHTML=r[o])})}function st(){let t=_("forwardedform");St(t)}var Tt=typeof atob=="function";var N=typeof Buffer=="function",it=typeof TextDecoder=="function"?new TextDecoder:void 0,$e=typeof TextEncoder=="function"?new TextEncoder:void 0,At="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",vt=Array.prototype.slice.call(At),U=(t=>{let e={};return t.forEach((r,n)=>e[r]=n),e})(vt),Ct=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,E=String.fromCharCode.bind(String),ct=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0));var ut=t=>t.replace(/[^A-Za-z0-9\+\/]/g,"");var _t=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Ut=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),r=e-65536;return E((r>>>10)+55296)+E((r&1023)+56320);case 3:return E((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return E((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},Ft=t=>t.replace(_t,Ut),Mt=t=>{if(t=t.replace(/\s+/g,""),!Ct.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,r="",n,o;for(let a=0;a<t.length;)e=U[t.charAt(a++)]<<18|U[t.charAt(a++)]<<12|(n=U[t.charAt(a++)])<<6|(o=U[t.charAt(a++)]),r+=n===64?E(e>>16&255):o===64?E(e>>16&255,e>>8&255):E(e>>16&255,e>>8&255,e&255);return r},lt=Tt?t=>atob(ut(t)):N?t=>Buffer.from(t,"base64").toString("binary"):Mt,Rt=N?t=>ct(Buffer.from(t,"base64")):t=>ct(lt(t).split("").map(e=>e.charCodeAt(0)));var Pt=N?t=>Buffer.from(t,"base64").toString("utf8"):it?t=>it.decode(Rt(t)):t=>Ft(lt(t)),Dt=t=>ut(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),mt=t=>Pt(Dt(t));function dt(){document.querySelectorAll("[data-insert-query]").forEach(e=>{let r=e.getAttribute("data-insert-query");if(r){let n=new URLSearchParams(window.location.search).get(r);n!==null&&(e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement?e.value=n.toString():e.textContent=n.toString())}})}function ft(){document.querySelectorAll("[data-insert-b64-query]").forEach(e=>{let r=e.getAttribute("data-insert-b64-query");if(r){let n=mt(new URLSearchParams(window.location.search).get(r)||"");n&&(e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement?e.value=n.toString():e.textContent=n.toString())}})}function pt(){function t(){let a=window.location.pathname.split("/").filter(s=>s.length===2),m=a.length>0?a[0]:"";return m!==""?"/"+m:m}function e(o){try{return new URL(o),!0}catch{return!1}}function r(o,a){if(o===null)return"";if(e(o)){let m=new URL(o);return m.pathname=a+m.pathname,m.toString()}return a+o}let n=document.querySelectorAll('[data-linguana-redirect="true"]');for(let o of n)o.getAttribute("redirect")&&o.setAttribute("redirect",r(o.getAttribute("redirect"),t())),o.getAttribute("data-redirect")&&o.setAttribute("data-redirect",r(o.getAttribute("data-redirect"),t()))}function gt(){let t=new URLSearchParams(window.location.search);document.querySelectorAll("[data-redirect]").forEach(r=>{let n=r.getAttribute("data-redirect");try{if(n){let o=new URL(n,document.baseURI),a=new URL(o.toString()),m=a.searchParams;t.forEach((s,f)=>{m.has(f)||m.set(f,s)}),r.setAttribute("data-redirect",a.toString())}}catch(o){console.error("An error occurred:",o)}})}function ht(){let t=[document.documentElement.lang||"en","en"];document.querySelectorAll("[data-insert-time]").forEach(n=>{n.innerText=Ht(n,t)}),document.querySelectorAll("[data-remaining-days-to]").forEach(n=>{n.innerText=kt(n,t)})}function Ht(t,e){let r=new Date,n=t.getAttribute("data-insert-time"),o="";if((n==null?void 0:n.toLowerCase())==="year")o=r.getFullYear().toString();else if((n==null?void 0:n.toLowerCase())==="month")o=(r.getMonth()+1).toString();else if((n==null?void 0:n.toLowerCase())==="day")o=r.getDate().toString();else if((n==null?void 0:n.toLowerCase())==="date")o=r.toLocaleDateString(e);else if((n==null?void 0:n.toLowerCase())==="datetime")o=r.toLocaleString(e);else if((n==null?void 0:n.toLowerCase())==="time")o=r.toLocaleTimeString(e);else return"";return o}function kt(t,e){let r=new Date,n=t.getAttribute("data-remaining-days-to");try{if(n){let o=new Date(n),a=Math.round((o.getTime()-r.getTime())/(1e3*60*60*24));return new Intl.RelativeTimeFormat(e,{numeric:"auto"}).format(a,"day")}}catch(o){console.error("remainingDays error:",o)}return""}function Ot(){Y(),tt(),document.addEventListener("DOMContentLoaded",()=>{pt(),q(),nt(),X(),Q(),et(),st(),ht(),gt(),ot(),rt(),dt(),ft()})}window.agera||(window.agera=!0,Ot());})();
